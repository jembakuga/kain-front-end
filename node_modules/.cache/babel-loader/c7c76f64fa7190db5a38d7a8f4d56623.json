{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/**\n * PdfResources.ts class for EJ2-PDF\n */\n\n\nimport { PdfDictionary } from './../primitives/pdf-dictionary';\nimport { TemporaryDictionary } from './../collections/object-object-pair/dictionary';\nimport { PdfName } from './../primitives/pdf-name';\nimport { PdfArray } from './../primitives/pdf-array';\nimport { PdfReferenceHolder } from './../primitives/pdf-reference';\nimport { PdfCrossTable } from './../input-output/pdf-cross-table';\nimport { PdfFont } from './fonts/pdf-font';\nimport { PdfTemplate } from './figures/pdf-template';\nimport { PdfBrush } from './brushes/pdf-brush';\nimport { PdfTransparency } from './pdf-transparency';\nimport { PdfBitmap } from './../graphics/images/pdf-bitmap';\nimport { PdfImage } from './../graphics/images/pdf-image';\n/**\n * `PdfResources` class used to set resource contents like font, image.\n * @private\n */\n\nvar PdfResources =\n/** @class */\nfunction (_super) {\n  __extends(PdfResources, _super);\n\n  function PdfResources(baseDictionary) {\n    var _this = _super.call(this, baseDictionary) || this;\n    /**\n     * Dictionary for the `properties names`.\n     * @private\n     */\n\n\n    _this.properties = new PdfDictionary();\n    return _this;\n  }\n\n  Object.defineProperty(PdfResources.prototype, \"names\", {\n    //Properties\n\n    /**\n     * Gets the `font names`.\n     * @private\n     */\n    get: function () {\n      return this.getNames();\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfResources.prototype, \"document\", {\n    /**\n     * Get or set the `page document`.\n     * @private\n     */\n    get: function () {\n      return this.pdfDocument;\n    },\n    set: function (value) {\n      this.pdfDocument = value;\n    },\n    enumerable: true,\n    configurable: true\n  }); //Public Methods\n\n  /**\n   * `Generates name` for the object and adds to the resource if the object is new.\n   * @private\n   */\n\n  PdfResources.prototype.getName = function (obj) {\n    var primitive = obj.element;\n    var name = null;\n\n    if (this.names.containsKey(primitive)) {\n      name = this.names.getValue(primitive);\n    } // Object is new.\n\n\n    if (name == null) {\n      var sName = this.generateName();\n      name = new PdfName(sName);\n      this.names.setValue(primitive, name);\n\n      if (obj instanceof PdfFont) {\n        this.add(obj, name);\n      } else if (obj instanceof PdfTemplate) {\n        this.add(obj, name);\n      } else if (obj instanceof PdfTransparency) {\n        this.add(obj, name);\n      } else if (obj instanceof PdfImage || obj instanceof PdfBitmap) {\n        this.add(obj, name);\n      }\n    }\n\n    return name;\n  };\n  /**\n   * Gets `resource names` to font dictionaries.\n   * @private\n   */\n\n\n  PdfResources.prototype.getNames = function () {\n    if (this.pdfNames == null) {\n      this.pdfNames = new TemporaryDictionary();\n    }\n\n    var fonts = this.items.getValue(this.dictionaryProperties.font);\n\n    if (fonts != null) {\n      var reference = fonts;\n      var dictionary = fonts;\n      dictionary = PdfCrossTable.dereference(fonts);\n    }\n\n    return this.pdfNames;\n  };\n  /**\n   * Add `RequireProcedureSet` into procset array.\n   * @private\n   */\n\n\n  PdfResources.prototype.requireProcedureSet = function (procedureSetName) {\n    if (procedureSetName == null) {\n      throw new Error('ArgumentNullException:procedureSetName');\n    }\n\n    var procSets = this.items.getValue(this.dictionaryProperties.procset);\n\n    if (procSets == null) {\n      procSets = new PdfArray();\n      this.items.setValue(this.dictionaryProperties.procset, procSets);\n    }\n\n    var name = new PdfName(procedureSetName);\n\n    if (!procSets.contains(name)) {\n      procSets.add(name);\n    }\n  }; //Helper Methods\n\n  /**\n   * `Remove font` from array.\n   * @private\n   */\n\n\n  PdfResources.prototype.removeFont = function (name) {\n    var key = null;\n    var keys = this.pdfNames.keys();\n\n    for (var index = 0; index < this.pdfNames.size(); index++) {\n      if (this.pdfNames.getValue(keys[index]) === new PdfName(name)) {\n        key = keys[index];\n        break;\n      }\n    }\n\n    if (key != null) {\n      this.pdfNames.remove(key);\n    }\n  };\n  /**\n   * Generates `Unique string name`.\n   * @private\n   */\n\n\n  PdfResources.prototype.generateName = function () {\n    var name = Guid.getNewGuidString();\n    return name;\n  };\n\n  PdfResources.prototype.add = function (arg1, arg2) {\n    if (arg1 instanceof PdfFont) {\n      var dictionary = null;\n      var fonts = this.items.getValue(this.dictionaryProperties.font);\n\n      if (fonts != null) {\n        var reference = fonts;\n        dictionary = fonts;\n        dictionary = fonts;\n      } else {\n        dictionary = new PdfDictionary();\n        this.items.setValue(this.dictionaryProperties.font, dictionary);\n      }\n\n      dictionary.items.setValue(arg2.value, new PdfReferenceHolder(arg1.element));\n    } else if (arg1 instanceof PdfTemplate) {\n      var xobjects = void 0;\n      xobjects = this.items.getValue(this.dictionaryProperties.xObject); // Create fonts dictionary.\n\n      if (xobjects == null) {\n        xobjects = new PdfDictionary();\n        this.items.setValue(this.dictionaryProperties.xObject, xobjects);\n      }\n\n      xobjects.items.setValue(arg2.value, new PdfReferenceHolder(arg1.element));\n    } else if (arg1 instanceof PdfBrush) {// let savable : IPdfPrimitive = (arg1 as IPdfWrapper).Element;\n      // if (savable != null)\n      // {\n      //     let pattern : PdfDictionary = this.Items.getValue(this.dictionaryProperties.pattern) as PdfDictionary;\n      //     // Create a new pattern dictionary.\n      //     if (pattern == null) {\n      //         pattern = new PdfDictionary();\n      //         this.Items.setValue(this.dictionaryProperties.pattern, pattern);\n      //     }\n      //     pattern.Items.setValue(name, new PdfReferenceHolder(savable));\n      // }\n    } else if (arg1 instanceof PdfTransparency) {\n      var savable = arg1.element;\n      var transDic = null;\n      transDic = this.items.getValue(this.dictionaryProperties.extGState); // Create a new pattern dictionary.\n\n      if (transDic == null) {\n        transDic = new PdfDictionary();\n        this.items.setValue(this.dictionaryProperties.extGState, transDic);\n      }\n\n      transDic.items.setValue(arg2.value, new PdfReferenceHolder(savable));\n    } else {\n      /* tslint:disable */\n      var xobjects = this.Dictionary.items.getValue(this.dictionaryProperties.xObject);\n      var parentXObjects = void 0;\n\n      if (typeof this.pdfDocument !== 'undefined') {\n        parentXObjects = this.pdfDocument.sections.element.items.getValue(this.dictionaryProperties.resources).items.getValue(this.dictionaryProperties.xObject);\n      }\n\n      var values = this.Dictionary.items.values();\n      var hasSameImageStream = false;\n      var oldReference = void 0;\n\n      if (typeof this.pdfDocument !== 'undefined' && (typeof parentXObjects === undefined || parentXObjects == null)) {\n        parentXObjects = new PdfDictionary();\n        this.pdfDocument.sections.element.items.getValue(this.dictionaryProperties.resources).items.setValue(this.dictionaryProperties.xObject, parentXObjects);\n      } else if (typeof this.pdfDocument !== 'undefined') {\n        var values_1 = parentXObjects.items.values();\n\n        for (var i = 0; i < values_1.length; i++) {\n          if (typeof values_1[i] !== 'undefined' && typeof values_1[i].element !== 'undefined') {\n            if (values_1[i].element.data[0] === arg1.element.data[0]) {\n              oldReference = values_1[i];\n              hasSameImageStream = true;\n            }\n          }\n        }\n      }\n\n      if (xobjects == null) {\n        xobjects = new PdfDictionary();\n        this.Dictionary.items.setValue(this.dictionaryProperties.xObject, xobjects);\n      }\n\n      if (hasSameImageStream && typeof oldReference !== 'undefined') {\n        xobjects.items.setValue(arg2.value, oldReference);\n      } else {\n        var reference = new PdfReferenceHolder(arg1.element);\n        xobjects.items.setValue(arg2.value, reference);\n\n        if (typeof this.pdfDocument !== 'undefined') {\n          parentXObjects.items.setValue(arg2.value, reference);\n        }\n      }\n      /* tslint:enable */\n\n    }\n  };\n\n  return PdfResources;\n}(PdfDictionary);\n\nexport { PdfResources };\n/* tslint:disable */\n\n/**\n * Used to create new guid for resources.\n * @private\n */\n\nvar Guid =\n/** @class */\nfunction () {\n  function Guid() {}\n  /**\n   * Generate `new GUID`.\n   * @private\n   */\n\n\n  Guid.getNewGuidString = function () {\n    return 'aaaaaaaa-aaaa-4aaa-baaa-aaaaaaaaaaaa'.replace(/[ab]/g, function (c) {\n      var random = Math.random() * 16 | 0;\n      var result = c === 'a' ? random : random & 0x3 | 0x8;\n      return result.toString(16);\n    });\n  };\n\n  return Guid;\n}();\n\nexport { Guid };\n/* tslint:enable */","map":{"version":3,"sources":["C:/CN2/workspace-trunk/kain-front-end/node_modules/@syncfusion/ej2-pdf-export/src/implementation/graphics/pdf-resources.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","PdfDictionary","TemporaryDictionary","PdfName","PdfArray","PdfReferenceHolder","PdfCrossTable","PdfFont","PdfTemplate","PdfBrush","PdfTransparency","PdfBitmap","PdfImage","PdfResources","_super","baseDictionary","_this","call","properties","defineProperty","get","getNames","enumerable","configurable","pdfDocument","set","value","getName","obj","primitive","element","name","names","containsKey","getValue","sName","generateName","setValue","add","pdfNames","fonts","items","dictionaryProperties","font","reference","dictionary","dereference","requireProcedureSet","procedureSetName","Error","procSets","procset","contains","removeFont","key","keys","index","size","remove","Guid","getNewGuidString","arg1","arg2","xobjects","xObject","savable","transDic","extGState","Dictionary","parentXObjects","sections","resources","values","hasSameImageStream","oldReference","undefined","values_1","i","length","data","replace","c","random","Math","result","toString"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * PdfResources.ts class for EJ2-PDF\n */\nimport { PdfDictionary } from './../primitives/pdf-dictionary';\nimport { TemporaryDictionary } from './../collections/object-object-pair/dictionary';\nimport { PdfName } from './../primitives/pdf-name';\nimport { PdfArray } from './../primitives/pdf-array';\nimport { PdfReferenceHolder } from './../primitives/pdf-reference';\nimport { PdfCrossTable } from './../input-output/pdf-cross-table';\nimport { PdfFont } from './fonts/pdf-font';\nimport { PdfTemplate } from './figures/pdf-template';\nimport { PdfBrush } from './brushes/pdf-brush';\nimport { PdfTransparency } from './pdf-transparency';\nimport { PdfBitmap } from './../graphics/images/pdf-bitmap';\nimport { PdfImage } from './../graphics/images/pdf-image';\n/**\n * `PdfResources` class used to set resource contents like font, image.\n * @private\n */\nvar PdfResources = /** @class */ (function (_super) {\n    __extends(PdfResources, _super);\n    function PdfResources(baseDictionary) {\n        var _this = _super.call(this, baseDictionary) || this;\n        /**\n         * Dictionary for the `properties names`.\n         * @private\n         */\n        _this.properties = new PdfDictionary();\n        return _this;\n    }\n    Object.defineProperty(PdfResources.prototype, \"names\", {\n        //Properties\n        /**\n         * Gets the `font names`.\n         * @private\n         */\n        get: function () {\n            return this.getNames();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfResources.prototype, \"document\", {\n        /**\n         * Get or set the `page document`.\n         * @private\n         */\n        get: function () {\n            return this.pdfDocument;\n        },\n        set: function (value) {\n            this.pdfDocument = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Public Methods\n    /**\n     * `Generates name` for the object and adds to the resource if the object is new.\n     * @private\n     */\n    PdfResources.prototype.getName = function (obj) {\n        var primitive = obj.element;\n        var name = null;\n        if (this.names.containsKey(primitive)) {\n            name = this.names.getValue(primitive);\n        }\n        // Object is new.\n        if (name == null) {\n            var sName = this.generateName();\n            name = new PdfName(sName);\n            this.names.setValue(primitive, name);\n            if (obj instanceof PdfFont) {\n                this.add(obj, name);\n            }\n            else if (obj instanceof PdfTemplate) {\n                this.add(obj, name);\n            }\n            else if (obj instanceof PdfTransparency) {\n                this.add(obj, name);\n            }\n            else if (obj instanceof PdfImage || obj instanceof PdfBitmap) {\n                this.add(obj, name);\n            }\n        }\n        return name;\n    };\n    /**\n     * Gets `resource names` to font dictionaries.\n     * @private\n     */\n    PdfResources.prototype.getNames = function () {\n        if (this.pdfNames == null) {\n            this.pdfNames = new TemporaryDictionary();\n        }\n        var fonts = this.items.getValue(this.dictionaryProperties.font);\n        if (fonts != null) {\n            var reference = fonts;\n            var dictionary = fonts;\n            dictionary = PdfCrossTable.dereference(fonts);\n        }\n        return this.pdfNames;\n    };\n    /**\n     * Add `RequireProcedureSet` into procset array.\n     * @private\n     */\n    PdfResources.prototype.requireProcedureSet = function (procedureSetName) {\n        if (procedureSetName == null) {\n            throw new Error('ArgumentNullException:procedureSetName');\n        }\n        var procSets = this.items.getValue(this.dictionaryProperties.procset);\n        if (procSets == null) {\n            procSets = new PdfArray();\n            this.items.setValue(this.dictionaryProperties.procset, procSets);\n        }\n        var name = new PdfName(procedureSetName);\n        if (!procSets.contains(name)) {\n            procSets.add(name);\n        }\n    };\n    //Helper Methods\n    /**\n     * `Remove font` from array.\n     * @private\n     */\n    PdfResources.prototype.removeFont = function (name) {\n        var key = null;\n        var keys = this.pdfNames.keys();\n        for (var index = 0; index < this.pdfNames.size(); index++) {\n            if (this.pdfNames.getValue(keys[index]) === new PdfName(name)) {\n                key = keys[index];\n                break;\n            }\n        }\n        if (key != null) {\n            this.pdfNames.remove(key);\n        }\n    };\n    /**\n     * Generates `Unique string name`.\n     * @private\n     */\n    PdfResources.prototype.generateName = function () {\n        var name = Guid.getNewGuidString();\n        return name;\n    };\n    PdfResources.prototype.add = function (arg1, arg2) {\n        if (arg1 instanceof PdfFont) {\n            var dictionary = null;\n            var fonts = this.items.getValue(this.dictionaryProperties.font);\n            if (fonts != null) {\n                var reference = fonts;\n                dictionary = fonts;\n                dictionary = fonts;\n            }\n            else {\n                dictionary = new PdfDictionary();\n                this.items.setValue(this.dictionaryProperties.font, dictionary);\n            }\n            dictionary.items.setValue(arg2.value, new PdfReferenceHolder(arg1.element));\n        }\n        else if (arg1 instanceof PdfTemplate) {\n            var xobjects = void 0;\n            xobjects = this.items.getValue(this.dictionaryProperties.xObject);\n            // Create fonts dictionary.\n            if (xobjects == null) {\n                xobjects = new PdfDictionary();\n                this.items.setValue(this.dictionaryProperties.xObject, xobjects);\n            }\n            xobjects.items.setValue(arg2.value, new PdfReferenceHolder(arg1.element));\n        }\n        else if (arg1 instanceof PdfBrush) {\n            // let savable : IPdfPrimitive = (arg1 as IPdfWrapper).Element;\n            // if (savable != null)\n            // {\n            //     let pattern : PdfDictionary = this.Items.getValue(this.dictionaryProperties.pattern) as PdfDictionary;\n            //     // Create a new pattern dictionary.\n            //     if (pattern == null) {\n            //         pattern = new PdfDictionary();\n            //         this.Items.setValue(this.dictionaryProperties.pattern, pattern);\n            //     }\n            //     pattern.Items.setValue(name, new PdfReferenceHolder(savable));\n            // }\n        }\n        else if (arg1 instanceof PdfTransparency) {\n            var savable = arg1.element;\n            var transDic = null;\n            transDic = this.items.getValue(this.dictionaryProperties.extGState);\n            // Create a new pattern dictionary.\n            if (transDic == null) {\n                transDic = new PdfDictionary();\n                this.items.setValue(this.dictionaryProperties.extGState, transDic);\n            }\n            transDic.items.setValue(arg2.value, new PdfReferenceHolder(savable));\n        }\n        else {\n            /* tslint:disable */\n            var xobjects = this.Dictionary.items.getValue(this.dictionaryProperties.xObject);\n            var parentXObjects = void 0;\n            if (typeof this.pdfDocument !== 'undefined') {\n                parentXObjects = this.pdfDocument.sections.element.items.getValue(this.dictionaryProperties.resources).items.getValue(this.dictionaryProperties.xObject);\n            }\n            var values = this.Dictionary.items.values();\n            var hasSameImageStream = false;\n            var oldReference = void 0;\n            if (typeof this.pdfDocument !== 'undefined' && (typeof parentXObjects === undefined || parentXObjects == null)) {\n                parentXObjects = new PdfDictionary();\n                this.pdfDocument.sections.element.items.getValue(this.dictionaryProperties.resources).items.setValue(this.dictionaryProperties.xObject, parentXObjects);\n            }\n            else if (typeof this.pdfDocument !== 'undefined') {\n                var values_1 = parentXObjects.items.values();\n                for (var i = 0; i < values_1.length; i++) {\n                    if (typeof values_1[i] !== 'undefined' && typeof values_1[i].element !== 'undefined') {\n                        if (values_1[i].element.data[0] === arg1.element.data[0]) {\n                            oldReference = values_1[i];\n                            hasSameImageStream = true;\n                        }\n                    }\n                }\n            }\n            if (xobjects == null) {\n                xobjects = new PdfDictionary();\n                this.Dictionary.items.setValue(this.dictionaryProperties.xObject, xobjects);\n            }\n            if (hasSameImageStream && typeof oldReference !== 'undefined') {\n                xobjects.items.setValue(arg2.value, oldReference);\n            }\n            else {\n                var reference = new PdfReferenceHolder(arg1.element);\n                xobjects.items.setValue(arg2.value, reference);\n                if (typeof this.pdfDocument !== 'undefined') {\n                    parentXObjects.items.setValue(arg2.value, reference);\n                }\n            }\n            /* tslint:enable */\n        }\n    };\n    return PdfResources;\n}(PdfDictionary));\nexport { PdfResources };\n/* tslint:disable */\n/**\n * Used to create new guid for resources.\n * @private\n */\nvar Guid = /** @class */ (function () {\n    function Guid() {\n    }\n    /**\n     * Generate `new GUID`.\n     * @private\n     */\n    Guid.getNewGuidString = function () {\n        return 'aaaaaaaa-aaaa-4aaa-baaa-aaaaaaaaaaaa'.replace(/[ab]/g, function (c) {\n            var random = Math.random() * 16 | 0;\n            var result = c === 'a' ? random : (random & 0x3 | 0x8);\n            return result.toString(16);\n        });\n    };\n    return Guid;\n}());\nexport { Guid };\n/* tslint:enable */ \n"]},"metadata":{},"sourceType":"module"}