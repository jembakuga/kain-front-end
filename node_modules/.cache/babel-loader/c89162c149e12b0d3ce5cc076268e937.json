{"ast":null,"code":"import { EventHandler, extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { remove, isBlazor, updateBlazorTemplate } from '@syncfusion/ej2-base';\nimport { Toolbar as tool } from '@syncfusion/ej2-navigations';\nimport * as events from '../base/constant';\nimport { templateCompiler, appendChildren } from '../base/util';\nimport { SearchBox } from '../services/focus-strategy';\n/**\n * The `Toolbar` module is used to handle ToolBar actions.\n * @hidden\n */\n\nvar Toolbar =\n/** @class */\nfunction () {\n  function Toolbar(parent, serviceLocator) {\n    this.predefinedItems = {};\n    this.items = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'Print', 'Search', 'ColumnChooser', 'PdfExport', 'ExcelExport', 'CsvExport', 'WordExport'];\n    this.parent = parent;\n    this.gridID = parent.element.id;\n    this.serviceLocator = serviceLocator;\n    this.addEventListener();\n  }\n\n  Toolbar.prototype.render = function () {\n    this.l10n = this.serviceLocator.getService('localization');\n    var preItems = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'Print', 'PdfExport', 'ExcelExport', 'WordExport', 'CsvExport'];\n\n    for (var _i = 0, preItems_1 = preItems; _i < preItems_1.length; _i++) {\n      var item = preItems_1[_i];\n      var itemStr = item.toLowerCase();\n      var localeName = itemStr[0].toUpperCase() + itemStr.slice(1);\n      this.predefinedItems[item] = {\n        id: this.gridID + '_' + itemStr,\n        prefixIcon: 'e-' + itemStr,\n        text: this.l10n.getConstant(localeName),\n        tooltipText: this.l10n.getConstant(localeName)\n      };\n    }\n\n    this.predefinedItems.Search = {\n      id: this.gridID + '_search',\n      template: '<div class=\"e-input-group e-search\" role=\"search\">\\\n            <input id=\"' + this.gridID + '_searchbar\" class=\"e-input\" name=\"input\" type=\"search\" \\\n            placeholder= \\\"' + this.l10n.getConstant('Search') + '\\\"/>\\\n            <span id=\"' + this.gridID + '_searchbutton\" class=\"e-input-group-icon e-search-icon e-icons\" \\\n            tabindex=\"-1\" title=\"' + this.l10n.getConstant('Search') + '\" aria-label= \"search\"></span> \\\n            </div>',\n      tooltipText: this.l10n.getConstant('Search'),\n      align: 'Right',\n      cssClass: 'e-search-wrapper'\n    };\n    this.predefinedItems.ColumnChooser = {\n      id: this.gridID + '_' + 'columnchooser',\n      cssClass: 'e-cc e-ccdiv e-cc-toolbar',\n      suffixIcon: 'e-' + 'columnchooser-btn',\n      text: this.l10n.getConstant('Columnchooser'),\n      tooltipText: this.l10n.getConstant('Columnchooser'),\n      align: 'Right'\n    };\n    this.createToolbar();\n  };\n  /**\n   * Gets the toolbar of the Grid.\n   * @return {Element}\n   * @hidden\n   */\n\n\n  Toolbar.prototype.getToolbar = function () {\n    return this.toolbar.element;\n  };\n  /**\n   * Destroys the ToolBar.\n   * @method destroy\n   * @return {void}\n   */\n\n\n  Toolbar.prototype.destroy = function () {\n    if (this.toolbar && !this.toolbar.isDestroyed) {\n      if (!this.toolbar.element) {\n        this.parent.destroyTemplate(['toolbarTemplate']);\n      } else {\n        this.toolbar.destroy();\n      }\n\n      this.unWireEvent();\n      this.removeEventListener();\n      remove(this.element);\n    }\n  };\n\n  Toolbar.prototype.bindSearchEvents = function () {\n    this.searchElement = this.element.querySelector('#' + this.gridID + '_searchbar');\n    this.wireEvent();\n    this.refreshToolbarItems();\n\n    if (this.parent.searchSettings) {\n      this.updateSearchBox();\n    }\n  };\n\n  Toolbar.prototype.createToolbar = function () {\n    var items = this.getItems();\n    this.toolbar = new tool({\n      items: items,\n      clicked: this.toolbarClickHandler.bind(this),\n      enablePersistence: this.parent.enablePersistence,\n      enableRtl: this.parent.enableRtl,\n      created: this.bindSearchEvents.bind(this)\n    });\n    var isStringTemplate = 'isStringTemplate';\n    this.toolbar[isStringTemplate] = true;\n    var viewStr = 'viewContainerRef';\n    var registerTemp = 'registeredTemplate';\n\n    if (this.parent[viewStr]) {\n      this.toolbar[registerTemp] = {};\n      this.toolbar[viewStr] = this.parent[viewStr];\n    }\n\n    this.element = this.parent.createElement('div', {\n      id: this.gridID + '_toolbarItems'\n    });\n\n    if (this.parent.toolbarTemplate) {\n      if (!isBlazor() && typeof this.parent.toolbarTemplate === 'string') {\n        this.toolbar.appendTo(this.parent.toolbarTemplate);\n        this.element = this.toolbar.element;\n      } else {\n        if (isBlazor()) {\n          var tempID = this.parent.element.id + 'toolbarTemplate';\n          var item = appendChildren(this.element, templateCompiler(this.parent.toolbarTemplate)({}, this.parent, 'toolbarTemplate', tempID));\n          var items_1 = this.getItem(item);\n          this.toolbar.items.push(items_1);\n          this.toolbar.appendTo(this.element);\n          updateBlazorTemplate(this.parent.element.id + 'toolbarTemplate', 'ToolbarTemplate', this.parent);\n        } else {\n          appendChildren(this.element, templateCompiler(this.parent.toolbarTemplate)({}, this.parent, 'toolbarTemplate'));\n        }\n      }\n    } else {\n      this.toolbar.appendTo(this.element);\n    }\n\n    this.parent.element.insertBefore(this.element, this.parent.getHeaderContent());\n    this.bindSearchEvents();\n  };\n\n  Toolbar.prototype.refreshToolbarItems = function (args) {\n    var gObj = this.parent;\n    var enableItems = [];\n    var disableItems = [];\n    var edit = gObj.editSettings;\n    var hasData = gObj.currentViewData && gObj.currentViewData.length;\n    edit.allowAdding ? enableItems.push(this.gridID + '_add') : disableItems.push(this.gridID + '_add');\n    edit.allowEditing && hasData ? enableItems.push(this.gridID + '_edit') : disableItems.push(this.gridID + '_edit');\n    edit.allowDeleting && hasData ? enableItems.push(this.gridID + '_delete') : disableItems.push(this.gridID + '_delete');\n\n    if (gObj.editSettings.mode === 'Batch') {\n      if (gObj.element.querySelectorAll('.e-updatedtd').length && (edit.allowAdding || edit.allowEditing)) {\n        enableItems.push(this.gridID + '_update');\n        enableItems.push(this.gridID + '_cancel');\n      } else {\n        disableItems.push(this.gridID + '_update');\n        disableItems.push(this.gridID + '_cancel');\n      }\n    } else {\n      if (gObj.isEdit && (edit.allowAdding || edit.allowEditing)) {\n        enableItems = [this.gridID + '_update', this.gridID + '_cancel'];\n        disableItems = [this.gridID + '_add', this.gridID + '_edit', this.gridID + '_delete'];\n      } else {\n        disableItems.push(this.gridID + '_update');\n        disableItems.push(this.gridID + '_cancel');\n      }\n    }\n\n    this.enableItems(enableItems, true);\n    this.enableItems(disableItems, false);\n  };\n\n  Toolbar.prototype.getItems = function () {\n    var items = [];\n    var toolbarItems = this.parent.toolbar || [];\n\n    if (typeof this.parent.toolbar === 'string') {\n      return [];\n    }\n\n    for (var _i = 0, toolbarItems_1 = toolbarItems; _i < toolbarItems_1.length; _i++) {\n      var item = toolbarItems_1[_i];\n\n      switch (typeof item) {\n        case 'number':\n          items.push(this.getItemObject(this.items[item]));\n          break;\n\n        case 'string':\n          items.push(this.getItemObject(item));\n          break;\n\n        default:\n          items.push(this.getItem(item));\n      }\n    }\n\n    return items;\n  };\n\n  Toolbar.prototype.getItem = function (itemObject) {\n    var item = this.predefinedItems[itemObject.text];\n    return item ? extend(item, item, itemObject) : itemObject;\n  };\n\n  Toolbar.prototype.getItemObject = function (itemName) {\n    return this.predefinedItems[itemName] || {\n      text: itemName,\n      id: this.gridID + '_' + itemName\n    };\n  };\n  /**\n   * Enables or disables ToolBar items.\n   * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n   * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n   * @return {void}\n   * @hidden\n   */\n\n\n  Toolbar.prototype.enableItems = function (items, isEnable) {\n    for (var _i = 0, items_2 = items; _i < items_2.length; _i++) {\n      var item = items_2[_i];\n      var element = this.element.querySelector('#' + item);\n\n      if (element) {\n        this.toolbar.enableItems(element.parentElement, isEnable);\n      }\n    }\n  };\n\n  Toolbar.prototype.toolbarClickHandler = function (args) {\n    var _this = this;\n\n    var gObj = this.parent;\n    var gID = this.gridID;\n    extend(args, {\n      cancel: false\n    });\n    var newArgs = !isBlazor() || this.parent.isJsComponent ? args : {\n      item: args.item,\n      cancel: args.cancel,\n      name: args.name\n    };\n    var originalEvent = args.originalEvent;\n    gObj.trigger(events.toolbarClick, newArgs, function (toolbarargs) {\n      toolbarargs.originalEvent = toolbarargs.originalEvent ? toolbarargs.originalEvent : originalEvent;\n\n      if (!toolbarargs.cancel) {\n        switch (!isNullOrUndefined(toolbarargs.item) && toolbarargs.item.id) {\n          case gID + '_print':\n            gObj.print();\n            break;\n\n          case gID + '_edit':\n            gObj.startEdit();\n            break;\n\n          case gID + '_update':\n            gObj.endEdit();\n            break;\n\n          case gID + '_cancel':\n            gObj.closeEdit();\n            break;\n\n          case gID + '_add':\n            gObj.addRecord();\n            break;\n\n          case gID + '_delete':\n            gObj.deleteRecord();\n            break;\n\n          case gID + '_search':\n            if (toolbarargs.originalEvent.target.id === gID + '_searchbutton') {\n              _this.search();\n            }\n\n            break;\n\n          case gID + '_columnchooser':\n            var tarElement = _this.parent.element.querySelector('.e-ccdiv');\n\n            var y = tarElement.getBoundingClientRect().top;\n            var x = tarElement.getBoundingClientRect().left;\n            var targetEle = toolbarargs.originalEvent.target;\n            y = tarElement.getBoundingClientRect().top + tarElement.offsetTop;\n            gObj.createColumnchooser(x, y, targetEle);\n            break;\n        }\n      }\n    });\n  };\n\n  Toolbar.prototype.modelChanged = function (e) {\n    if (e.module === 'edit') {\n      this.refreshToolbarItems();\n    }\n  };\n\n  Toolbar.prototype.onPropertyChanged = function (e) {\n    if (e.module !== this.getModuleName() || !this.parent.toolbar) {\n      return;\n    }\n\n    if (this.element) {\n      remove(this.element);\n    }\n\n    this.render();\n  };\n\n  Toolbar.prototype.keyUpHandler = function (e) {\n    if (e.keyCode === 13) {\n      this.search();\n    }\n  };\n\n  Toolbar.prototype.search = function () {\n    this.parent.search(this.searchElement.value);\n  };\n\n  Toolbar.prototype.updateSearchBox = function () {\n    if (this.searchElement) {\n      this.searchElement.value = this.parent.searchSettings.key;\n    }\n  };\n\n  Toolbar.prototype.wireEvent = function () {\n    if (this.searchElement) {\n      this.searchBoxObj = new SearchBox(this.searchElement);\n      EventHandler.add(this.searchElement, 'keyup', this.keyUpHandler, this);\n      this.searchBoxObj.wireEvent();\n    }\n  };\n\n  Toolbar.prototype.unWireEvent = function () {\n    if (this.searchElement) {\n      EventHandler.remove(this.searchElement, 'keyup', this.keyUpHandler);\n      this.searchBoxObj.unWireEvent();\n    }\n  };\n\n  Toolbar.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.on(events.initialEnd, this.render, this);\n    this.parent.on(events.uiUpdate, this.onPropertyChanged, this);\n    this.parent.on(events.inBoundModelChanged, this.updateSearchBox.bind(this));\n    this.parent.on(events.modelChanged, this.refreshToolbarItems, this);\n    this.parent.on(events.toolbarRefresh, this.refreshToolbarItems, this);\n    this.parent.on(events.inBoundModelChanged, this.modelChanged, this);\n    this.parent.on(events.dataBound, this.refreshToolbarItems, this);\n  };\n\n  Toolbar.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.off(events.initialEnd, this.render);\n    this.parent.off(events.uiUpdate, this.onPropertyChanged);\n    this.parent.off(events.inBoundModelChanged, this.updateSearchBox);\n    this.parent.off(events.modelChanged, this.refreshToolbarItems);\n    this.parent.off(events.toolbarRefresh, this.refreshToolbarItems);\n    this.parent.off(events.inBoundModelChanged, this.modelChanged);\n    this.parent.off(events.dataBound, this.refreshToolbarItems);\n  };\n  /**\n   * For internal use only - Get the module name.\n   */\n\n\n  Toolbar.prototype.getModuleName = function () {\n    return 'toolbar';\n  };\n\n  return Toolbar;\n}();\n\nexport { Toolbar };","map":{"version":3,"sources":["C:/CN2/workspace-trunk/kain-front-end/node_modules/@syncfusion/ej2-grids/src/grid/actions/toolbar.js"],"names":["EventHandler","extend","isNullOrUndefined","remove","isBlazor","updateBlazorTemplate","Toolbar","tool","events","templateCompiler","appendChildren","SearchBox","parent","serviceLocator","predefinedItems","items","gridID","element","id","addEventListener","prototype","render","l10n","getService","preItems","_i","preItems_1","length","item","itemStr","toLowerCase","localeName","toUpperCase","slice","prefixIcon","text","getConstant","tooltipText","Search","template","align","cssClass","ColumnChooser","suffixIcon","createToolbar","getToolbar","toolbar","destroy","isDestroyed","destroyTemplate","unWireEvent","removeEventListener","bindSearchEvents","searchElement","querySelector","wireEvent","refreshToolbarItems","searchSettings","updateSearchBox","getItems","clicked","toolbarClickHandler","bind","enablePersistence","enableRtl","created","isStringTemplate","viewStr","registerTemp","createElement","toolbarTemplate","appendTo","tempID","items_1","getItem","push","insertBefore","getHeaderContent","args","gObj","enableItems","disableItems","edit","editSettings","hasData","currentViewData","allowAdding","allowEditing","allowDeleting","mode","querySelectorAll","isEdit","toolbarItems","toolbarItems_1","getItemObject","itemObject","itemName","isEnable","items_2","parentElement","_this","gID","cancel","newArgs","isJsComponent","name","originalEvent","trigger","toolbarClick","toolbarargs","print","startEdit","endEdit","closeEdit","addRecord","deleteRecord","target","search","tarElement","y","getBoundingClientRect","top","x","left","targetEle","offsetTop","createColumnchooser","modelChanged","e","module","onPropertyChanged","getModuleName","keyUpHandler","keyCode","value","key","searchBoxObj","add","on","initialEnd","uiUpdate","inBoundModelChanged","toolbarRefresh","dataBound","off"],"mappings":"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","sourcesContent":["import { EventHandler, extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { remove, isBlazor, updateBlazorTemplate } from '@syncfusion/ej2-base';\nimport { Toolbar as tool } from '@syncfusion/ej2-navigations';\nimport * as events from '../base/constant';\nimport { templateCompiler, appendChildren } from '../base/util';\nimport { SearchBox } from '../services/focus-strategy';\n/**\n * The `Toolbar` module is used to handle ToolBar actions.\n * @hidden\n */\nvar Toolbar = /** @class */ (function () {\n    function Toolbar(parent, serviceLocator) {\n        this.predefinedItems = {};\n        this.items = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'Print', 'Search',\n            'ColumnChooser', 'PdfExport', 'ExcelExport', 'CsvExport', 'WordExport'];\n        this.parent = parent;\n        this.gridID = parent.element.id;\n        this.serviceLocator = serviceLocator;\n        this.addEventListener();\n    }\n    Toolbar.prototype.render = function () {\n        this.l10n = this.serviceLocator.getService('localization');\n        var preItems = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'Print',\n            'PdfExport', 'ExcelExport', 'WordExport', 'CsvExport'];\n        for (var _i = 0, preItems_1 = preItems; _i < preItems_1.length; _i++) {\n            var item = preItems_1[_i];\n            var itemStr = item.toLowerCase();\n            var localeName = itemStr[0].toUpperCase() + itemStr.slice(1);\n            this.predefinedItems[item] = {\n                id: this.gridID + '_' + itemStr, prefixIcon: 'e-' + itemStr,\n                text: this.l10n.getConstant(localeName), tooltipText: this.l10n.getConstant(localeName)\n            };\n        }\n        this.predefinedItems.Search = {\n            id: this.gridID + '_search',\n            template: '<div class=\"e-input-group e-search\" role=\"search\">\\\n            <input id=\"' + this.gridID + '_searchbar\" class=\"e-input\" name=\"input\" type=\"search\" \\\n            placeholder= \\\"' + this.l10n.getConstant('Search') + '\\\"/>\\\n            <span id=\"' + this.gridID + '_searchbutton\" class=\"e-input-group-icon e-search-icon e-icons\" \\\n            tabindex=\"-1\" title=\"' + this.l10n.getConstant('Search') + '\" aria-label= \"search\"></span> \\\n            </div>',\n            tooltipText: this.l10n.getConstant('Search'), align: 'Right', cssClass: 'e-search-wrapper'\n        };\n        this.predefinedItems.ColumnChooser = {\n            id: this.gridID + '_' + 'columnchooser', cssClass: 'e-cc e-ccdiv e-cc-toolbar', suffixIcon: 'e-' + 'columnchooser-btn',\n            text: this.l10n.getConstant('Columnchooser'), tooltipText: this.l10n.getConstant('Columnchooser'), align: 'Right',\n        };\n        this.createToolbar();\n    };\n    /**\n     * Gets the toolbar of the Grid.\n     * @return {Element}\n     * @hidden\n     */\n    Toolbar.prototype.getToolbar = function () {\n        return this.toolbar.element;\n    };\n    /**\n     * Destroys the ToolBar.\n     * @method destroy\n     * @return {void}\n     */\n    Toolbar.prototype.destroy = function () {\n        if (this.toolbar && !this.toolbar.isDestroyed) {\n            if (!this.toolbar.element) {\n                this.parent.destroyTemplate(['toolbarTemplate']);\n            }\n            else {\n                this.toolbar.destroy();\n            }\n            this.unWireEvent();\n            this.removeEventListener();\n            remove(this.element);\n        }\n    };\n    Toolbar.prototype.bindSearchEvents = function () {\n        this.searchElement = this.element.querySelector('#' + this.gridID + '_searchbar');\n        this.wireEvent();\n        this.refreshToolbarItems();\n        if (this.parent.searchSettings) {\n            this.updateSearchBox();\n        }\n    };\n    Toolbar.prototype.createToolbar = function () {\n        var items = this.getItems();\n        this.toolbar = new tool({\n            items: items,\n            clicked: this.toolbarClickHandler.bind(this),\n            enablePersistence: this.parent.enablePersistence,\n            enableRtl: this.parent.enableRtl,\n            created: this.bindSearchEvents.bind(this)\n        });\n        var isStringTemplate = 'isStringTemplate';\n        this.toolbar[isStringTemplate] = true;\n        var viewStr = 'viewContainerRef';\n        var registerTemp = 'registeredTemplate';\n        if (this.parent[viewStr]) {\n            this.toolbar[registerTemp] = {};\n            this.toolbar[viewStr] = this.parent[viewStr];\n        }\n        this.element = this.parent.createElement('div', { id: this.gridID + '_toolbarItems' });\n        if (this.parent.toolbarTemplate) {\n            if (!isBlazor() && typeof (this.parent.toolbarTemplate) === 'string') {\n                this.toolbar.appendTo(this.parent.toolbarTemplate);\n                this.element = this.toolbar.element;\n            }\n            else {\n                if (isBlazor()) {\n                    var tempID = this.parent.element.id + 'toolbarTemplate';\n                    var item = appendChildren(this.element, templateCompiler(this.parent.toolbarTemplate)({}, this.parent, 'toolbarTemplate', tempID));\n                    var items_1 = this.getItem(item);\n                    this.toolbar.items.push(items_1);\n                    this.toolbar.appendTo(this.element);\n                    updateBlazorTemplate(this.parent.element.id + 'toolbarTemplate', 'ToolbarTemplate', this.parent);\n                }\n                else {\n                    appendChildren(this.element, templateCompiler(this.parent.toolbarTemplate)({}, this.parent, 'toolbarTemplate'));\n                }\n            }\n        }\n        else {\n            this.toolbar.appendTo(this.element);\n        }\n        this.parent.element.insertBefore(this.element, this.parent.getHeaderContent());\n        this.bindSearchEvents();\n    };\n    Toolbar.prototype.refreshToolbarItems = function (args) {\n        var gObj = this.parent;\n        var enableItems = [];\n        var disableItems = [];\n        var edit = gObj.editSettings;\n        var hasData = gObj.currentViewData && gObj.currentViewData.length;\n        edit.allowAdding ? enableItems.push(this.gridID + '_add') : disableItems.push(this.gridID + '_add');\n        edit.allowEditing && hasData ? enableItems.push(this.gridID + '_edit') : disableItems.push(this.gridID + '_edit');\n        edit.allowDeleting && hasData ? enableItems.push(this.gridID + '_delete') : disableItems.push(this.gridID + '_delete');\n        if (gObj.editSettings.mode === 'Batch') {\n            if (gObj.element.querySelectorAll('.e-updatedtd').length && (edit.allowAdding || edit.allowEditing)) {\n                enableItems.push(this.gridID + '_update');\n                enableItems.push(this.gridID + '_cancel');\n            }\n            else {\n                disableItems.push(this.gridID + '_update');\n                disableItems.push(this.gridID + '_cancel');\n            }\n        }\n        else {\n            if (gObj.isEdit && (edit.allowAdding || edit.allowEditing)) {\n                enableItems = [this.gridID + '_update', this.gridID + '_cancel'];\n                disableItems = [this.gridID + '_add', this.gridID + '_edit', this.gridID + '_delete'];\n            }\n            else {\n                disableItems.push(this.gridID + '_update');\n                disableItems.push(this.gridID + '_cancel');\n            }\n        }\n        this.enableItems(enableItems, true);\n        this.enableItems(disableItems, false);\n    };\n    Toolbar.prototype.getItems = function () {\n        var items = [];\n        var toolbarItems = this.parent.toolbar || [];\n        if (typeof (this.parent.toolbar) === 'string') {\n            return [];\n        }\n        for (var _i = 0, toolbarItems_1 = toolbarItems; _i < toolbarItems_1.length; _i++) {\n            var item = toolbarItems_1[_i];\n            switch (typeof item) {\n                case 'number':\n                    items.push(this.getItemObject(this.items[item]));\n                    break;\n                case 'string':\n                    items.push(this.getItemObject(item));\n                    break;\n                default:\n                    items.push(this.getItem(item));\n            }\n        }\n        return items;\n    };\n    Toolbar.prototype.getItem = function (itemObject) {\n        var item = this.predefinedItems[itemObject.text];\n        return item ? extend(item, item, itemObject) : itemObject;\n    };\n    Toolbar.prototype.getItemObject = function (itemName) {\n        return this.predefinedItems[itemName] || { text: itemName, id: this.gridID + '_' + itemName };\n    };\n    /**\n     * Enables or disables ToolBar items.\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @return {void}\n     * @hidden\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        for (var _i = 0, items_2 = items; _i < items_2.length; _i++) {\n            var item = items_2[_i];\n            var element = this.element.querySelector('#' + item);\n            if (element) {\n                this.toolbar.enableItems(element.parentElement, isEnable);\n            }\n        }\n    };\n    Toolbar.prototype.toolbarClickHandler = function (args) {\n        var _this = this;\n        var gObj = this.parent;\n        var gID = this.gridID;\n        extend(args, { cancel: false });\n        var newArgs = !isBlazor() || this.parent.isJsComponent ? args : { item: args.item, cancel: args.cancel, name: args.name };\n        var originalEvent = args.originalEvent;\n        gObj.trigger(events.toolbarClick, newArgs, function (toolbarargs) {\n            toolbarargs.originalEvent = toolbarargs.originalEvent ? toolbarargs.originalEvent : originalEvent;\n            if (!toolbarargs.cancel) {\n                switch (!isNullOrUndefined(toolbarargs.item) && toolbarargs.item.id) {\n                    case gID + '_print':\n                        gObj.print();\n                        break;\n                    case gID + '_edit':\n                        gObj.startEdit();\n                        break;\n                    case gID + '_update':\n                        gObj.endEdit();\n                        break;\n                    case gID + '_cancel':\n                        gObj.closeEdit();\n                        break;\n                    case gID + '_add':\n                        gObj.addRecord();\n                        break;\n                    case gID + '_delete':\n                        gObj.deleteRecord();\n                        break;\n                    case gID + '_search':\n                        if (toolbarargs.originalEvent.target.id === gID + '_searchbutton') {\n                            _this.search();\n                        }\n                        break;\n                    case gID + '_columnchooser':\n                        var tarElement = _this.parent.element.querySelector('.e-ccdiv');\n                        var y = tarElement.getBoundingClientRect().top;\n                        var x = tarElement.getBoundingClientRect().left;\n                        var targetEle = toolbarargs.originalEvent.target;\n                        y = tarElement.getBoundingClientRect().top + tarElement.offsetTop;\n                        gObj.createColumnchooser(x, y, targetEle);\n                        break;\n                }\n            }\n        });\n    };\n    Toolbar.prototype.modelChanged = function (e) {\n        if (e.module === 'edit') {\n            this.refreshToolbarItems();\n        }\n    };\n    Toolbar.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName() || !this.parent.toolbar) {\n            return;\n        }\n        if (this.element) {\n            remove(this.element);\n        }\n        this.render();\n    };\n    Toolbar.prototype.keyUpHandler = function (e) {\n        if (e.keyCode === 13) {\n            this.search();\n        }\n    };\n    Toolbar.prototype.search = function () {\n        this.parent.search(this.searchElement.value);\n    };\n    Toolbar.prototype.updateSearchBox = function () {\n        if (this.searchElement) {\n            this.searchElement.value = this.parent.searchSettings.key;\n        }\n    };\n    Toolbar.prototype.wireEvent = function () {\n        if (this.searchElement) {\n            this.searchBoxObj = new SearchBox(this.searchElement);\n            EventHandler.add(this.searchElement, 'keyup', this.keyUpHandler, this);\n            this.searchBoxObj.wireEvent();\n        }\n    };\n    Toolbar.prototype.unWireEvent = function () {\n        if (this.searchElement) {\n            EventHandler.remove(this.searchElement, 'keyup', this.keyUpHandler);\n            this.searchBoxObj.unWireEvent();\n        }\n    };\n    Toolbar.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.initialEnd, this.render, this);\n        this.parent.on(events.uiUpdate, this.onPropertyChanged, this);\n        this.parent.on(events.inBoundModelChanged, this.updateSearchBox.bind(this));\n        this.parent.on(events.modelChanged, this.refreshToolbarItems, this);\n        this.parent.on(events.toolbarRefresh, this.refreshToolbarItems, this);\n        this.parent.on(events.inBoundModelChanged, this.modelChanged, this);\n        this.parent.on(events.dataBound, this.refreshToolbarItems, this);\n    };\n    Toolbar.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initialEnd, this.render);\n        this.parent.off(events.uiUpdate, this.onPropertyChanged);\n        this.parent.off(events.inBoundModelChanged, this.updateSearchBox);\n        this.parent.off(events.modelChanged, this.refreshToolbarItems);\n        this.parent.off(events.toolbarRefresh, this.refreshToolbarItems);\n        this.parent.off(events.inBoundModelChanged, this.modelChanged);\n        this.parent.off(events.dataBound, this.refreshToolbarItems);\n    };\n    /**\n     * For internal use only - Get the module name.\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    return Toolbar;\n}());\nexport { Toolbar };\n"]},"metadata":{},"sourceType":"module"}