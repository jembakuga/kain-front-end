{"ast":null,"code":"import { ChildProperty, compile as baseTemplateComplier, setValue, Internationalization } from '@syncfusion/ej2-base';\nimport { extend as baseExtend, isNullOrUndefined, getValue, classList } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, addClass, attributes, remove, createElement, removeClass } from '@syncfusion/ej2-base';\nimport { isObject, isBlazor } from '@syncfusion/ej2-base';\nimport { DataUtil, Query, DataManager, Predicate } from '@syncfusion/ej2-data';\nimport { Column } from '../models/column';\nimport { calculateRelativeBasedPosition, calculatePosition } from '@syncfusion/ej2-popups';\nimport { Print } from '../actions/print'; //https://typescript.codeplex.com/discussions/401501\n\n/**\n * Function to check whether target object implement specific interface\n * @param  {Object} target\n * @param  {string} checkFor\n * @returns no\n * @hidden\n */\n\nexport function doesImplementInterface(target, checkFor) {\n  /* tslint:disable:no-any */\n  return target.prototype && checkFor in target.prototype;\n}\n/**\n * Function to get value from provided data\n * @param  {string} field\n * @param  {Object} data\n * @param  {IColumn} column\n * @hidden\n */\n\nexport function valueAccessor(field, data, column) {\n  return isNullOrUndefined(field) || field === '' ? '' : DataUtil.getObject(field, data);\n}\n/**\n * The function used to update Dom using requestAnimationFrame.\n * @param  {Function} fn - Function that contains the actual action\n * @return {Promise<T>}\n * @hidden\n */\n\nexport function getUpdateUsingRaf(updateFunction, callBack) {\n  requestAnimationFrame(function () {\n    try {\n      callBack(null, updateFunction());\n    } catch (e) {\n      callBack(e);\n    }\n  });\n}\n/**\n * @hidden\n */\n\nexport function updatecloneRow(grid) {\n  var nRows = [];\n  var actualRows = grid.vRows;\n\n  for (var i = 0; i < actualRows.length; i++) {\n    if (actualRows[i].isDataRow) {\n      nRows.push(actualRows[i]);\n    } else if (!actualRows[i].isDataRow) {\n      nRows.push(actualRows[i]);\n\n      if (!actualRows[i].isExpand && actualRows[i].isCaptionRow) {\n        i += getCollapsedRowsCount(actualRows[i], grid);\n      }\n    }\n  }\n\n  grid.vcRows = nRows;\n}\n/**\n * @hidden\n */\n\nvar count = 0;\nexport function getCollapsedRowsCount(val, grid) {\n  count = 0;\n  var gSummary = 'gSummary';\n  var total = 'count';\n  var gLen = grid.groupSettings.columns.length;\n  var records = 'records';\n  var items = 'items';\n  var value = val[gSummary];\n  var dataRowCnt = 0;\n  var agrCnt = 'aggregatesCount';\n\n  if (value === val.data[total]) {\n    if (grid.groupSettings.columns.length && !isNullOrUndefined(val[agrCnt])) {\n      if (grid.groupSettings.columns.length !== 1 && val[agrCnt]) {\n        count += val.indent !== 0 && value < 2 ? val[gSummary] * (gLen - val.indent + (gLen - val.indent) * val[agrCnt]) : val[gSummary] * (gLen - val.indent + (gLen - val.indent - 1) * val[agrCnt]) + val[agrCnt];\n      } else if (val[agrCnt] && grid.groupSettings.columns.length === 1) {\n        count += val[gSummary] * (gLen - val.indent) + val[agrCnt];\n      }\n    } else if (grid.groupSettings.columns.length) {\n      if (grid.groupSettings.columns.length !== 1) {\n        count += val[gSummary] * (grid.groupSettings.columns.length - val.indent);\n      } else {\n        count += val[gSummary];\n      }\n    }\n\n    return count;\n  } else {\n    for (var i = 0, len = val.data[items].length; i < len; i++) {\n      var gLevel = val.data[items][i];\n      count += gLevel[items].length + (gLen !== grid.columns.length && !isNullOrUndefined(gLevel[items][records]) ? gLevel[items][records].length : 0);\n      dataRowCnt += !isNullOrUndefined(gLevel[items][records]) && !isNullOrUndefined(val[agrCnt]) ? gLevel[items][records].length : gLevel[items].length;\n\n      if (gLevel[items].GroupGuid && gLevel[items].childLevels !== 0) {\n        recursive(gLevel);\n      }\n    }\n\n    count += val.data[items].length;\n\n    if (!isNullOrUndefined(val[agrCnt])) {\n      if (val[agrCnt] && count && dataRowCnt !== 0) {\n        count += (count - dataRowCnt) * val[agrCnt] + val[agrCnt];\n      }\n    }\n  }\n\n  return count;\n}\n/**\n * @hidden\n */\n\nexport function recursive(row) {\n  var items = 'items';\n  var rCount = 'count';\n\n  for (var j = 0, length_1 = row[items].length; j < length_1; j++) {\n    var nLevel = row[items][j];\n    count += nLevel[rCount];\n\n    if (nLevel[items].childLevels !== 0) {\n      recursive(nLevel);\n    }\n  }\n}\n/**\n * @hidden\n */\n\nexport function iterateArrayOrObject(collection, predicate) {\n  var result = [];\n\n  for (var i = 0, len = collection.length; i < len; i++) {\n    var pred = predicate(collection[i], i);\n\n    if (!isNullOrUndefined(pred)) {\n      result.push(pred);\n    }\n  }\n\n  return result;\n}\n/** @hidden */\n\nexport function iterateExtend(array) {\n  var obj = [];\n\n  for (var i = 0; i < array.length; i++) {\n    obj.push(baseExtend({}, getActualProperties(array[i]), {}, true));\n  }\n\n  return obj;\n}\n/** @hidden */\n\nexport function templateCompiler(template) {\n  if (template) {\n    var e = void 0;\n\n    try {\n      if (document.querySelectorAll(template).length) {\n        return baseTemplateComplier(document.querySelector(template).innerHTML.trim());\n      }\n    } catch (e) {\n      return baseTemplateComplier(template);\n    }\n  }\n\n  return undefined;\n}\n/** @hidden */\n\nexport function setStyleAndAttributes(node, customAttributes) {\n  var copyAttr = {};\n  var literals = ['style', 'class']; //Dont touch the original object - make a copy\n\n  baseExtend(copyAttr, customAttributes, {});\n\n  if ('style' in copyAttr) {\n    setStyleAttribute(node, copyAttr[literals[0]]);\n    delete copyAttr[literals[0]];\n  }\n\n  if ('class' in copyAttr) {\n    addClass([node], copyAttr[literals[1]]);\n    delete copyAttr[literals[1]];\n  }\n\n  attributes(node, copyAttr);\n}\n/** @hidden */\n\nexport function extend(copied, first, second, exclude) {\n  var moved = baseExtend(copied, first, second);\n  Object.keys(moved).forEach(function (value, index) {\n    if (exclude && exclude.indexOf(value) !== -1) {\n      delete moved[value];\n    }\n  });\n  return moved;\n}\n/** @hidden */\n\nexport function setColumnIndex(columnModel, ind) {\n  if (ind === void 0) {\n    ind = 0;\n  }\n\n  for (var i = 0, len = columnModel.length; i < len; i++) {\n    if (columnModel[i].columns) {\n      columnModel[i].index = isNullOrUndefined(columnModel[i].index) ? ind : columnModel[i].index;\n      ind++;\n      ind = setColumnIndex(columnModel[i].columns, ind);\n    } else {\n      columnModel[i].index = isNullOrUndefined(columnModel[i].index) ? ind : columnModel[i].index;\n      ind++;\n    }\n  }\n\n  return ind;\n}\n/** @hidden */\n\nexport function prepareColumns(columns, autoWidth) {\n  for (var c = 0, len = columns.length; c < len; c++) {\n    var column = void 0;\n\n    if (typeof columns[c] === 'string') {\n      column = new Column({\n        field: columns[c]\n      });\n    } else if (!(columns[c] instanceof Column)) {\n      if (!columns[c].columns) {\n        column = new Column(columns[c]);\n      } else {\n        columns[c].columns = prepareColumns(columns[c].columns);\n        column = new Column(columns[c]);\n      }\n    } else {\n      column = columns[c];\n    }\n\n    if (column.type && column.type.toLowerCase() === 'checkbox') {\n      column.allowReordering = false;\n    }\n\n    column.headerText = isNullOrUndefined(column.headerText) ? column.foreignKeyValue || column.field || '' : column.headerText;\n    column.foreignKeyField = column.foreignKeyField || column.field;\n    column.valueAccessor = (typeof column.valueAccessor === 'string' ? getValue(column.valueAccessor, window) : column.valueAccessor) || valueAccessor;\n    column.width = autoWidth && isNullOrUndefined(column.width) ? 200 : column.width;\n\n    if (isNullOrUndefined(column.visible)) {\n      column.visible = true;\n    }\n\n    columns[c] = column;\n  }\n\n  return columns;\n}\n/** @hidden */\n\nexport function setCssInGridPopUp(popUp, e, className) {\n  var popUpSpan = popUp.querySelector('span');\n  var position = popUp.parentElement.getBoundingClientRect();\n  var targetPosition = e.target.getBoundingClientRect();\n  var isBottomTail;\n  popUpSpan.className = className;\n  popUp.style.display = '';\n  isBottomTail = (isNullOrUndefined(e.clientY) ? e.changedTouches[0].clientY : e.clientY) > popUp.offsetHeight + 10;\n  popUp.style.top = targetPosition.top - position.top + (isBottomTail ? -(popUp.offsetHeight + 10) : popUp.offsetHeight + 10) + 'px'; //10px for tail element\n\n  popUp.style.left = getPopupLeftPosition(popUp, e, targetPosition, position.left) + 'px';\n\n  if (isBottomTail) {\n    popUp.querySelector('.e-downtail').style.display = '';\n    popUp.querySelector('.e-uptail').style.display = 'none';\n  } else {\n    popUp.querySelector('.e-downtail').style.display = 'none';\n    popUp.querySelector('.e-uptail').style.display = '';\n  }\n}\n/** @hidden */\n\nfunction getPopupLeftPosition(popup, e, targetPosition, left) {\n  var width = popup.offsetWidth / 2;\n  var x = getPosition(e).x;\n\n  if (x - targetPosition.left < width) {\n    return targetPosition.left - left;\n  } else if (targetPosition.right - x < width) {\n    return targetPosition.right - left - width * 2;\n  } else {\n    return x - left - width;\n  }\n}\n/** @hidden */\n\n\nexport function getActualProperties(obj) {\n  if (obj instanceof ChildProperty) {\n    return getValue('properties', obj);\n  } else {\n    return obj;\n  }\n}\n/** @hidden */\n\nexport function parentsUntil(elem, selector, isID) {\n  var parent = elem;\n\n  while (parent) {\n    if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n      break;\n    }\n\n    parent = parent.parentElement;\n  }\n\n  return parent;\n}\n/** @hidden */\n\nexport function getElementIndex(element, elements) {\n  var index = -1;\n\n  for (var i = 0, len = elements.length; i < len; i++) {\n    if (elements[i].isEqualNode(element)) {\n      index = i;\n      break;\n    }\n  }\n\n  return index;\n}\n/** @hidden */\n\nexport function inArray(value, collection) {\n  for (var i = 0, len = collection.length; i < len; i++) {\n    if (collection[i] === value) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n/** @hidden */\n\nexport function getActualPropFromColl(collection) {\n  var coll = [];\n\n  for (var i = 0, len = collection.length; i < len; i++) {\n    if (collection[i].hasOwnProperty('properties')) {\n      coll.push(collection[i].properties);\n    } else {\n      coll.push(collection[i]);\n    }\n  }\n\n  return coll;\n}\n/** @hidden */\n\nexport function removeElement(target, selector) {\n  var elements = [].slice.call(target.querySelectorAll(selector));\n\n  for (var i = 0; i < elements.length; i++) {\n    remove(elements[i]);\n  }\n}\n/** @hidden */\n\nexport function getPosition(e) {\n  var position = {};\n  position.x = isNullOrUndefined(e.clientX) ? e.changedTouches[0].clientX : e.clientX;\n  position.y = isNullOrUndefined(e.clientY) ? e.changedTouches[0].clientY : e.clientY;\n  return position;\n}\nvar uid = 0;\n/** @hidden */\n\nexport function getUid(prefix) {\n  return prefix + uid++;\n}\n/** @hidden */\n\nexport function appendChildren(elem, children) {\n  for (var i = 0, len = children.length; i < len; i++) {\n    if (len === children.length) {\n      elem.appendChild(children[i]);\n    } else {\n      elem.appendChild(children[0]);\n    }\n  }\n\n  return elem;\n}\n/** @hidden */\n\nexport function parents(elem, selector, isID) {\n  var parent = elem;\n  var parents = [];\n\n  while (parent) {\n    if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n      parents.push(parent);\n    }\n\n    parent = parent.parentElement;\n  }\n\n  return parents;\n}\n/** @hidden */\n\nexport function calculateAggregate(type, data, column, context) {\n  if (type === 'Custom') {\n    var temp = column.customAggregate;\n\n    if (typeof temp === 'string') {\n      temp = getValue(temp, window);\n    }\n\n    return temp ? temp.call(context, data, column) : '';\n  }\n\n  return column.field in data || data instanceof Array ? DataUtil.aggregates[type.toLowerCase()](data, column.field) : null;\n}\n/** @hidden */\n\nvar scrollWidth = null;\n/** @hidden */\n\nexport function getScrollBarWidth() {\n  if (scrollWidth !== null) {\n    return scrollWidth;\n  }\n\n  var divNode = document.createElement('div');\n  var value = 0;\n  divNode.style.cssText = 'width:100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;';\n  document.body.appendChild(divNode);\n  value = divNode.offsetWidth - divNode.clientWidth | 0;\n  document.body.removeChild(divNode);\n  return scrollWidth = value;\n}\n/** @hidden */\n\nvar rowHeight;\n/** @hidden */\n\nexport function getRowHeight(element) {\n  if (rowHeight !== undefined) {\n    return rowHeight;\n  }\n\n  var table = createElement('table', {\n    className: 'e-table',\n    styles: 'visibility: hidden'\n  });\n  table.innerHTML = '<tr><td class=\"e-rowcell\">A<td></tr>';\n  element.appendChild(table);\n  var rect = table.querySelector('td').getBoundingClientRect();\n  element.removeChild(table);\n  rowHeight = Math.ceil(rect.height);\n  return rowHeight;\n}\n/** @hidden */\n\nexport function isComplexField(field) {\n  return field.split('.').length > 1;\n}\n/** @hidden */\n\nexport function getComplexFieldID(field) {\n  if (field === void 0) {\n    field = '';\n  }\n\n  return field.replace(/\\./g, '___');\n}\n/** @hidden */\n\nexport function setComplexFieldID(field) {\n  if (field === void 0) {\n    field = '';\n  }\n\n  return field.replace(/___/g, '.');\n}\n/** @hidden */\n\nexport function isEditable(col, type, elem) {\n  var row = parentsUntil(elem, 'e-row');\n  var isOldRow = !row ? true : row && !row.classList.contains('e-insertedrow');\n\n  if (type === 'beginEdit' && isOldRow) {\n    if (col.isIdentity || col.isPrimaryKey || !col.allowEditing) {\n      return false;\n    }\n\n    return true;\n  } else if (type === 'add' && col.isIdentity) {\n    return false;\n  } else {\n    if (isOldRow && !col.allowEditing && !col.isIdentity && !col.isPrimaryKey) {\n      return false;\n    }\n\n    return true;\n  }\n}\n/** @hidden */\n\nexport function isActionPrevent(inst) {\n  var dlg = inst.element.querySelector('#' + inst.element.id + 'EditConfirm');\n  return inst.editSettings.mode === 'Batch' && inst.element.querySelectorAll('.e-updatedtd').length && inst.editSettings.showConfirmDialog && (dlg ? dlg.classList.contains('e-popup-close') : true);\n}\n/** @hidden */\n\nexport function wrap(elem, action) {\n  var clName = 'e-wrap';\n  elem = elem instanceof Array ? elem : [elem];\n\n  for (var i = 0; i < elem.length; i++) {\n    action ? elem[i].classList.add(clName) : elem[i].classList.remove(clName);\n  }\n}\n/** @hidden */\n\nexport function setFormatter(serviceLocator, column, isServerRendered) {\n  var fmtr = serviceLocator.getService('valueFormatter');\n  var format = 'format';\n  var args;\n\n  if (column.type === 'date' || column.type === 'datetime') {\n    args = {\n      type: column.type,\n      skeleton: column.format\n    };\n\n    if (isBlazor() && isServerRendered) {\n      var isServer = 'isServerRendered';\n      args[isServer] = isServerRendered;\n    }\n\n    if (typeof column.format === 'string' && column.format !== 'yMd') {\n      args[format] = column.format;\n    }\n  }\n\n  switch (column.type) {\n    case 'date':\n      column.setFormatter(fmtr.getFormatFunction(args));\n      column.setParser(fmtr.getParserFunction(args));\n      break;\n\n    case 'datetime':\n      column.setFormatter(fmtr.getFormatFunction(args));\n      column.setParser(fmtr.getParserFunction(args));\n      break;\n\n    case 'number':\n      column.setFormatter(fmtr.getFormatFunction({\n        format: column.format\n      }));\n      column.setParser(fmtr.getParserFunction({\n        format: column.format\n      }));\n      break;\n  }\n}\n/** @hidden */\n\nexport function addRemoveActiveClasses(cells, add) {\n  var args = [];\n\n  for (var _i = 2; _i < arguments.length; _i++) {\n    args[_i - 2] = arguments[_i];\n  }\n\n  for (var i = 0, len = cells.length; i < len; i++) {\n    if (add) {\n      classList(cells[i], args.slice(), []);\n      cells[i].setAttribute('aria-selected', 'true');\n    } else {\n      classList(cells[i], [], args.slice());\n      cells[i].removeAttribute('aria-selected');\n    }\n  }\n}\n/** @hidden */\n\nexport function distinctStringValues(result) {\n  var temp = {};\n  var res = [];\n\n  for (var i = 0; i < result.length; i++) {\n    if (!(result[i] in temp)) {\n      res.push(result[i].toString());\n      temp[result[i]] = 1;\n    }\n  }\n\n  return res;\n}\n/** @hidden */\n\nexport function getFilterMenuPostion(target, dialogObj, grid) {\n  var elementVisible = dialogObj.element.style.display;\n  dialogObj.element.style.display = 'block';\n  var dlgWidth = dialogObj.width;\n  var newpos;\n\n  if (!grid.enableRtl) {\n    newpos = calculateRelativeBasedPosition(target, dialogObj.element);\n    dialogObj.element.style.display = elementVisible;\n    dialogObj.element.style.top = newpos.top + target.getBoundingClientRect().height - 5 + 'px';\n    var leftPos = newpos.left - dlgWidth + target.clientWidth;\n\n    if (leftPos < 1) {\n      dialogObj.element.style.left = dlgWidth + leftPos - 16 + 'px'; // right calculation\n    } else {\n      dialogObj.element.style.left = leftPos + -4 + 'px';\n    }\n  } else {\n    newpos = calculatePosition(target, 'left', 'bottom');\n    dialogObj.element.style.top = newpos.top + target.getBoundingClientRect().height - 35 + 'px';\n    dialogObj.element.style.display = elementVisible;\n    var leftPos = newpos.left - dlgWidth + target.clientWidth;\n\n    if (leftPos < 1) {\n      dialogObj.element.style.left = dlgWidth + leftPos + -16 + 'px';\n    } else {\n      dialogObj.element.style.left = leftPos - 16 + 'px';\n    }\n  }\n}\n/** @hidden */\n\nexport function getZIndexCalcualtion(args, dialogObj) {\n  args.popup.element.style.zIndex = (dialogObj.zIndex + 1).toString();\n}\n/** @hidden */\n\nexport function toogleCheckbox(elem) {\n  var span = elem.querySelector('.e-frame');\n  span.classList.contains('e-check') ? classList(span, ['e-uncheck'], ['e-check']) : classList(span, ['e-check'], ['e-uncheck']);\n}\n/** @hidden */\n\nexport function createCboxWithWrap(uid, elem, className) {\n  var div = createElement('div', {\n    className: className\n  });\n  div.appendChild(elem);\n  div.setAttribute('uid', uid);\n  return div;\n}\n/** @hidden */\n\nexport function removeAddCboxClasses(elem, checked) {\n  removeClass([elem], ['e-check', 'e-stop', 'e-uncheck']);\n\n  if (checked) {\n    elem.classList.add('e-check');\n  } else {\n    elem.classList.add('e-uncheck');\n  }\n}\n/**\n * Refresh the Row model's foreign data.\n * @param row - Grid Row model object.\n * @param columns - Foreign columns array.\n * @param data - Updated Row data.\n * @hidden\n */\n\nexport function refreshForeignData(row, columns, data) {\n  columns.forEach(function (col) {\n    setValue(col.field, getForeignData(col, data), row.foreignKeyData);\n  });\n  row.cells.forEach(function (cell) {\n    if (cell.isForeignKey) {\n      setValue('foreignKeyData', getValue(cell.column.field, row.foreignKeyData), cell);\n    }\n  });\n}\n/**\n * Get the foreign data for the corresponding cell value.\n * @param column - Foreign Key column\n * @param data - Row data.\n * @param lValue - cell value.\n * @param foreignData - foreign data source.\n * @hidden\n */\n\nexport function getForeignData(column, data, lValue, foreignKeyData) {\n  var fField = column.foreignKeyField;\n  var key = !isNullOrUndefined(lValue) ? lValue : valueAccessor(column.field, data, column);\n  key = isNullOrUndefined(key) ? '' : key;\n  var query = new Query();\n  var fdata = foreignKeyData || (column.dataSource instanceof DataManager && column.dataSource.dataSource.json.length ? column.dataSource.dataSource.json : column.columnData);\n\n  if (key.getDay) {\n    query.where(getDatePredicate({\n      field: fField,\n      operator: 'equal',\n      value: key,\n      matchCase: false\n    }));\n  } else {\n    query.where(fField, '==', key, false);\n  }\n\n  return new DataManager(fdata).executeLocal(query);\n}\n/**\n * To use to get the column's object by the foreign key value.\n * @param foreignKeyValue - Defines ForeignKeyValue.\n * @param columns - Array of column object.\n * @hidden\n */\n\nexport function getColumnByForeignKeyValue(foreignKeyValue, columns) {\n  var column;\n  return columns.some(function (col) {\n    column = col;\n    return col.foreignKeyValue === foreignKeyValue;\n  }) && column;\n}\n/**\n * @hidden\n * @param filterObject - Defines predicate model object\n */\n\nexport function getDatePredicate(filterObject, type) {\n  var datePredicate;\n  var prevDate;\n  var nextDate;\n  var prevObj = baseExtend({}, getActualProperties(filterObject));\n  var nextObj = baseExtend({}, getActualProperties(filterObject));\n\n  if (filterObject.value === null) {\n    datePredicate = new Predicate(prevObj.field, prevObj.operator, prevObj.value, false);\n    return datePredicate;\n  }\n\n  var value = new Date(filterObject.value);\n\n  if (filterObject.operator === 'equal' || filterObject.operator === 'notequal') {\n    if (type === 'datetime') {\n      prevDate = new Date(value.setSeconds(value.getSeconds() - 1));\n      nextDate = new Date(value.setSeconds(value.getSeconds() + 2));\n      filterObject.value = new Date(value.setSeconds(nextDate.getSeconds() - 1));\n    } else {\n      prevDate = new Date(value.setHours(0) - 1);\n      nextDate = new Date(value.setHours(24));\n    }\n\n    prevObj.value = prevDate;\n    nextObj.value = nextDate;\n\n    if (filterObject.operator === 'equal') {\n      prevObj.operator = 'greaterthan';\n      nextObj.operator = 'lessthan';\n    } else if (filterObject.operator === 'notequal') {\n      prevObj.operator = 'lessthanorequal';\n      nextObj.operator = 'greaterthanorequal';\n    }\n\n    var predicateSt = new Predicate(prevObj.field, prevObj.operator, prevObj.value, false);\n    var predicateEnd = new Predicate(nextObj.field, nextObj.operator, nextObj.value, false);\n    datePredicate = filterObject.operator === 'equal' ? predicateSt.and(predicateEnd) : predicateSt.or(predicateEnd);\n  } else {\n    if (typeof prevObj.value === 'string') {\n      prevObj.value = new Date(prevObj.value);\n    }\n\n    var predicates = new Predicate(prevObj.field, prevObj.operator, prevObj.value, false);\n    datePredicate = predicates;\n  }\n\n  if (filterObject.setProperties) {\n    filterObject.setProperties({\n      ejpredicate: datePredicate\n    }, true);\n  } else {\n    filterObject.ejpredicate = datePredicate;\n  }\n\n  return datePredicate;\n}\n/**\n * @hidden\n */\n\nexport function renderMovable(ele, frzCols) {\n  var mEle = ele.cloneNode(true);\n\n  for (var i = 0; i < frzCols; i++) {\n    mEle.removeChild(mEle.children[0]);\n  }\n\n  for (var i = frzCols, len = ele.childElementCount; i < len; i++) {\n    ele.removeChild(ele.children[ele.childElementCount - 1]);\n  }\n\n  return mEle;\n}\n/**\n * @hidden\n */\n\nexport function isGroupAdaptive(grid) {\n  return grid.enableVirtualization && grid.groupSettings.columns.length > 0 && grid.isVirtualAdaptive;\n}\n/**\n * @hidden\n */\n\nexport function getObject(field, object) {\n  if (field === void 0) {\n    field = '';\n  }\n\n  if (field) {\n    var value = object;\n    var splits = field.split('.');\n\n    for (var i = 0; i < splits.length && !isNullOrUndefined(value); i++) {\n      value = value[splits[i]];\n    }\n\n    return value;\n  }\n}\n/**\n * @hidden\n */\n\nexport function getCustomDateFormat(format, colType) {\n  var intl = new Internationalization();\n  var formatvalue;\n  var formatter = 'format';\n  var type = 'type';\n\n  if (colType === 'date') {\n    formatvalue = typeof format === 'object' ? intl.getDatePattern({\n      type: format[type] ? format[type] : 'date',\n      format: format[formatter]\n    }, false) : isBlazor() ? intl.getDatePattern({\n      type: 'dateTime',\n      format: format\n    }, false) : intl.getDatePattern({\n      type: 'dateTime',\n      skeleton: format\n    }, false);\n  } else {\n    formatvalue = typeof format === 'object' ? intl.getDatePattern({\n      type: format[type] ? format[type] : 'dateTime',\n      format: format[formatter]\n    }, false) : isBlazor() ? intl.getDatePattern({\n      type: 'dateTime',\n      format: format\n    }, false) : intl.getDatePattern({\n      type: 'dateTime',\n      skeleton: format\n    }, false);\n  }\n\n  return formatvalue;\n}\n/**\n * @hidden\n */\n\nexport function getExpandedState(gObj, hierarchyPrintMode) {\n  var rows = gObj.getRowsObject();\n  var obj = {};\n\n  for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n    var row = rows_1[_i];\n\n    if (row.isExpand && !row.isDetailRow) {\n      var index = gObj.allowPaging && gObj.printMode === 'AllPages' ? row.index + gObj.pageSettings.currentPage * gObj.pageSettings.pageSize - gObj.pageSettings.pageSize : row.index;\n      obj[index] = {};\n      obj[index].isExpand = true;\n      obj[index].gridModel = getPrintGridModel(row.childGrid, hierarchyPrintMode);\n      obj[index].gridModel.query = gObj.childGrid.query;\n    }\n  }\n\n  return obj;\n}\n/**\n * @hidden\n */\n\nexport function getPrintGridModel(gObj, hierarchyPrintMode) {\n  if (hierarchyPrintMode === void 0) {\n    hierarchyPrintMode = 'Expanded';\n  }\n\n  var printGridModel = {};\n\n  if (!gObj) {\n    return printGridModel;\n  }\n\n  for (var _i = 0, _a = Print.printGridProp; _i < _a.length; _i++) {\n    var key = _a[_i];\n\n    if (key === 'columns') {\n      printGridModel[key] = getActualPropFromColl(gObj[key]);\n    } else if (key === 'allowPaging') {\n      printGridModel[key] = gObj.printMode === 'CurrentPage';\n    } else {\n      printGridModel[key] = getActualProperties(gObj[key]);\n    }\n  }\n\n  if (gObj.childGrid && hierarchyPrintMode !== 'None') {\n    printGridModel.expandedRows = getExpandedState(gObj, hierarchyPrintMode);\n  }\n\n  return printGridModel;\n}\n/**\n * @hidden\n */\n\nexport function extendObjWithFn(copied, first, second, deep) {\n  var res = copied || {};\n  var len = arguments.length;\n\n  if (deep) {\n    len = len - 1;\n  }\n\n  var _loop_1 = function (i) {\n    if (!arguments_1[i]) {\n      return \"continue\";\n    }\n\n    var obj1 = arguments_1[i];\n    var keys = Object.keys(Object.getPrototypeOf(obj1)).length ? Object.keys(obj1).concat(getPrototypesOfObj(obj1)) : Object.keys(obj1);\n    keys.forEach(function (key) {\n      var source = res[key];\n      var cpy = obj1[key];\n      var cln;\n\n      if (deep && (isObject(cpy) || Array.isArray(cpy))) {\n        if (isObject(cpy)) {\n          cln = source ? source : {};\n          res[key] = baseExtend({}, cln, cpy, deep);\n        } else {\n          cln = source ? source : [];\n          res[key] = baseExtend([], cln, cpy, deep);\n        }\n      } else {\n        res[key] = cpy;\n      }\n    });\n  };\n\n  var arguments_1 = arguments;\n\n  for (var i = 1; i < len; i++) {\n    _loop_1(i);\n  }\n\n  return res;\n}\n/**\n * @hidden\n */\n\nfunction getPrototypesOfObj(obj) {\n  var keys = [];\n\n  while (Object.getPrototypeOf(obj) && Object.keys(Object.getPrototypeOf(obj)).length) {\n    keys = keys.concat(Object.keys(Object.getPrototypeOf(obj)));\n    obj = Object.getPrototypeOf(obj);\n  }\n\n  return keys;\n}\n/**\n * @hidden\n */\n\n\nexport function measureColumnDepth(column) {\n  var max = 0;\n\n  for (var i = 0; i < column.length; i++) {\n    var depth = checkDepth(column[i], 0);\n\n    if (max < depth) {\n      max = depth;\n    }\n  }\n\n  return max + 1;\n}\n/**\n * @hidden\n */\n\nexport function checkDepth(col, index) {\n  var max = index;\n  var indices = [];\n\n  if (col.columns) {\n    index++;\n\n    for (var i = 0; i < col.columns.length; i++) {\n      indices[i] = checkDepth(col.columns[i], index);\n    }\n\n    for (var j = 0; j < indices.length; j++) {\n      if (max < indices[j]) {\n        max = indices[j];\n      }\n    }\n\n    index = max;\n  }\n\n  return index;\n}\n/**\n * @hidden\n */\n\nexport function refreshFilteredColsUid(gObj, filteredCols) {\n  for (var i = 0; i < filteredCols.length; i++) {\n    filteredCols[i].uid = filteredCols[i].isForeignKey ? getColumnByForeignKeyValue(filteredCols[i].field, gObj.getForeignKeyColumns()).uid : gObj.getColumnByField(filteredCols[i].field).uid;\n  }\n}\n/** @hidden */\n\nexport var Global;\n\n(function (Global) {\n  Global.timer = null;\n})(Global || (Global = {}));\n/**\n * @hidden\n */\n\n\nexport function getTransformValues(element) {\n  var style = document.defaultView.getComputedStyle(element, null);\n  var transformV = style.getPropertyValue('transform');\n  var replacedTv = transformV.replace(/,/g, '');\n  var translateX = parseFloat(replacedTv.split(' ')[4]);\n  var translateY = parseFloat(replacedTv.split(' ')[5]);\n  return {\n    width: translateX,\n    height: translateY\n  };\n}\n/** @hidden */\n\nexport function applyBiggerTheme(rootElement, element) {\n  if (rootElement.classList.contains('e-bigger')) {\n    element.classList.add('e-bigger');\n  }\n}","map":{"version":3,"sources":["C:/CN2/workspace-trunk/kain-front-end/node_modules/@syncfusion/ej2-grids/src/grid/base/util.js"],"names":["ChildProperty","compile","baseTemplateComplier","setValue","Internationalization","extend","baseExtend","isNullOrUndefined","getValue","classList","setStyleAttribute","addClass","attributes","remove","createElement","removeClass","isObject","isBlazor","DataUtil","Query","DataManager","Predicate","Column","calculateRelativeBasedPosition","calculatePosition","Print","doesImplementInterface","target","checkFor","prototype","valueAccessor","field","data","column","getObject","getUpdateUsingRaf","updateFunction","callBack","requestAnimationFrame","e","updatecloneRow","grid","nRows","actualRows","vRows","i","length","isDataRow","push","isExpand","isCaptionRow","getCollapsedRowsCount","vcRows","count","val","gSummary","total","gLen","groupSettings","columns","records","items","value","dataRowCnt","agrCnt","indent","len","gLevel","GroupGuid","childLevels","recursive","row","rCount","j","length_1","nLevel","iterateArrayOrObject","collection","predicate","result","pred","iterateExtend","array","obj","getActualProperties","templateCompiler","template","document","querySelectorAll","querySelector","innerHTML","trim","undefined","setStyleAndAttributes","node","customAttributes","copyAttr","literals","copied","first","second","exclude","moved","Object","keys","forEach","index","indexOf","setColumnIndex","columnModel","ind","prepareColumns","autoWidth","c","type","toLowerCase","allowReordering","headerText","foreignKeyValue","foreignKeyField","window","width","visible","setCssInGridPopUp","popUp","className","popUpSpan","position","parentElement","getBoundingClientRect","targetPosition","isBottomTail","style","display","clientY","changedTouches","offsetHeight","top","left","getPopupLeftPosition","popup","offsetWidth","x","getPosition","right","parentsUntil","elem","selector","isID","parent","id","contains","getElementIndex","element","elements","isEqualNode","inArray","getActualPropFromColl","coll","hasOwnProperty","properties","removeElement","slice","call","clientX","y","uid","getUid","prefix","appendChildren","children","appendChild","parents","calculateAggregate","context","temp","customAggregate","Array","aggregates","scrollWidth","getScrollBarWidth","divNode","cssText","body","clientWidth","removeChild","rowHeight","getRowHeight","table","styles","rect","Math","ceil","height","isComplexField","split","getComplexFieldID","replace","setComplexFieldID","isEditable","col","isOldRow","isIdentity","isPrimaryKey","allowEditing","isActionPrevent","inst","dlg","editSettings","mode","showConfirmDialog","wrap","action","clName","add","setFormatter","serviceLocator","isServerRendered","fmtr","getService","format","args","skeleton","isServer","getFormatFunction","setParser","getParserFunction","addRemoveActiveClasses","cells","_i","arguments","setAttribute","removeAttribute","distinctStringValues","res","toString","getFilterMenuPostion","dialogObj","elementVisible","dlgWidth","newpos","enableRtl","leftPos","getZIndexCalcualtion","zIndex","toogleCheckbox","span","createCboxWithWrap","div","removeAddCboxClasses","checked","refreshForeignData","getForeignData","foreignKeyData","cell","isForeignKey","lValue","fField","key","query","fdata","dataSource","json","columnData","getDay","where","getDatePredicate","operator","matchCase","executeLocal","getColumnByForeignKeyValue","some","filterObject","datePredicate","prevDate","nextDate","prevObj","nextObj","Date","setSeconds","getSeconds","setHours","predicateSt","predicateEnd","and","or","predicates","setProperties","ejpredicate","renderMovable","ele","frzCols","mEle","cloneNode","childElementCount","isGroupAdaptive","enableVirtualization","isVirtualAdaptive","object","splits","getCustomDateFormat","colType","intl","formatvalue","formatter","getDatePattern","getExpandedState","gObj","hierarchyPrintMode","rows","getRowsObject","rows_1","isDetailRow","allowPaging","printMode","pageSettings","currentPage","pageSize","gridModel","getPrintGridModel","childGrid","printGridModel","_a","printGridProp","expandedRows","extendObjWithFn","deep","_loop_1","arguments_1","obj1","getPrototypeOf","concat","getPrototypesOfObj","source","cpy","cln","isArray","measureColumnDepth","max","depth","checkDepth","indices","refreshFilteredColsUid","filteredCols","getForeignKeyColumns","getColumnByField","Global","timer","getTransformValues","defaultView","getComputedStyle","transformV","getPropertyValue","replacedTv","translateX","parseFloat","translateY","applyBiggerTheme","rootElement"],"mappings":"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","sourcesContent":["import { ChildProperty, compile as baseTemplateComplier, setValue, Internationalization } from '@syncfusion/ej2-base';\nimport { extend as baseExtend, isNullOrUndefined, getValue, classList } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, addClass, attributes, remove, createElement, removeClass } from '@syncfusion/ej2-base';\nimport { isObject, isBlazor } from '@syncfusion/ej2-base';\nimport { DataUtil, Query, DataManager, Predicate } from '@syncfusion/ej2-data';\nimport { Column } from '../models/column';\nimport { calculateRelativeBasedPosition, calculatePosition } from '@syncfusion/ej2-popups';\nimport { Print } from '../actions/print';\n//https://typescript.codeplex.com/discussions/401501\n/**\n * Function to check whether target object implement specific interface\n * @param  {Object} target\n * @param  {string} checkFor\n * @returns no\n * @hidden\n */\nexport function doesImplementInterface(target, checkFor) {\n    /* tslint:disable:no-any */\n    return target.prototype && checkFor in target.prototype;\n}\n/**\n * Function to get value from provided data\n * @param  {string} field\n * @param  {Object} data\n * @param  {IColumn} column\n * @hidden\n */\nexport function valueAccessor(field, data, column) {\n    return (isNullOrUndefined(field) || field === '') ? '' : DataUtil.getObject(field, data);\n}\n/**\n * The function used to update Dom using requestAnimationFrame.\n * @param  {Function} fn - Function that contains the actual action\n * @return {Promise<T>}\n * @hidden\n */\nexport function getUpdateUsingRaf(updateFunction, callBack) {\n    requestAnimationFrame(function () {\n        try {\n            callBack(null, updateFunction());\n        }\n        catch (e) {\n            callBack(e);\n        }\n    });\n}\n/**\n * @hidden\n */\nexport function updatecloneRow(grid) {\n    var nRows = [];\n    var actualRows = grid.vRows;\n    for (var i = 0; i < actualRows.length; i++) {\n        if (actualRows[i].isDataRow) {\n            nRows.push(actualRows[i]);\n        }\n        else if (!actualRows[i].isDataRow) {\n            nRows.push(actualRows[i]);\n            if (!actualRows[i].isExpand && actualRows[i].isCaptionRow) {\n                i += getCollapsedRowsCount(actualRows[i], grid);\n            }\n        }\n    }\n    grid.vcRows = nRows;\n}\n/**\n * @hidden\n */\nvar count = 0;\nexport function getCollapsedRowsCount(val, grid) {\n    count = 0;\n    var gSummary = 'gSummary';\n    var total = 'count';\n    var gLen = grid.groupSettings.columns.length;\n    var records = 'records';\n    var items = 'items';\n    var value = val[gSummary];\n    var dataRowCnt = 0;\n    var agrCnt = 'aggregatesCount';\n    if (value === val.data[total]) {\n        if (grid.groupSettings.columns.length && !isNullOrUndefined(val[agrCnt])) {\n            if (grid.groupSettings.columns.length !== 1 && val[agrCnt]) {\n                count += (val.indent !== 0 && (value) < 2) ? (val[gSummary] * ((gLen - val.indent) + (gLen - val.indent) * val[agrCnt])) :\n                    (val[gSummary] * ((gLen - val.indent) + (gLen - val.indent - 1) * val[agrCnt])) + val[agrCnt];\n            }\n            else if (val[agrCnt] && grid.groupSettings.columns.length === 1) {\n                count += (val[gSummary] * (gLen - val.indent)) + val[agrCnt];\n            }\n        }\n        else if (grid.groupSettings.columns.length) {\n            if (grid.groupSettings.columns.length !== 1) {\n                count += val[gSummary] * (grid.groupSettings.columns.length - val.indent);\n            }\n            else {\n                count += val[gSummary];\n            }\n        }\n        return count;\n    }\n    else {\n        for (var i = 0, len = val.data[items].length; i < len; i++) {\n            var gLevel = val.data[items][i];\n            count += gLevel[items].length + ((gLen !== grid.columns.length) &&\n                !isNullOrUndefined(gLevel[items][records]) ? gLevel[items][records].length : 0);\n            dataRowCnt += (!isNullOrUndefined(gLevel[items][records]) && !isNullOrUndefined(val[agrCnt])) ? gLevel[items][records].length :\n                gLevel[items].length;\n            if (gLevel[items].GroupGuid && gLevel[items].childLevels !== 0) {\n                recursive(gLevel);\n            }\n        }\n        count += val.data[items].length;\n        if (!isNullOrUndefined(val[agrCnt])) {\n            if (val[agrCnt] && count && dataRowCnt !== 0) {\n                count += ((count - dataRowCnt) * val[agrCnt]) + val[agrCnt];\n            }\n        }\n    }\n    return count;\n}\n/**\n * @hidden\n */\nexport function recursive(row) {\n    var items = 'items';\n    var rCount = 'count';\n    for (var j = 0, length_1 = row[items].length; j < length_1; j++) {\n        var nLevel = row[items][j];\n        count += nLevel[rCount];\n        if (nLevel[items].childLevels !== 0) {\n            recursive(nLevel);\n        }\n    }\n}\n/**\n * @hidden\n */\nexport function iterateArrayOrObject(collection, predicate) {\n    var result = [];\n    for (var i = 0, len = collection.length; i < len; i++) {\n        var pred = predicate(collection[i], i);\n        if (!isNullOrUndefined(pred)) {\n            result.push(pred);\n        }\n    }\n    return result;\n}\n/** @hidden */\nexport function iterateExtend(array) {\n    var obj = [];\n    for (var i = 0; i < array.length; i++) {\n        obj.push(baseExtend({}, getActualProperties(array[i]), {}, true));\n    }\n    return obj;\n}\n/** @hidden */\nexport function templateCompiler(template) {\n    if (template) {\n        var e = void 0;\n        try {\n            if (document.querySelectorAll(template).length) {\n                return baseTemplateComplier(document.querySelector(template).innerHTML.trim());\n            }\n        }\n        catch (e) {\n            return baseTemplateComplier(template);\n        }\n    }\n    return undefined;\n}\n/** @hidden */\nexport function setStyleAndAttributes(node, customAttributes) {\n    var copyAttr = {};\n    var literals = ['style', 'class'];\n    //Dont touch the original object - make a copy\n    baseExtend(copyAttr, customAttributes, {});\n    if ('style' in copyAttr) {\n        setStyleAttribute(node, copyAttr[literals[0]]);\n        delete copyAttr[literals[0]];\n    }\n    if ('class' in copyAttr) {\n        addClass([node], copyAttr[literals[1]]);\n        delete copyAttr[literals[1]];\n    }\n    attributes(node, copyAttr);\n}\n/** @hidden */\nexport function extend(copied, first, second, exclude) {\n    var moved = baseExtend(copied, first, second);\n    Object.keys(moved).forEach(function (value, index) {\n        if (exclude && exclude.indexOf(value) !== -1) {\n            delete moved[value];\n        }\n    });\n    return moved;\n}\n/** @hidden */\nexport function setColumnIndex(columnModel, ind) {\n    if (ind === void 0) { ind = 0; }\n    for (var i = 0, len = columnModel.length; i < len; i++) {\n        if (columnModel[i].columns) {\n            columnModel[i].index = isNullOrUndefined(columnModel[i].index) ? ind : columnModel[i].index;\n            ind++;\n            ind = setColumnIndex(columnModel[i].columns, ind);\n        }\n        else {\n            columnModel[i].index = isNullOrUndefined(columnModel[i].index) ? ind : columnModel[i].index;\n            ind++;\n        }\n    }\n    return ind;\n}\n/** @hidden */\nexport function prepareColumns(columns, autoWidth) {\n    for (var c = 0, len = columns.length; c < len; c++) {\n        var column = void 0;\n        if (typeof columns[c] === 'string') {\n            column = new Column({ field: columns[c] });\n        }\n        else if (!(columns[c] instanceof Column)) {\n            if (!columns[c].columns) {\n                column = new Column(columns[c]);\n            }\n            else {\n                columns[c].columns = prepareColumns(columns[c].columns);\n                column = new Column(columns[c]);\n            }\n        }\n        else {\n            column = columns[c];\n        }\n        if (column.type && column.type.toLowerCase() === 'checkbox') {\n            column.allowReordering = false;\n        }\n        column.headerText = isNullOrUndefined(column.headerText) ? column.foreignKeyValue || column.field || '' : column.headerText;\n        column.foreignKeyField = column.foreignKeyField || column.field;\n        column.valueAccessor = (typeof column.valueAccessor === 'string' ? getValue(column.valueAccessor, window)\n            : column.valueAccessor) || valueAccessor;\n        column.width = autoWidth && isNullOrUndefined(column.width) ? 200 : column.width;\n        if (isNullOrUndefined(column.visible)) {\n            column.visible = true;\n        }\n        columns[c] = column;\n    }\n    return columns;\n}\n/** @hidden */\nexport function setCssInGridPopUp(popUp, e, className) {\n    var popUpSpan = popUp.querySelector('span');\n    var position = popUp.parentElement.getBoundingClientRect();\n    var targetPosition = e.target.getBoundingClientRect();\n    var isBottomTail;\n    popUpSpan.className = className;\n    popUp.style.display = '';\n    isBottomTail = (isNullOrUndefined(e.clientY) ? e.changedTouches[0].clientY :\n        e.clientY) > popUp.offsetHeight + 10;\n    popUp.style.top = targetPosition.top - position.top +\n        (isBottomTail ? -(popUp.offsetHeight + 10) : popUp.offsetHeight + 10) + 'px'; //10px for tail element\n    popUp.style.left = getPopupLeftPosition(popUp, e, targetPosition, position.left) + 'px';\n    if (isBottomTail) {\n        popUp.querySelector('.e-downtail').style.display = '';\n        popUp.querySelector('.e-uptail').style.display = 'none';\n    }\n    else {\n        popUp.querySelector('.e-downtail').style.display = 'none';\n        popUp.querySelector('.e-uptail').style.display = '';\n    }\n}\n/** @hidden */\nfunction getPopupLeftPosition(popup, e, targetPosition, left) {\n    var width = popup.offsetWidth / 2;\n    var x = getPosition(e).x;\n    if (x - targetPosition.left < width) {\n        return targetPosition.left - left;\n    }\n    else if (targetPosition.right - x < width) {\n        return targetPosition.right - left - width * 2;\n    }\n    else {\n        return x - left - width;\n    }\n}\n/** @hidden */\nexport function getActualProperties(obj) {\n    if (obj instanceof ChildProperty) {\n        return getValue('properties', obj);\n    }\n    else {\n        return obj;\n    }\n}\n/** @hidden */\nexport function parentsUntil(elem, selector, isID) {\n    var parent = elem;\n    while (parent) {\n        if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n            break;\n        }\n        parent = parent.parentElement;\n    }\n    return parent;\n}\n/** @hidden */\nexport function getElementIndex(element, elements) {\n    var index = -1;\n    for (var i = 0, len = elements.length; i < len; i++) {\n        if (elements[i].isEqualNode(element)) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n}\n/** @hidden */\nexport function inArray(value, collection) {\n    for (var i = 0, len = collection.length; i < len; i++) {\n        if (collection[i] === value) {\n            return i;\n        }\n    }\n    return -1;\n}\n/** @hidden */\nexport function getActualPropFromColl(collection) {\n    var coll = [];\n    for (var i = 0, len = collection.length; i < len; i++) {\n        if (collection[i].hasOwnProperty('properties')) {\n            coll.push(collection[i].properties);\n        }\n        else {\n            coll.push(collection[i]);\n        }\n    }\n    return coll;\n}\n/** @hidden */\nexport function removeElement(target, selector) {\n    var elements = [].slice.call(target.querySelectorAll(selector));\n    for (var i = 0; i < elements.length; i++) {\n        remove(elements[i]);\n    }\n}\n/** @hidden */\nexport function getPosition(e) {\n    var position = {};\n    position.x = (isNullOrUndefined(e.clientX) ? e.changedTouches[0].clientX :\n        e.clientX);\n    position.y = (isNullOrUndefined(e.clientY) ? e.changedTouches[0].clientY :\n        e.clientY);\n    return position;\n}\nvar uid = 0;\n/** @hidden */\nexport function getUid(prefix) {\n    return prefix + uid++;\n}\n/** @hidden */\nexport function appendChildren(elem, children) {\n    for (var i = 0, len = children.length; i < len; i++) {\n        if (len === children.length) {\n            elem.appendChild(children[i]);\n        }\n        else {\n            elem.appendChild(children[0]);\n        }\n    }\n    return elem;\n}\n/** @hidden */\nexport function parents(elem, selector, isID) {\n    var parent = elem;\n    var parents = [];\n    while (parent) {\n        if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n            parents.push(parent);\n        }\n        parent = parent.parentElement;\n    }\n    return parents;\n}\n/** @hidden */\nexport function calculateAggregate(type, data, column, context) {\n    if (type === 'Custom') {\n        var temp = column.customAggregate;\n        if (typeof temp === 'string') {\n            temp = getValue(temp, window);\n        }\n        return temp ? temp.call(context, data, column) : '';\n    }\n    return (column.field in data || data instanceof Array) ? DataUtil.aggregates[type.toLowerCase()](data, column.field) : null;\n}\n/** @hidden */\nvar scrollWidth = null;\n/** @hidden */\nexport function getScrollBarWidth() {\n    if (scrollWidth !== null) {\n        return scrollWidth;\n    }\n    var divNode = document.createElement('div');\n    var value = 0;\n    divNode.style.cssText = 'width:100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;';\n    document.body.appendChild(divNode);\n    value = (divNode.offsetWidth - divNode.clientWidth) | 0;\n    document.body.removeChild(divNode);\n    return scrollWidth = value;\n}\n/** @hidden */\nvar rowHeight;\n/** @hidden */\nexport function getRowHeight(element) {\n    if (rowHeight !== undefined) {\n        return rowHeight;\n    }\n    var table = createElement('table', { className: 'e-table', styles: 'visibility: hidden' });\n    table.innerHTML = '<tr><td class=\"e-rowcell\">A<td></tr>';\n    element.appendChild(table);\n    var rect = table.querySelector('td').getBoundingClientRect();\n    element.removeChild(table);\n    rowHeight = Math.ceil(rect.height);\n    return rowHeight;\n}\n/** @hidden */\nexport function isComplexField(field) {\n    return field.split('.').length > 1;\n}\n/** @hidden */\nexport function getComplexFieldID(field) {\n    if (field === void 0) { field = ''; }\n    return field.replace(/\\./g, '___');\n}\n/** @hidden */\nexport function setComplexFieldID(field) {\n    if (field === void 0) { field = ''; }\n    return field.replace(/___/g, '.');\n}\n/** @hidden */\nexport function isEditable(col, type, elem) {\n    var row = parentsUntil(elem, 'e-row');\n    var isOldRow = !row ? true : row && !row.classList.contains('e-insertedrow');\n    if (type === 'beginEdit' && isOldRow) {\n        if (col.isIdentity || col.isPrimaryKey || !col.allowEditing) {\n            return false;\n        }\n        return true;\n    }\n    else if (type === 'add' && col.isIdentity) {\n        return false;\n    }\n    else {\n        if (isOldRow && !col.allowEditing && !col.isIdentity && !col.isPrimaryKey) {\n            return false;\n        }\n        return true;\n    }\n}\n/** @hidden */\nexport function isActionPrevent(inst) {\n    var dlg = inst.element.querySelector('#' + inst.element.id + 'EditConfirm');\n    return inst.editSettings.mode === 'Batch' &&\n        (inst.element.querySelectorAll('.e-updatedtd').length) && inst.editSettings.showConfirmDialog &&\n        (dlg ? dlg.classList.contains('e-popup-close') : true);\n}\n/** @hidden */\nexport function wrap(elem, action) {\n    var clName = 'e-wrap';\n    elem = elem instanceof Array ? elem : [elem];\n    for (var i = 0; i < elem.length; i++) {\n        action ? elem[i].classList.add(clName) : elem[i].classList.remove(clName);\n    }\n}\n/** @hidden */\nexport function setFormatter(serviceLocator, column, isServerRendered) {\n    var fmtr = serviceLocator.getService('valueFormatter');\n    var format = 'format';\n    var args;\n    if (column.type === 'date' || column.type === 'datetime') {\n        args = { type: column.type, skeleton: column.format };\n        if (isBlazor() && isServerRendered) {\n            var isServer = 'isServerRendered';\n            args[isServer] = isServerRendered;\n        }\n        if ((typeof (column.format) === 'string') && column.format !== 'yMd') {\n            args[format] = column.format;\n        }\n    }\n    switch (column.type) {\n        case 'date':\n            column.setFormatter(fmtr.getFormatFunction(args));\n            column.setParser(fmtr.getParserFunction(args));\n            break;\n        case 'datetime':\n            column.setFormatter(fmtr.getFormatFunction(args));\n            column.setParser(fmtr.getParserFunction(args));\n            break;\n        case 'number':\n            column.setFormatter(fmtr.getFormatFunction({ format: column.format }));\n            column.setParser(fmtr.getParserFunction({ format: column.format }));\n            break;\n    }\n}\n/** @hidden */\nexport function addRemoveActiveClasses(cells, add) {\n    var args = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        args[_i - 2] = arguments[_i];\n    }\n    for (var i = 0, len = cells.length; i < len; i++) {\n        if (add) {\n            classList(cells[i], args.slice(), []);\n            cells[i].setAttribute('aria-selected', 'true');\n        }\n        else {\n            classList(cells[i], [], args.slice());\n            cells[i].removeAttribute('aria-selected');\n        }\n    }\n}\n/** @hidden */\nexport function distinctStringValues(result) {\n    var temp = {};\n    var res = [];\n    for (var i = 0; i < result.length; i++) {\n        if (!(result[i] in temp)) {\n            res.push(result[i].toString());\n            temp[result[i]] = 1;\n        }\n    }\n    return res;\n}\n/** @hidden */\nexport function getFilterMenuPostion(target, dialogObj, grid) {\n    var elementVisible = dialogObj.element.style.display;\n    dialogObj.element.style.display = 'block';\n    var dlgWidth = dialogObj.width;\n    var newpos;\n    if (!grid.enableRtl) {\n        newpos = calculateRelativeBasedPosition(target, dialogObj.element);\n        dialogObj.element.style.display = elementVisible;\n        dialogObj.element.style.top = (newpos.top + target.getBoundingClientRect().height) - 5 + 'px';\n        var leftPos = ((newpos.left - dlgWidth) + target.clientWidth);\n        if (leftPos < 1) {\n            dialogObj.element.style.left = (dlgWidth + leftPos) - 16 + 'px'; // right calculation\n        }\n        else {\n            dialogObj.element.style.left = leftPos + -4 + 'px';\n        }\n    }\n    else {\n        newpos = calculatePosition(target, 'left', 'bottom');\n        dialogObj.element.style.top = (newpos.top + target.getBoundingClientRect().height) - 35 + 'px';\n        dialogObj.element.style.display = elementVisible;\n        var leftPos = ((newpos.left - dlgWidth) + target.clientWidth);\n        if (leftPos < 1) {\n            dialogObj.element.style.left = (dlgWidth + leftPos) + -16 + 'px';\n        }\n        else {\n            dialogObj.element.style.left = leftPos - 16 + 'px';\n        }\n    }\n}\n/** @hidden */\nexport function getZIndexCalcualtion(args, dialogObj) {\n    args.popup.element.style.zIndex = (dialogObj.zIndex + 1).toString();\n}\n/** @hidden */\nexport function toogleCheckbox(elem) {\n    var span = elem.querySelector('.e-frame');\n    span.classList.contains('e-check') ? classList(span, ['e-uncheck'], ['e-check']) :\n        classList(span, ['e-check'], ['e-uncheck']);\n}\n/** @hidden */\nexport function createCboxWithWrap(uid, elem, className) {\n    var div = createElement('div', { className: className });\n    div.appendChild(elem);\n    div.setAttribute('uid', uid);\n    return div;\n}\n/** @hidden */\nexport function removeAddCboxClasses(elem, checked) {\n    removeClass([elem], ['e-check', 'e-stop', 'e-uncheck']);\n    if (checked) {\n        elem.classList.add('e-check');\n    }\n    else {\n        elem.classList.add('e-uncheck');\n    }\n}\n/**\n * Refresh the Row model's foreign data.\n * @param row - Grid Row model object.\n * @param columns - Foreign columns array.\n * @param data - Updated Row data.\n * @hidden\n */\nexport function refreshForeignData(row, columns, data) {\n    columns.forEach(function (col) {\n        setValue(col.field, getForeignData(col, data), row.foreignKeyData);\n    });\n    row.cells.forEach(function (cell) {\n        if (cell.isForeignKey) {\n            setValue('foreignKeyData', getValue(cell.column.field, row.foreignKeyData), cell);\n        }\n    });\n}\n/**\n * Get the foreign data for the corresponding cell value.\n * @param column - Foreign Key column\n * @param data - Row data.\n * @param lValue - cell value.\n * @param foreignData - foreign data source.\n * @hidden\n */\nexport function getForeignData(column, data, lValue, foreignKeyData) {\n    var fField = column.foreignKeyField;\n    var key = (!isNullOrUndefined(lValue) ? lValue : valueAccessor(column.field, data, column));\n    key = isNullOrUndefined(key) ? '' : key;\n    var query = new Query();\n    var fdata = foreignKeyData || ((column.dataSource instanceof DataManager) && column.dataSource.dataSource.json.length ?\n        column.dataSource.dataSource.json : column.columnData);\n    if (key.getDay) {\n        query.where(getDatePredicate({ field: fField, operator: 'equal', value: key, matchCase: false }));\n    }\n    else {\n        query.where(fField, '==', key, false);\n    }\n    return new DataManager(fdata).executeLocal(query);\n}\n/**\n * To use to get the column's object by the foreign key value.\n * @param foreignKeyValue - Defines ForeignKeyValue.\n * @param columns - Array of column object.\n * @hidden\n */\nexport function getColumnByForeignKeyValue(foreignKeyValue, columns) {\n    var column;\n    return columns.some(function (col) {\n        column = col;\n        return col.foreignKeyValue === foreignKeyValue;\n    }) && column;\n}\n/**\n * @hidden\n * @param filterObject - Defines predicate model object\n */\nexport function getDatePredicate(filterObject, type) {\n    var datePredicate;\n    var prevDate;\n    var nextDate;\n    var prevObj = baseExtend({}, getActualProperties(filterObject));\n    var nextObj = baseExtend({}, getActualProperties(filterObject));\n    if (filterObject.value === null) {\n        datePredicate = new Predicate(prevObj.field, prevObj.operator, prevObj.value, false);\n        return datePredicate;\n    }\n    var value = new Date(filterObject.value);\n    if (filterObject.operator === 'equal' || filterObject.operator === 'notequal') {\n        if (type === 'datetime') {\n            prevDate = new Date(value.setSeconds(value.getSeconds() - 1));\n            nextDate = new Date(value.setSeconds(value.getSeconds() + 2));\n            filterObject.value = new Date(value.setSeconds(nextDate.getSeconds() - 1));\n        }\n        else {\n            prevDate = new Date(value.setHours(0) - 1);\n            nextDate = new Date(value.setHours(24));\n        }\n        prevObj.value = prevDate;\n        nextObj.value = nextDate;\n        if (filterObject.operator === 'equal') {\n            prevObj.operator = 'greaterthan';\n            nextObj.operator = 'lessthan';\n        }\n        else if (filterObject.operator === 'notequal') {\n            prevObj.operator = 'lessthanorequal';\n            nextObj.operator = 'greaterthanorequal';\n        }\n        var predicateSt = new Predicate(prevObj.field, prevObj.operator, prevObj.value, false);\n        var predicateEnd = new Predicate(nextObj.field, nextObj.operator, nextObj.value, false);\n        datePredicate = filterObject.operator === 'equal' ? predicateSt.and(predicateEnd) : predicateSt.or(predicateEnd);\n    }\n    else {\n        if (typeof (prevObj.value) === 'string') {\n            prevObj.value = new Date(prevObj.value);\n        }\n        var predicates = new Predicate(prevObj.field, prevObj.operator, prevObj.value, false);\n        datePredicate = predicates;\n    }\n    if (filterObject.setProperties) {\n        filterObject.setProperties({ ejpredicate: datePredicate }, true);\n    }\n    else {\n        filterObject.ejpredicate = datePredicate;\n    }\n    return datePredicate;\n}\n/**\n * @hidden\n */\nexport function renderMovable(ele, frzCols) {\n    var mEle = ele.cloneNode(true);\n    for (var i = 0; i < frzCols; i++) {\n        mEle.removeChild(mEle.children[0]);\n    }\n    for (var i = frzCols, len = ele.childElementCount; i < len; i++) {\n        ele.removeChild(ele.children[ele.childElementCount - 1]);\n    }\n    return mEle;\n}\n/**\n * @hidden\n */\nexport function isGroupAdaptive(grid) {\n    return grid.enableVirtualization && grid.groupSettings.columns.length > 0 && grid.isVirtualAdaptive;\n}\n/**\n * @hidden\n */\nexport function getObject(field, object) {\n    if (field === void 0) { field = ''; }\n    if (field) {\n        var value = object;\n        var splits = field.split('.');\n        for (var i = 0; i < splits.length && !isNullOrUndefined(value); i++) {\n            value = value[splits[i]];\n        }\n        return value;\n    }\n}\n/**\n * @hidden\n */\nexport function getCustomDateFormat(format, colType) {\n    var intl = new Internationalization();\n    var formatvalue;\n    var formatter = 'format';\n    var type = 'type';\n    if (colType === 'date') {\n        formatvalue = typeof (format) === 'object' ?\n            intl.getDatePattern({ type: format[type] ? format[type] : 'date', format: format[formatter] }, false) :\n            isBlazor() ? intl.getDatePattern({ type: 'dateTime', format: format }, false) :\n                intl.getDatePattern({ type: 'dateTime', skeleton: format }, false);\n    }\n    else {\n        formatvalue = typeof (format) === 'object' ?\n            intl.getDatePattern({ type: format[type] ? format[type] : 'dateTime', format: format[formatter] }, false) :\n            isBlazor() ? intl.getDatePattern({ type: 'dateTime', format: format }, false) :\n                intl.getDatePattern({ type: 'dateTime', skeleton: format }, false);\n    }\n    return formatvalue;\n}\n/**\n * @hidden\n */\nexport function getExpandedState(gObj, hierarchyPrintMode) {\n    var rows = gObj.getRowsObject();\n    var obj = {};\n    for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n        var row = rows_1[_i];\n        if (row.isExpand && !row.isDetailRow) {\n            var index = gObj.allowPaging && gObj.printMode === 'AllPages' ? row.index +\n                (gObj.pageSettings.currentPage * gObj.pageSettings.pageSize) - gObj.pageSettings.pageSize : row.index;\n            obj[index] = {};\n            obj[index].isExpand = true;\n            obj[index].gridModel = getPrintGridModel(row.childGrid, hierarchyPrintMode);\n            obj[index].gridModel.query = gObj.childGrid.query;\n        }\n    }\n    return obj;\n}\n/**\n * @hidden\n */\nexport function getPrintGridModel(gObj, hierarchyPrintMode) {\n    if (hierarchyPrintMode === void 0) { hierarchyPrintMode = 'Expanded'; }\n    var printGridModel = {};\n    if (!gObj) {\n        return printGridModel;\n    }\n    for (var _i = 0, _a = Print.printGridProp; _i < _a.length; _i++) {\n        var key = _a[_i];\n        if (key === 'columns') {\n            printGridModel[key] = getActualPropFromColl(gObj[key]);\n        }\n        else if (key === 'allowPaging') {\n            printGridModel[key] = gObj.printMode === 'CurrentPage';\n        }\n        else {\n            printGridModel[key] = getActualProperties(gObj[key]);\n        }\n    }\n    if (gObj.childGrid && hierarchyPrintMode !== 'None') {\n        printGridModel.expandedRows = getExpandedState(gObj, hierarchyPrintMode);\n    }\n    return printGridModel;\n}\n/**\n * @hidden\n */\nexport function extendObjWithFn(copied, first, second, deep) {\n    var res = copied || {};\n    var len = arguments.length;\n    if (deep) {\n        len = len - 1;\n    }\n    var _loop_1 = function (i) {\n        if (!arguments_1[i]) {\n            return \"continue\";\n        }\n        var obj1 = arguments_1[i];\n        var keys = Object.keys(Object.getPrototypeOf(obj1)).length ?\n            Object.keys(obj1).concat(getPrototypesOfObj(obj1)) : Object.keys(obj1);\n        keys.forEach(function (key) {\n            var source = res[key];\n            var cpy = obj1[key];\n            var cln;\n            if (deep && (isObject(cpy) || Array.isArray(cpy))) {\n                if (isObject(cpy)) {\n                    cln = source ? source : {};\n                    res[key] = baseExtend({}, cln, cpy, deep);\n                }\n                else {\n                    cln = source ? source : [];\n                    res[key] = baseExtend([], cln, cpy, deep);\n                }\n            }\n            else {\n                res[key] = cpy;\n            }\n        });\n    };\n    var arguments_1 = arguments;\n    for (var i = 1; i < len; i++) {\n        _loop_1(i);\n    }\n    return res;\n}\n/**\n * @hidden\n */\nfunction getPrototypesOfObj(obj) {\n    var keys = [];\n    while (Object.getPrototypeOf(obj) && Object.keys(Object.getPrototypeOf(obj)).length) {\n        keys = keys.concat(Object.keys(Object.getPrototypeOf(obj)));\n        obj = Object.getPrototypeOf(obj);\n    }\n    return keys;\n}\n/**\n * @hidden\n */\nexport function measureColumnDepth(column) {\n    var max = 0;\n    for (var i = 0; i < column.length; i++) {\n        var depth = checkDepth(column[i], 0);\n        if (max < depth) {\n            max = depth;\n        }\n    }\n    return max + 1;\n}\n/**\n * @hidden\n */\nexport function checkDepth(col, index) {\n    var max = index;\n    var indices = [];\n    if (col.columns) {\n        index++;\n        for (var i = 0; i < col.columns.length; i++) {\n            indices[i] = checkDepth(col.columns[i], index);\n        }\n        for (var j = 0; j < indices.length; j++) {\n            if (max < indices[j]) {\n                max = indices[j];\n            }\n        }\n        index = max;\n    }\n    return index;\n}\n/**\n * @hidden\n */\nexport function refreshFilteredColsUid(gObj, filteredCols) {\n    for (var i = 0; i < filteredCols.length; i++) {\n        filteredCols[i].uid = filteredCols[i].isForeignKey ?\n            getColumnByForeignKeyValue(filteredCols[i].field, gObj.getForeignKeyColumns()).uid\n            : gObj.getColumnByField(filteredCols[i].field).uid;\n    }\n}\n/** @hidden */\nexport var Global;\n(function (Global) {\n    Global.timer = null;\n})(Global || (Global = {}));\n/**\n * @hidden\n */\nexport function getTransformValues(element) {\n    var style = document.defaultView.getComputedStyle(element, null);\n    var transformV = style.getPropertyValue('transform');\n    var replacedTv = transformV.replace(/,/g, '');\n    var translateX = parseFloat((replacedTv).split(' ')[4]);\n    var translateY = parseFloat((replacedTv).split(' ')[5]);\n    return { width: translateX, height: translateY };\n}\n/** @hidden */\nexport function applyBiggerTheme(rootElement, element) {\n    if (rootElement.classList.contains('e-bigger')) {\n        element.classList.add('e-bigger');\n    }\n}\n"]},"metadata":{},"sourceType":"module"}