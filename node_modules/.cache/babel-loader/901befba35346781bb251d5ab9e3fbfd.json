{"ast":null,"code":"import { PdfColorSpace } from './enum';\nimport { Operators } from './../input-output/pdf-operators';\nimport { Dictionary } from './../collections/dictionary';\nimport { PdfNumber } from './../primitives/pdf-number';\nimport { PdfArray } from './../primitives/pdf-array';\n/**\n * Implements structures and routines working with `color`.\n * ```typescript\n * // create a new PDF document\n * let document : PdfDocument = new PdfDocument();\n * // add a new page to the document\n * let page1 : PdfPage = document.pages.add();\n * // set the font\n * let font : PdfStandardFont = new PdfStandardFont(PdfFontFamily.Helvetica, 20);\n * //\n * // set color\n * let brushColor : PdfColor = new PdfColor(0, 0, 0);\n * //\n * // create black brush\n * let blackBrush : PdfSolidBrush = new PdfSolidBrush(brushColor);\n * // draw the text\n * page1.graphics.drawString('Hello World', font, blackBrush, new PointF(0, 0));\n * // save the document\n * document.save('output.pdf');\n * // destroy the document\n * document.destroy();\n * ```\n * @default black color\n */\n\nvar PdfColor =\n/** @class */\nfunction () {\n  function PdfColor(color1, color2, color3, color4) {\n    if (typeof color1 === 'undefined') {\n      if (typeof color2 !== 'undefined' && typeof color3 !== 'undefined' && typeof color4 !== 'undefined') {\n        this.assignRGB(color2, color3, color4);\n      } else {\n        this.filled = false;\n      }\n    } else if (color1 instanceof PdfColor) {\n      this.redColor = color1.r;\n      this.greenColor = color1.g;\n      this.blueColor = color1.b;\n      this.grayColor = color1.gray;\n      this.alpha = color1.alpha;\n      this.filled = this.alpha !== 0;\n    } else if (typeof color4 === 'undefined') {\n      this.assignRGB(color1, color2, color3);\n    } else {\n      this.assignRGB(color2, color3, color4, color1);\n    }\n  }\n  /**\n   * `Assign` red, green, blue colors with alpha value..\n   * @private\n   */\n\n\n  PdfColor.prototype.assignRGB = function (r, g, b, a) {\n    if (typeof r === 'undefined' || typeof g === 'undefined' || typeof b === 'undefined') {\n      this.filled = false;\n    } else {\n      this.cyanColor = 0;\n      this.magentaColor = 0;\n      this.yellowColor = 0;\n      this.blackColor = 0;\n      this.grayColor = 0;\n      this.redColor = r;\n      this.greenColor = g;\n      this.blueColor = b;\n\n      if (typeof a === 'undefined') {\n        this.alpha = PdfColor.maxColourChannelValue;\n      } else {\n        this.alpha = a;\n      }\n\n      this.filled = true;\n      this.assignCMYK(r, g, b);\n    }\n  };\n  /**\n   * `Calculate and assign` cyan, megenta, yellow colors from rgb values..\n   * @private\n   */\n\n\n  PdfColor.prototype.assignCMYK = function (r, g, b) {\n    var red = r / PdfColor.maxColourChannelValue;\n    var green = g / PdfColor.maxColourChannelValue;\n    var blue = b / PdfColor.maxColourChannelValue;\n    var black = PdfNumber.min(1 - red, 1 - green, 1 - blue);\n    var cyan = black === 1.0 ? 0 : (1 - red - black) / (1 - black);\n    var magenta = black === 1.0 ? 0 : (1 - green - black) / (1 - black);\n    var yellow = black === 1.0 ? 0 : (1 - blue - black) / (1 - black);\n    this.blackColor = black;\n    this.cyanColor = cyan;\n    this.magentaColor = magenta;\n    this.yellowColor = yellow;\n  };\n\n  Object.defineProperty(PdfColor.prototype, \"r\", {\n    //Properties\n    // public static get Empty():PdfColor\n    // {\n    //     return this.s_emptyColor\n    // }\n\n    /**\n     * Gets or sets `Red` channel value.\n     * @private\n     */\n    get: function () {\n      return this.redColor;\n    },\n    set: function (value) {\n      this.redColor = value;\n      this.assignCMYK(this.redColor, this.greenColor, this.blueColor);\n      this.filled = true;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfColor.prototype, \"red\", {\n    /**\n     * Gets the `Red` color\n     * @private\n     */\n    get: function () {\n      return this.r / PdfColor.maxColourChannelValue;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfColor.prototype, \"b\", {\n    /**\n     * Gets or sets `Blue` channel value.\n     * @private\n     */\n    get: function () {\n      return this.blueColor;\n    },\n    set: function (value) {\n      this.blueColor = value;\n      this.assignCMYK(this.redColor, this.greenColor, this.blueColor);\n      this.filled = true;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfColor.prototype, \"blue\", {\n    /**\n     * Gets the `blue` color.\n     * @private\n     */\n    get: function () {\n      return this.b / PdfColor.maxColourChannelValue;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfColor.prototype, \"g\", {\n    /**\n     *  Gets or sets `Green` channel value.\n     * @private\n     */\n    get: function () {\n      return this.greenColor;\n    },\n    set: function (value) {\n      this.greenColor = value;\n      this.assignCMYK(this.redColor, this.greenColor, this.blueColor);\n      this.filled = true;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfColor.prototype, \"green\", {\n    /**\n     * Gets the `Green` color.\n     * @private\n     */\n    get: function () {\n      return this.g / PdfColor.maxColourChannelValue;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfColor.prototype, \"gray\", {\n    /**\n     * Gets or sets `Gray` channel value.\n     * @private\n     */\n    get: function () {\n      return (this.redColor + this.greenColor + this.blueColor) / (PdfColor.maxColourChannelValue * 3);\n    },\n    set: function (value) {\n      if (value < 0) {\n        this.grayColor = 0;\n      } else if (value > 1) {\n        this.grayColor = 1;\n      } else {\n        this.grayColor = value;\n      }\n\n      this.r = this.grayColor * PdfColor.maxColourChannelValue;\n      this.g = this.grayColor * PdfColor.maxColourChannelValue;\n      this.b = this.grayColor * PdfColor.maxColourChannelValue;\n      this.assignCMYK(this.redColor, this.greenColor, this.blueColor);\n      this.filled = true;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfColor.prototype, \"isEmpty\", {\n    /**\n     * Gets whether the PDFColor `is Empty` or not.\n     * @private\n     */\n    get: function () {\n      return !this.filled;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfColor.prototype, \"a\", {\n    /**\n     * Gets or sets `Alpha` channel value.\n     * @private\n     */\n    get: function () {\n      return this.alpha;\n    },\n    set: function (value) {\n      if (value < 0) {\n        this.alpha = 0;\n      } else {\n        // if (this.alpha !== value) {\n        this.alpha = value; // }\n      }\n\n      this.filled = true;\n    },\n    enumerable: true,\n    configurable: true\n  }); //Public methods\n\n  /**\n   * Converts `PDFColor to PDF string` representation.\n   * @private\n   */\n\n  PdfColor.prototype.toString = function (colorSpace, stroke) {\n    if (this.isEmpty) {\n      return '';\n    }\n\n    return this.rgbToString(stroke);\n  };\n  /**\n   * Sets `RGB` color.\n   * @private\n   */\n\n\n  PdfColor.prototype.rgbToString = function (ifStroking) {\n    var r = this.r;\n    var g = this.g;\n    var b = this.b;\n    var key = (r << 16) + (g << 8) + b;\n\n    if (ifStroking) {\n      key += 1 << 24;\n    }\n\n    var colour = '';\n    var obj = null;\n\n    if (PdfColor.rgbStrings.containsKey(key)) {\n      obj = PdfColor.rgbStrings.getValue(key);\n    }\n\n    if (obj == null) {\n      var red = r / PdfColor.maxColourChannelValue;\n      var green = g / PdfColor.maxColourChannelValue;\n      var blue = b / PdfColor.maxColourChannelValue;\n\n      if (ifStroking) {\n        colour = red.toString() + ' ' + green.toString() + ' ' + blue.toString() + ' RG';\n      } else {\n        colour = red.toString() + ' ' + green.toString() + ' ' + blue.toString() + ' rg';\n      }\n\n      PdfColor.rgbStrings.setValue(key, colour);\n    } else {\n      colour = obj.toString();\n    }\n\n    return colour + Operators.newLine;\n  };\n  /**\n   * Converts `colour to a PDF array`.\n   * @private\n   */\n\n\n  PdfColor.prototype.toArray = function (colorSpace) {\n    var array = new PdfArray();\n\n    switch (colorSpace) {\n      case PdfColorSpace.Rgb:\n        array.add(new PdfNumber(this.red));\n        array.add(new PdfNumber(this.green));\n        array.add(new PdfNumber(this.blue));\n        break;\n\n      default:\n        throw new Error('NotSupportedException : Unsupported colour space.');\n    }\n\n    return array;\n  }; //Fields\n\n  /**\n   * Holds `RGB colors` converted into strings.\n   * @private\n   */\n\n\n  PdfColor.rgbStrings = new Dictionary();\n  /**\n   * Holds Gray scale colors converted into strings for `stroking`.\n   * @private\n   */\n\n  PdfColor.grayStringsSroke = new Dictionary();\n  /**\n   * Holds Gray scale colors converted into strings for `filling`.\n   * @private\n   */\n\n  PdfColor.grayStringsFill = new Dictionary();\n  /**\n   * `Max value` of color channel.\n   * @private\n   */\n\n  PdfColor.maxColourChannelValue = 255.0;\n  return PdfColor;\n}();\n\nexport { PdfColor };","map":{"version":3,"sources":["C:/CN2/workspace-trunk/kain-front-end/node_modules/@syncfusion/ej2-pdf-export/src/implementation/graphics/pdf-color.js"],"names":["PdfColorSpace","Operators","Dictionary","PdfNumber","PdfArray","PdfColor","color1","color2","color3","color4","assignRGB","filled","redColor","r","greenColor","g","blueColor","b","grayColor","gray","alpha","prototype","a","cyanColor","magentaColor","yellowColor","blackColor","maxColourChannelValue","assignCMYK","red","green","blue","black","min","cyan","magenta","yellow","Object","defineProperty","get","set","value","enumerable","configurable","toString","colorSpace","stroke","isEmpty","rgbToString","ifStroking","key","colour","obj","rgbStrings","containsKey","getValue","setValue","newLine","toArray","array","Rgb","add","Error","grayStringsSroke","grayStringsFill"],"mappings":"AAAA,SAASA,aAAT,QAA8B,QAA9B;AACA,SAASC,SAAT,QAA0B,iCAA1B;AACA,SAASC,UAAT,QAA2B,6BAA3B;AACA,SAASC,SAAT,QAA0B,4BAA1B;AACA,SAASC,QAAT,QAAyB,2BAAzB;AACA;;;;;;;;;;;;;;;;;;;;;;;;;AAwBA,IAAIC,QAAQ;AAAG;AAAe,YAAY;AACtC,WAASA,QAAT,CAAkBC,MAAlB,EAA0BC,MAA1B,EAAkCC,MAAlC,EAA0CC,MAA1C,EAAkD;AAC9C,QAAI,OAAOH,MAAP,KAAkB,WAAtB,EAAmC;AAC/B,UAAI,OAAOC,MAAP,KAAkB,WAAlB,IAAiC,OAAOC,MAAP,KAAkB,WAAnD,IAAkE,OAAOC,MAAP,KAAkB,WAAxF,EAAqG;AACjG,aAAKC,SAAL,CAAeH,MAAf,EAAuBC,MAAvB,EAA+BC,MAA/B;AACH,OAFD,MAGK;AACD,aAAKE,MAAL,GAAc,KAAd;AACH;AACJ,KAPD,MAQK,IAAIL,MAAM,YAAYD,QAAtB,EAAgC;AACjC,WAAKO,QAAL,GAAgBN,MAAM,CAACO,CAAvB;AACA,WAAKC,UAAL,GAAkBR,MAAM,CAACS,CAAzB;AACA,WAAKC,SAAL,GAAiBV,MAAM,CAACW,CAAxB;AACA,WAAKC,SAAL,GAAiBZ,MAAM,CAACa,IAAxB;AACA,WAAKC,KAAL,GAAad,MAAM,CAACc,KAApB;AACA,WAAKT,MAAL,GAAe,KAAKS,KAAL,KAAe,CAA9B;AACH,KAPI,MAQA,IAAI,OAAOX,MAAP,KAAkB,WAAtB,EAAmC;AACpC,WAAKC,SAAL,CAAeJ,MAAf,EAAuBC,MAAvB,EAA+BC,MAA/B;AACH,KAFI,MAGA;AACD,WAAKE,SAAL,CAAeH,MAAf,EAAuBC,MAAvB,EAA+BC,MAA/B,EAAuCH,MAAvC;AACH;AACJ;AACD;;;;;;AAIAD,EAAAA,QAAQ,CAACgB,SAAT,CAAmBX,SAAnB,GAA+B,UAAUG,CAAV,EAAaE,CAAb,EAAgBE,CAAhB,EAAmBK,CAAnB,EAAsB;AACjD,QAAI,OAAOT,CAAP,KAAa,WAAb,IAA4B,OAAOE,CAAP,KAAa,WAAzC,IAAwD,OAAOE,CAAP,KAAa,WAAzE,EAAsF;AAClF,WAAKN,MAAL,GAAc,KAAd;AACH,KAFD,MAGK;AACD,WAAKY,SAAL,GAAiB,CAAjB;AACA,WAAKC,YAAL,GAAoB,CAApB;AACA,WAAKC,WAAL,GAAmB,CAAnB;AACA,WAAKC,UAAL,GAAkB,CAAlB;AACA,WAAKR,SAAL,GAAiB,CAAjB;AACA,WAAKN,QAAL,GAAgBC,CAAhB;AACA,WAAKC,UAAL,GAAkBC,CAAlB;AACA,WAAKC,SAAL,GAAiBC,CAAjB;;AACA,UAAI,OAAOK,CAAP,KAAa,WAAjB,EAA8B;AAC1B,aAAKF,KAAL,GAAaf,QAAQ,CAACsB,qBAAtB;AACH,OAFD,MAGK;AACD,aAAKP,KAAL,GAAaE,CAAb;AACH;;AACD,WAAKX,MAAL,GAAc,IAAd;AACA,WAAKiB,UAAL,CAAgBf,CAAhB,EAAmBE,CAAnB,EAAsBE,CAAtB;AACH;AACJ,GAtBD;AAuBA;;;;;;AAIAZ,EAAAA,QAAQ,CAACgB,SAAT,CAAmBO,UAAnB,GAAgC,UAAUf,CAAV,EAAaE,CAAb,EAAgBE,CAAhB,EAAmB;AAC/C,QAAIY,GAAG,GAAGhB,CAAC,GAAGR,QAAQ,CAACsB,qBAAvB;AACA,QAAIG,KAAK,GAAGf,CAAC,GAAGV,QAAQ,CAACsB,qBAAzB;AACA,QAAII,IAAI,GAAGd,CAAC,GAAGZ,QAAQ,CAACsB,qBAAxB;AACA,QAAIK,KAAK,GAAG7B,SAAS,CAAC8B,GAAV,CAAc,IAAIJ,GAAlB,EAAuB,IAAIC,KAA3B,EAAkC,IAAIC,IAAtC,CAAZ;AACA,QAAIG,IAAI,GAAIF,KAAK,KAAK,GAAX,GAAkB,CAAlB,GAAsB,CAAC,IAAIH,GAAJ,GAAUG,KAAX,KAAqB,IAAIA,KAAzB,CAAjC;AACA,QAAIG,OAAO,GAAIH,KAAK,KAAK,GAAX,GAAkB,CAAlB,GAAsB,CAAC,IAAIF,KAAJ,GAAYE,KAAb,KAAuB,IAAIA,KAA3B,CAApC;AACA,QAAII,MAAM,GAAIJ,KAAK,KAAK,GAAX,GAAkB,CAAlB,GAAsB,CAAC,IAAID,IAAJ,GAAWC,KAAZ,KAAsB,IAAIA,KAA1B,CAAnC;AACA,SAAKN,UAAL,GAAkBM,KAAlB;AACA,SAAKT,SAAL,GAAiBW,IAAjB;AACA,SAAKV,YAAL,GAAoBW,OAApB;AACA,SAAKV,WAAL,GAAmBW,MAAnB;AACH,GAZD;;AAaAC,EAAAA,MAAM,CAACC,cAAP,CAAsBjC,QAAQ,CAACgB,SAA/B,EAA0C,GAA1C,EAA+C;AAC3C;AACA;AACA;AACA;AACA;;AACA;;;;AAIAkB,IAAAA,GAAG,EAAE,YAAY;AACb,aAAO,KAAK3B,QAAZ;AACH,KAZ0C;AAa3C4B,IAAAA,GAAG,EAAE,UAAUC,KAAV,EAAiB;AAClB,WAAK7B,QAAL,GAAgB6B,KAAhB;AACA,WAAKb,UAAL,CAAgB,KAAKhB,QAArB,EAA+B,KAAKE,UAApC,EAAgD,KAAKE,SAArD;AACA,WAAKL,MAAL,GAAc,IAAd;AACH,KAjB0C;AAkB3C+B,IAAAA,UAAU,EAAE,IAlB+B;AAmB3CC,IAAAA,YAAY,EAAE;AAnB6B,GAA/C;AAqBAN,EAAAA,MAAM,CAACC,cAAP,CAAsBjC,QAAQ,CAACgB,SAA/B,EAA0C,KAA1C,EAAiD;AAC7C;;;;AAIAkB,IAAAA,GAAG,EAAE,YAAY;AACb,aAAQ,KAAK1B,CAAL,GAASR,QAAQ,CAACsB,qBAA1B;AACH,KAP4C;AAQ7Ce,IAAAA,UAAU,EAAE,IARiC;AAS7CC,IAAAA,YAAY,EAAE;AAT+B,GAAjD;AAWAN,EAAAA,MAAM,CAACC,cAAP,CAAsBjC,QAAQ,CAACgB,SAA/B,EAA0C,GAA1C,EAA+C;AAC3C;;;;AAIAkB,IAAAA,GAAG,EAAE,YAAY;AACb,aAAO,KAAKvB,SAAZ;AACH,KAP0C;AAQ3CwB,IAAAA,GAAG,EAAE,UAAUC,KAAV,EAAiB;AAClB,WAAKzB,SAAL,GAAiByB,KAAjB;AACA,WAAKb,UAAL,CAAgB,KAAKhB,QAArB,EAA+B,KAAKE,UAApC,EAAgD,KAAKE,SAArD;AACA,WAAKL,MAAL,GAAc,IAAd;AACH,KAZ0C;AAa3C+B,IAAAA,UAAU,EAAE,IAb+B;AAc3CC,IAAAA,YAAY,EAAE;AAd6B,GAA/C;AAgBAN,EAAAA,MAAM,CAACC,cAAP,CAAsBjC,QAAQ,CAACgB,SAA/B,EAA0C,MAA1C,EAAkD;AAC9C;;;;AAIAkB,IAAAA,GAAG,EAAE,YAAY;AACb,aAAQ,KAAKtB,CAAL,GAASZ,QAAQ,CAACsB,qBAA1B;AACH,KAP6C;AAQ9Ce,IAAAA,UAAU,EAAE,IARkC;AAS9CC,IAAAA,YAAY,EAAE;AATgC,GAAlD;AAWAN,EAAAA,MAAM,CAACC,cAAP,CAAsBjC,QAAQ,CAACgB,SAA/B,EAA0C,GAA1C,EAA+C;AAC3C;;;;AAIAkB,IAAAA,GAAG,EAAE,YAAY;AACb,aAAO,KAAKzB,UAAZ;AACH,KAP0C;AAQ3C0B,IAAAA,GAAG,EAAE,UAAUC,KAAV,EAAiB;AAClB,WAAK3B,UAAL,GAAkB2B,KAAlB;AACA,WAAKb,UAAL,CAAgB,KAAKhB,QAArB,EAA+B,KAAKE,UAApC,EAAgD,KAAKE,SAArD;AACA,WAAKL,MAAL,GAAc,IAAd;AACH,KAZ0C;AAa3C+B,IAAAA,UAAU,EAAE,IAb+B;AAc3CC,IAAAA,YAAY,EAAE;AAd6B,GAA/C;AAgBAN,EAAAA,MAAM,CAACC,cAAP,CAAsBjC,QAAQ,CAACgB,SAA/B,EAA0C,OAA1C,EAAmD;AAC/C;;;;AAIAkB,IAAAA,GAAG,EAAE,YAAY;AACb,aAAQ,KAAKxB,CAAL,GAASV,QAAQ,CAACsB,qBAA1B;AACH,KAP8C;AAQ/Ce,IAAAA,UAAU,EAAE,IARmC;AAS/CC,IAAAA,YAAY,EAAE;AATiC,GAAnD;AAWAN,EAAAA,MAAM,CAACC,cAAP,CAAsBjC,QAAQ,CAACgB,SAA/B,EAA0C,MAA1C,EAAkD;AAC9C;;;;AAIAkB,IAAAA,GAAG,EAAE,YAAY;AACb,aAAQ,CAAG,KAAK3B,QAAL,GAAgB,KAAKE,UAAtB,GAAoC,KAAKE,SAA3C,KAA0DX,QAAQ,CAACsB,qBAAT,GAAiC,CAA3F,CAAR;AACH,KAP6C;AAQ9Ca,IAAAA,GAAG,EAAE,UAAUC,KAAV,EAAiB;AAClB,UAAIA,KAAK,GAAG,CAAZ,EAAe;AACX,aAAKvB,SAAL,GAAiB,CAAjB;AACH,OAFD,MAGK,IAAIuB,KAAK,GAAG,CAAZ,EAAe;AAChB,aAAKvB,SAAL,GAAiB,CAAjB;AACH,OAFI,MAGA;AACD,aAAKA,SAAL,GAAiBuB,KAAjB;AACH;;AACD,WAAK5B,CAAL,GAAU,KAAKK,SAAL,GAAiBb,QAAQ,CAACsB,qBAApC;AACA,WAAKZ,CAAL,GAAU,KAAKG,SAAL,GAAiBb,QAAQ,CAACsB,qBAApC;AACA,WAAKV,CAAL,GAAU,KAAKC,SAAL,GAAiBb,QAAQ,CAACsB,qBAApC;AACA,WAAKC,UAAL,CAAgB,KAAKhB,QAArB,EAA+B,KAAKE,UAApC,EAAgD,KAAKE,SAArD;AACA,WAAKL,MAAL,GAAc,IAAd;AACH,KAvB6C;AAwB9C+B,IAAAA,UAAU,EAAE,IAxBkC;AAyB9CC,IAAAA,YAAY,EAAE;AAzBgC,GAAlD;AA2BAN,EAAAA,MAAM,CAACC,cAAP,CAAsBjC,QAAQ,CAACgB,SAA/B,EAA0C,SAA1C,EAAqD;AACjD;;;;AAIAkB,IAAAA,GAAG,EAAE,YAAY;AACb,aAAO,CAAC,KAAK5B,MAAb;AACH,KAPgD;AAQjD+B,IAAAA,UAAU,EAAE,IARqC;AASjDC,IAAAA,YAAY,EAAE;AATmC,GAArD;AAWAN,EAAAA,MAAM,CAACC,cAAP,CAAsBjC,QAAQ,CAACgB,SAA/B,EAA0C,GAA1C,EAA+C;AAC3C;;;;AAIAkB,IAAAA,GAAG,EAAE,YAAY;AACb,aAAO,KAAKnB,KAAZ;AACH,KAP0C;AAQ3CoB,IAAAA,GAAG,EAAE,UAAUC,KAAV,EAAiB;AAClB,UAAIA,KAAK,GAAG,CAAZ,EAAe;AACX,aAAKrB,KAAL,GAAa,CAAb;AACH,OAFD,MAGK;AACD;AACA,aAAKA,KAAL,GAAaqB,KAAb,CAFC,CAGD;AACH;;AACD,WAAK9B,MAAL,GAAc,IAAd;AACH,KAlB0C;AAmB3C+B,IAAAA,UAAU,EAAE,IAnB+B;AAoB3CC,IAAAA,YAAY,EAAE;AApB6B,GAA/C,EAjMsC,CAuNtC;;AACA;;;;;AAIAtC,EAAAA,QAAQ,CAACgB,SAAT,CAAmBuB,QAAnB,GAA8B,UAAUC,UAAV,EAAsBC,MAAtB,EAA8B;AACxD,QAAI,KAAKC,OAAT,EAAkB;AACd,aAAO,EAAP;AACH;;AACD,WAAO,KAAKC,WAAL,CAAiBF,MAAjB,CAAP;AACH,GALD;AAMA;;;;;;AAIAzC,EAAAA,QAAQ,CAACgB,SAAT,CAAmB2B,WAAnB,GAAiC,UAAUC,UAAV,EAAsB;AACnD,QAAIpC,CAAC,GAAG,KAAKA,CAAb;AACA,QAAIE,CAAC,GAAG,KAAKA,CAAb;AACA,QAAIE,CAAC,GAAG,KAAKA,CAAb;AACA,QAAIiC,GAAG,GAAG,CAACrC,CAAC,IAAI,EAAN,KAAaE,CAAC,IAAI,CAAlB,IAAuBE,CAAjC;;AACA,QAAIgC,UAAJ,EAAgB;AACZC,MAAAA,GAAG,IAAI,KAAK,EAAZ;AACH;;AACD,QAAIC,MAAM,GAAG,EAAb;AACA,QAAIC,GAAG,GAAG,IAAV;;AACA,QAAI/C,QAAQ,CAACgD,UAAT,CAAoBC,WAApB,CAAgCJ,GAAhC,CAAJ,EAA0C;AACtCE,MAAAA,GAAG,GAAG/C,QAAQ,CAACgD,UAAT,CAAoBE,QAApB,CAA6BL,GAA7B,CAAN;AACH;;AACD,QAAIE,GAAG,IAAI,IAAX,EAAiB;AACb,UAAIvB,GAAG,GAAGhB,CAAC,GAAGR,QAAQ,CAACsB,qBAAvB;AACA,UAAIG,KAAK,GAAGf,CAAC,GAAGV,QAAQ,CAACsB,qBAAzB;AACA,UAAII,IAAI,GAAGd,CAAC,GAAGZ,QAAQ,CAACsB,qBAAxB;;AACA,UAAIsB,UAAJ,EAAgB;AACZE,QAAAA,MAAM,GAAGtB,GAAG,CAACe,QAAJ,KAAiB,GAAjB,GAAuBd,KAAK,CAACc,QAAN,EAAvB,GAA0C,GAA1C,GAAgDb,IAAI,CAACa,QAAL,EAAhD,GAAkE,KAA3E;AACH,OAFD,MAGK;AACDO,QAAAA,MAAM,GAAGtB,GAAG,CAACe,QAAJ,KAAiB,GAAjB,GAAuBd,KAAK,CAACc,QAAN,EAAvB,GAA0C,GAA1C,GAAgDb,IAAI,CAACa,QAAL,EAAhD,GAAkE,KAA3E;AACH;;AACDvC,MAAAA,QAAQ,CAACgD,UAAT,CAAoBG,QAApB,CAA6BN,GAA7B,EAAkCC,MAAlC;AACH,KAXD,MAYK;AACDA,MAAAA,MAAM,GAAGC,GAAG,CAACR,QAAJ,EAAT;AACH;;AACD,WAAOO,MAAM,GAAGlD,SAAS,CAACwD,OAA1B;AACH,GA7BD;AA8BA;;;;;;AAIApD,EAAAA,QAAQ,CAACgB,SAAT,CAAmBqC,OAAnB,GAA6B,UAAUb,UAAV,EAAsB;AAC/C,QAAIc,KAAK,GAAG,IAAIvD,QAAJ,EAAZ;;AACA,YAAQyC,UAAR;AACI,WAAK7C,aAAa,CAAC4D,GAAnB;AACID,QAAAA,KAAK,CAACE,GAAN,CAAU,IAAI1D,SAAJ,CAAc,KAAK0B,GAAnB,CAAV;AACA8B,QAAAA,KAAK,CAACE,GAAN,CAAU,IAAI1D,SAAJ,CAAc,KAAK2B,KAAnB,CAAV;AACA6B,QAAAA,KAAK,CAACE,GAAN,CAAU,IAAI1D,SAAJ,CAAc,KAAK4B,IAAnB,CAAV;AACA;;AACJ;AACI,cAAM,IAAI+B,KAAJ,CAAU,mDAAV,CAAN;AAPR;;AASA,WAAOH,KAAP;AACH,GAZD,CAxQsC,CAqRtC;;AACA;;;;;;AAIAtD,EAAAA,QAAQ,CAACgD,UAAT,GAAsB,IAAInD,UAAJ,EAAtB;AACA;;;;;AAIAG,EAAAA,QAAQ,CAAC0D,gBAAT,GAA4B,IAAI7D,UAAJ,EAA5B;AACA;;;;;AAIAG,EAAAA,QAAQ,CAAC2D,eAAT,GAA2B,IAAI9D,UAAJ,EAA3B;AACA;;;;;AAIAG,EAAAA,QAAQ,CAACsB,qBAAT,GAAiC,KAAjC;AACA,SAAOtB,QAAP;AACH,CA3S6B,EAA9B;;AA4SA,SAASA,QAAT","sourcesContent":["import { PdfColorSpace } from './enum';\nimport { Operators } from './../input-output/pdf-operators';\nimport { Dictionary } from './../collections/dictionary';\nimport { PdfNumber } from './../primitives/pdf-number';\nimport { PdfArray } from './../primitives/pdf-array';\n/**\n * Implements structures and routines working with `color`.\n * ```typescript\n * // create a new PDF document\n * let document : PdfDocument = new PdfDocument();\n * // add a new page to the document\n * let page1 : PdfPage = document.pages.add();\n * // set the font\n * let font : PdfStandardFont = new PdfStandardFont(PdfFontFamily.Helvetica, 20);\n * //\n * // set color\n * let brushColor : PdfColor = new PdfColor(0, 0, 0);\n * //\n * // create black brush\n * let blackBrush : PdfSolidBrush = new PdfSolidBrush(brushColor);\n * // draw the text\n * page1.graphics.drawString('Hello World', font, blackBrush, new PointF(0, 0));\n * // save the document\n * document.save('output.pdf');\n * // destroy the document\n * document.destroy();\n * ```\n * @default black color\n */\nvar PdfColor = /** @class */ (function () {\n    function PdfColor(color1, color2, color3, color4) {\n        if (typeof color1 === 'undefined') {\n            if (typeof color2 !== 'undefined' && typeof color3 !== 'undefined' && typeof color4 !== 'undefined') {\n                this.assignRGB(color2, color3, color4);\n            }\n            else {\n                this.filled = false;\n            }\n        }\n        else if (color1 instanceof PdfColor) {\n            this.redColor = color1.r;\n            this.greenColor = color1.g;\n            this.blueColor = color1.b;\n            this.grayColor = color1.gray;\n            this.alpha = color1.alpha;\n            this.filled = (this.alpha !== 0);\n        }\n        else if (typeof color4 === 'undefined') {\n            this.assignRGB(color1, color2, color3);\n        }\n        else {\n            this.assignRGB(color2, color3, color4, color1);\n        }\n    }\n    /**\n     * `Assign` red, green, blue colors with alpha value..\n     * @private\n     */\n    PdfColor.prototype.assignRGB = function (r, g, b, a) {\n        if (typeof r === 'undefined' || typeof g === 'undefined' || typeof b === 'undefined') {\n            this.filled = false;\n        }\n        else {\n            this.cyanColor = 0;\n            this.magentaColor = 0;\n            this.yellowColor = 0;\n            this.blackColor = 0;\n            this.grayColor = 0;\n            this.redColor = r;\n            this.greenColor = g;\n            this.blueColor = b;\n            if (typeof a === 'undefined') {\n                this.alpha = PdfColor.maxColourChannelValue;\n            }\n            else {\n                this.alpha = a;\n            }\n            this.filled = true;\n            this.assignCMYK(r, g, b);\n        }\n    };\n    /**\n     * `Calculate and assign` cyan, megenta, yellow colors from rgb values..\n     * @private\n     */\n    PdfColor.prototype.assignCMYK = function (r, g, b) {\n        var red = r / PdfColor.maxColourChannelValue;\n        var green = g / PdfColor.maxColourChannelValue;\n        var blue = b / PdfColor.maxColourChannelValue;\n        var black = PdfNumber.min(1 - red, 1 - green, 1 - blue);\n        var cyan = (black === 1.0) ? 0 : (1 - red - black) / (1 - black);\n        var magenta = (black === 1.0) ? 0 : (1 - green - black) / (1 - black);\n        var yellow = (black === 1.0) ? 0 : (1 - blue - black) / (1 - black);\n        this.blackColor = black;\n        this.cyanColor = cyan;\n        this.magentaColor = magenta;\n        this.yellowColor = yellow;\n    };\n    Object.defineProperty(PdfColor.prototype, \"r\", {\n        //Properties\n        // public static get Empty():PdfColor\n        // {\n        //     return this.s_emptyColor\n        // }\n        /**\n         * Gets or sets `Red` channel value.\n         * @private\n         */\n        get: function () {\n            return this.redColor;\n        },\n        set: function (value) {\n            this.redColor = value;\n            this.assignCMYK(this.redColor, this.greenColor, this.blueColor);\n            this.filled = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfColor.prototype, \"red\", {\n        /**\n         * Gets the `Red` color\n         * @private\n         */\n        get: function () {\n            return (this.r / PdfColor.maxColourChannelValue);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfColor.prototype, \"b\", {\n        /**\n         * Gets or sets `Blue` channel value.\n         * @private\n         */\n        get: function () {\n            return this.blueColor;\n        },\n        set: function (value) {\n            this.blueColor = value;\n            this.assignCMYK(this.redColor, this.greenColor, this.blueColor);\n            this.filled = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfColor.prototype, \"blue\", {\n        /**\n         * Gets the `blue` color.\n         * @private\n         */\n        get: function () {\n            return (this.b / PdfColor.maxColourChannelValue);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfColor.prototype, \"g\", {\n        /**\n         *  Gets or sets `Green` channel value.\n         * @private\n         */\n        get: function () {\n            return this.greenColor;\n        },\n        set: function (value) {\n            this.greenColor = value;\n            this.assignCMYK(this.redColor, this.greenColor, this.blueColor);\n            this.filled = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfColor.prototype, \"green\", {\n        /**\n         * Gets the `Green` color.\n         * @private\n         */\n        get: function () {\n            return (this.g / PdfColor.maxColourChannelValue);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfColor.prototype, \"gray\", {\n        /**\n         * Gets or sets `Gray` channel value.\n         * @private\n         */\n        get: function () {\n            return ((((this.redColor + this.greenColor) + this.blueColor)) / (PdfColor.maxColourChannelValue * 3));\n        },\n        set: function (value) {\n            if (value < 0) {\n                this.grayColor = 0;\n            }\n            else if (value > 1) {\n                this.grayColor = 1;\n            }\n            else {\n                this.grayColor = value;\n            }\n            this.r = (this.grayColor * PdfColor.maxColourChannelValue);\n            this.g = (this.grayColor * PdfColor.maxColourChannelValue);\n            this.b = (this.grayColor * PdfColor.maxColourChannelValue);\n            this.assignCMYK(this.redColor, this.greenColor, this.blueColor);\n            this.filled = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfColor.prototype, \"isEmpty\", {\n        /**\n         * Gets whether the PDFColor `is Empty` or not.\n         * @private\n         */\n        get: function () {\n            return !this.filled;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfColor.prototype, \"a\", {\n        /**\n         * Gets or sets `Alpha` channel value.\n         * @private\n         */\n        get: function () {\n            return this.alpha;\n        },\n        set: function (value) {\n            if (value < 0) {\n                this.alpha = 0;\n            }\n            else {\n                // if (this.alpha !== value) {\n                this.alpha = value;\n                // }\n            }\n            this.filled = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Public methods\n    /**\n     * Converts `PDFColor to PDF string` representation.\n     * @private\n     */\n    PdfColor.prototype.toString = function (colorSpace, stroke) {\n        if (this.isEmpty) {\n            return '';\n        }\n        return this.rgbToString(stroke);\n    };\n    /**\n     * Sets `RGB` color.\n     * @private\n     */\n    PdfColor.prototype.rgbToString = function (ifStroking) {\n        var r = this.r;\n        var g = this.g;\n        var b = this.b;\n        var key = (r << 16) + (g << 8) + b;\n        if (ifStroking) {\n            key += 1 << 24;\n        }\n        var colour = '';\n        var obj = null;\n        if (PdfColor.rgbStrings.containsKey(key)) {\n            obj = PdfColor.rgbStrings.getValue(key);\n        }\n        if (obj == null) {\n            var red = r / PdfColor.maxColourChannelValue;\n            var green = g / PdfColor.maxColourChannelValue;\n            var blue = b / PdfColor.maxColourChannelValue;\n            if (ifStroking) {\n                colour = red.toString() + ' ' + green.toString() + ' ' + blue.toString() + ' RG';\n            }\n            else {\n                colour = red.toString() + ' ' + green.toString() + ' ' + blue.toString() + ' rg';\n            }\n            PdfColor.rgbStrings.setValue(key, colour);\n        }\n        else {\n            colour = obj.toString();\n        }\n        return colour + Operators.newLine;\n    };\n    /**\n     * Converts `colour to a PDF array`.\n     * @private\n     */\n    PdfColor.prototype.toArray = function (colorSpace) {\n        var array = new PdfArray();\n        switch (colorSpace) {\n            case PdfColorSpace.Rgb:\n                array.add(new PdfNumber(this.red));\n                array.add(new PdfNumber(this.green));\n                array.add(new PdfNumber(this.blue));\n                break;\n            default:\n                throw new Error('NotSupportedException : Unsupported colour space.');\n        }\n        return array;\n    };\n    //Fields\n    /**\n     * Holds `RGB colors` converted into strings.\n     * @private\n     */\n    PdfColor.rgbStrings = new Dictionary();\n    /**\n     * Holds Gray scale colors converted into strings for `stroking`.\n     * @private\n     */\n    PdfColor.grayStringsSroke = new Dictionary();\n    /**\n     * Holds Gray scale colors converted into strings for `filling`.\n     * @private\n     */\n    PdfColor.grayStringsFill = new Dictionary();\n    /**\n     * `Max value` of color channel.\n     * @private\n     */\n    PdfColor.maxColourChannelValue = 255.0;\n    return PdfColor;\n}());\nexport { PdfColor };\n"]},"metadata":{},"sourceType":"module"}