{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { attributes } from '@syncfusion/ej2-base';\nimport { setStyleAndAttributes, appendChildren } from '../base/util';\nimport { CellRenderer } from './cell-renderer';\nimport { AriaService } from '../services/aria-service';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { headerCellInfo } from '../base/constant';\n/**\n * HeaderCellRenderer class which responsible for building header cell content.\n * @hidden\n */\n\nvar HeaderCellRenderer =\n/** @class */\nfunction (_super) {\n  __extends(HeaderCellRenderer, _super);\n\n  function HeaderCellRenderer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.element = _this.parent.createElement('TH', {\n      className: 'e-headercell',\n      attrs: {\n        role: 'columnheader',\n        tabindex: '-1'\n      }\n    });\n    _this.ariaService = new AriaService();\n    _this.hTxtEle = _this.parent.createElement('span', {\n      className: 'e-headertext'\n    });\n    _this.sortEle = _this.parent.createElement('div', {\n      className: 'e-sortfilterdiv e-icons'\n    });\n    _this.gui = _this.parent.createElement('div');\n    _this.chkAllBox = _this.parent.createElement('input', {\n      className: 'e-checkselectall',\n      attrs: {\n        'type': 'checkbox'\n      }\n    });\n    return _this;\n  }\n  /**\n   * Function to return the wrapper for the TH content.\n   * @returns string\n   */\n\n\n  HeaderCellRenderer.prototype.getGui = function () {\n    return this.gui.cloneNode();\n  };\n  /**\n   * Function to render the cell content based on Column object.\n   * @param  {Column} column\n   * @param  {Object} data\n   * @param  {Element}\n   */\n\n\n  HeaderCellRenderer.prototype.render = function (cell, data, attributes) {\n    var node = this.element.cloneNode();\n    var fltrMenuEle = this.parent.createElement('div', {\n      className: 'e-filtermenudiv e-icons e-icon-filter'\n    });\n    return this.prepareHeader(cell, node, fltrMenuEle);\n  };\n  /**\n   * Function to refresh the cell content based on Column object.\n   * @param  {Cell} cell\n   * @param  {Element} node\n   */\n\n\n  HeaderCellRenderer.prototype.refresh = function (cell, node) {\n    this.clean(node);\n    var fltrMenuEle = this.parent.createElement('div', {\n      className: 'e-filtermenudiv e-icons e-icon-filter'\n    });\n    return this.prepareHeader(cell, node, fltrMenuEle);\n  };\n\n  HeaderCellRenderer.prototype.clean = function (node) {\n    node.innerHTML = '';\n  };\n\n  HeaderCellRenderer.prototype.prepareHeader = function (cell, node, fltrMenuEle) {\n    var column = cell.column;\n    var ariaAttr = {}; //Prepare innerHtml\n\n    var innerDIV = this.getGui();\n    attributes(innerDIV, {\n      'e-mappinguid': column.uid,\n      'class': 'e-headercelldiv'\n    });\n\n    if (column.type !== 'checkbox') {\n      var value = column.headerText;\n      var headerText = this.hTxtEle.cloneNode();\n      headerText[column.getDomSetter()] = value;\n      innerDIV.appendChild(headerText);\n    } else {\n      column.editType = 'booleanedit';\n      var checkAllWrap = createCheckBox(this.parent.createElement, false, {\n        checked: false,\n        label: ' '\n      });\n      checkAllWrap.insertBefore(this.chkAllBox.cloneNode(), checkAllWrap.firstChild);\n      innerDIV.appendChild(checkAllWrap);\n      innerDIV.classList.add('e-headerchkcelldiv');\n    }\n\n    this.buildAttributeFromCell(node, cell);\n    this.appendHtml(node, innerDIV);\n    node.appendChild(this.sortEle.cloneNode());\n\n    if (this.parent.allowFiltering && this.parent.filterSettings.type !== 'FilterBar' && column.allowFiltering && !isNullOrUndefined(column.field) && !(this.parent.showColumnMenu && column.showColumnMenu)) {\n      attributes(fltrMenuEle, {\n        'e-mappinguid': 'e-flmenu-' + column.uid\n      });\n      node.classList.add('e-fltr-icon');\n      var matchFlColumns = [];\n\n      if (this.parent.filterSettings.columns.length && this.parent.filterSettings.columns.length !== matchFlColumns.length) {\n        for (var index = 0; index < this.parent.columns.length; index++) {\n          for (var count = 0; count < this.parent.filterSettings.columns.length; count++) {\n            if (this.parent.filterSettings.columns[count].field === column.field) {\n              fltrMenuEle.classList.add('e-filtered');\n              matchFlColumns.push(column.field);\n              break;\n            }\n          }\n        }\n      }\n\n      node.appendChild(fltrMenuEle.cloneNode());\n    }\n\n    if (cell.className) {\n      node.classList.add(cell.className);\n    }\n\n    if (column.customAttributes) {\n      setStyleAndAttributes(node, column.customAttributes);\n    }\n\n    if (column.allowSorting) {\n      ariaAttr.sort = 'none';\n    }\n\n    if (column.allowGrouping) {\n      ariaAttr.grabbed = false;\n    }\n\n    node = this.extendPrepareHeader(column, node);\n    var result;\n    var gridObj = this.parent;\n    var colIndex = gridObj.getColumnIndexByField(column.field);\n\n    if (!isNullOrUndefined(column.headerTemplate)) {\n      //need to pass the template id for blazor headertemplate\n      var headerTempID = gridObj.element.id + column.uid + 'headerTemplate';\n      var str = 'isStringTemplate';\n      result = column.getHeaderTemplate()(extend({\n        'index': colIndex\n      }, column), gridObj, 'headerTemplate', headerTempID, this.parent[str]);\n      node.firstElementChild.innerHTML = '';\n      appendChildren(node.firstElementChild, result);\n    }\n\n    this.ariaService.setOptions(node, ariaAttr);\n\n    if (!isNullOrUndefined(column.headerTextAlign) || !isNullOrUndefined(column.textAlign)) {\n      var alignment = column.headerTextAlign || column.textAlign;\n      innerDIV.style.textAlign = alignment;\n\n      if (alignment === 'Right' || alignment === 'Left') {\n        node.classList.add(alignment === 'Right' ? 'e-rightalign' : 'e-leftalign');\n      } else if (alignment === 'Center') {\n        node.classList.add('e-centeralign');\n      }\n    }\n\n    if (column.clipMode === 'Clip' || !column.clipMode && this.parent.clipMode === 'Clip') {\n      node.classList.add('e-gridclip');\n    } else if (column.clipMode === 'EllipsisWithTooltip' || !column.clipMode && this.parent.clipMode === 'EllipsisWithTooltip') {\n      node.classList.add('e-ellipsistooltip');\n    }\n\n    node.setAttribute('aria-rowspan', (!isNullOrUndefined(cell.rowSpan) ? cell.rowSpan : 1).toString());\n    node.setAttribute('aria-colspan', '1');\n    this.parent.trigger(headerCellInfo, {\n      cell: cell,\n      node: node\n    });\n    return node;\n  };\n\n  HeaderCellRenderer.prototype.extendPrepareHeader = function (column, node) {\n    if (this.parent.showColumnMenu && column.showColumnMenu && !isNullOrUndefined(column.field)) {\n      var element = this.parent.createElement('div', {\n        className: 'e-icons e-columnmenu'\n      });\n      var matchFilteredColumns = [];\n\n      if (this.parent.filterSettings.columns.length && this.parent.filterSettings.columns.length !== matchFilteredColumns.length) {\n        for (var i = 0; i < this.parent.columns.length; i++) {\n          for (var j = 0; j < this.parent.filterSettings.columns.length; j++) {\n            if (this.parent.filterSettings.columns[j].field === column.field) {\n              element.classList.add('e-filtered');\n              matchFilteredColumns.push(column.field);\n              break;\n            }\n          }\n        }\n      }\n\n      node.classList.add('e-fltr-icon');\n      node.appendChild(element);\n    }\n\n    if (this.parent.allowResizing) {\n      var handler = this.parent.createElement('div');\n      handler.className = column.allowResizing ? 'e-rhandler e-rcursor' : 'e-rsuppress';\n      node.appendChild(handler);\n    }\n\n    return node;\n  };\n  /**\n   * Function to specifies how the result content to be placed in the cell.\n   * @param  {Element} node\n   * @param  {string|Element} innerHtml\n   * @returns Element\n   */\n\n\n  HeaderCellRenderer.prototype.appendHtml = function (node, innerHtml) {\n    node.appendChild(innerHtml);\n    return node;\n  };\n\n  return HeaderCellRenderer;\n}(CellRenderer);\n\nexport { HeaderCellRenderer };","map":{"version":3,"sources":["C:/CN2/workspace-trunk/kain-front-end/node_modules/@syncfusion/ej2-grids/src/grid/renderer/header-cell-renderer.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","isNullOrUndefined","extend","attributes","setStyleAndAttributes","appendChildren","CellRenderer","AriaService","createCheckBox","headerCellInfo","HeaderCellRenderer","_super","_this","apply","arguments","element","parent","createElement","className","attrs","role","tabindex","ariaService","hTxtEle","sortEle","gui","chkAllBox","getGui","cloneNode","render","cell","data","node","fltrMenuEle","prepareHeader","refresh","clean","innerHTML","column","ariaAttr","innerDIV","uid","type","value","headerText","getDomSetter","appendChild","editType","checkAllWrap","checked","label","insertBefore","firstChild","classList","add","buildAttributeFromCell","appendHtml","allowFiltering","filterSettings","field","showColumnMenu","matchFlColumns","columns","length","index","count","push","customAttributes","allowSorting","sort","allowGrouping","grabbed","extendPrepareHeader","result","gridObj","colIndex","getColumnIndexByField","headerTemplate","headerTempID","id","str","getHeaderTemplate","firstElementChild","setOptions","headerTextAlign","textAlign","alignment","style","clipMode","setAttribute","rowSpan","toString","trigger","matchFilteredColumns","i","j","allowResizing","handler","innerHtml"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { attributes } from '@syncfusion/ej2-base';\nimport { setStyleAndAttributes, appendChildren } from '../base/util';\nimport { CellRenderer } from './cell-renderer';\nimport { AriaService } from '../services/aria-service';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { headerCellInfo } from '../base/constant';\n/**\n * HeaderCellRenderer class which responsible for building header cell content.\n * @hidden\n */\nvar HeaderCellRenderer = /** @class */ (function (_super) {\n    __extends(HeaderCellRenderer, _super);\n    function HeaderCellRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent\n            .createElement('TH', { className: 'e-headercell', attrs: { role: 'columnheader', tabindex: '-1' } });\n        _this.ariaService = new AriaService();\n        _this.hTxtEle = _this.parent.createElement('span', { className: 'e-headertext' });\n        _this.sortEle = _this.parent.createElement('div', { className: 'e-sortfilterdiv e-icons' });\n        _this.gui = _this.parent.createElement('div');\n        _this.chkAllBox = _this.parent.createElement('input', { className: 'e-checkselectall', attrs: { 'type': 'checkbox' } });\n        return _this;\n    }\n    /**\n     * Function to return the wrapper for the TH content.\n     * @returns string\n     */\n    HeaderCellRenderer.prototype.getGui = function () {\n        return this.gui.cloneNode();\n    };\n    /**\n     * Function to render the cell content based on Column object.\n     * @param  {Column} column\n     * @param  {Object} data\n     * @param  {Element}\n     */\n    HeaderCellRenderer.prototype.render = function (cell, data, attributes) {\n        var node = this.element.cloneNode();\n        var fltrMenuEle = this.parent.createElement('div', { className: 'e-filtermenudiv e-icons e-icon-filter' });\n        return this.prepareHeader(cell, node, fltrMenuEle);\n    };\n    /**\n     * Function to refresh the cell content based on Column object.\n     * @param  {Cell} cell\n     * @param  {Element} node\n     */\n    HeaderCellRenderer.prototype.refresh = function (cell, node) {\n        this.clean(node);\n        var fltrMenuEle = this.parent.createElement('div', { className: 'e-filtermenudiv e-icons e-icon-filter' });\n        return this.prepareHeader(cell, node, fltrMenuEle);\n    };\n    HeaderCellRenderer.prototype.clean = function (node) {\n        node.innerHTML = '';\n    };\n    HeaderCellRenderer.prototype.prepareHeader = function (cell, node, fltrMenuEle) {\n        var column = cell.column;\n        var ariaAttr = {};\n        //Prepare innerHtml\n        var innerDIV = this.getGui();\n        attributes(innerDIV, {\n            'e-mappinguid': column.uid,\n            'class': 'e-headercelldiv'\n        });\n        if (column.type !== 'checkbox') {\n            var value = column.headerText;\n            var headerText = this.hTxtEle.cloneNode();\n            headerText[column.getDomSetter()] = value;\n            innerDIV.appendChild(headerText);\n        }\n        else {\n            column.editType = 'booleanedit';\n            var checkAllWrap = createCheckBox(this.parent.createElement, false, { checked: false, label: ' ' });\n            checkAllWrap.insertBefore(this.chkAllBox.cloneNode(), checkAllWrap.firstChild);\n            innerDIV.appendChild(checkAllWrap);\n            innerDIV.classList.add('e-headerchkcelldiv');\n        }\n        this.buildAttributeFromCell(node, cell);\n        this.appendHtml(node, innerDIV);\n        node.appendChild(this.sortEle.cloneNode());\n        if ((this.parent.allowFiltering && this.parent.filterSettings.type !== 'FilterBar') &&\n            (column.allowFiltering && !isNullOrUndefined(column.field)) &&\n            !(this.parent.showColumnMenu && column.showColumnMenu)) {\n            attributes(fltrMenuEle, {\n                'e-mappinguid': 'e-flmenu-' + column.uid,\n            });\n            node.classList.add('e-fltr-icon');\n            var matchFlColumns = [];\n            if (this.parent.filterSettings.columns.length && this.parent.filterSettings.columns.length !== matchFlColumns.length) {\n                for (var index = 0; index < this.parent.columns.length; index++) {\n                    for (var count = 0; count < this.parent.filterSettings.columns.length; count++) {\n                        if (this.parent.filterSettings.columns[count].field === column.field) {\n                            fltrMenuEle.classList.add('e-filtered');\n                            matchFlColumns.push(column.field);\n                            break;\n                        }\n                    }\n                }\n            }\n            node.appendChild(fltrMenuEle.cloneNode());\n        }\n        if (cell.className) {\n            node.classList.add(cell.className);\n        }\n        if (column.customAttributes) {\n            setStyleAndAttributes(node, column.customAttributes);\n        }\n        if (column.allowSorting) {\n            ariaAttr.sort = 'none';\n        }\n        if (column.allowGrouping) {\n            ariaAttr.grabbed = false;\n        }\n        node = this.extendPrepareHeader(column, node);\n        var result;\n        var gridObj = this.parent;\n        var colIndex = gridObj.getColumnIndexByField(column.field);\n        if (!isNullOrUndefined(column.headerTemplate)) {\n            //need to pass the template id for blazor headertemplate\n            var headerTempID = gridObj.element.id + column.uid + 'headerTemplate';\n            var str = 'isStringTemplate';\n            result = column.getHeaderTemplate()(extend({ 'index': colIndex }, column), gridObj, 'headerTemplate', headerTempID, this.parent[str]);\n            node.firstElementChild.innerHTML = '';\n            appendChildren(node.firstElementChild, result);\n        }\n        this.ariaService.setOptions(node, ariaAttr);\n        if (!isNullOrUndefined(column.headerTextAlign) || !isNullOrUndefined(column.textAlign)) {\n            var alignment = column.headerTextAlign || column.textAlign;\n            innerDIV.style.textAlign = alignment;\n            if (alignment === 'Right' || alignment === 'Left') {\n                node.classList.add(alignment === 'Right' ? 'e-rightalign' : 'e-leftalign');\n            }\n            else if (alignment === 'Center') {\n                node.classList.add('e-centeralign');\n            }\n        }\n        if (column.clipMode === 'Clip' || (!column.clipMode && this.parent.clipMode === 'Clip')) {\n            node.classList.add('e-gridclip');\n        }\n        else if (column.clipMode === 'EllipsisWithTooltip' || (!column.clipMode && this.parent.clipMode === 'EllipsisWithTooltip')) {\n            node.classList.add('e-ellipsistooltip');\n        }\n        node.setAttribute('aria-rowspan', (!isNullOrUndefined(cell.rowSpan) ? cell.rowSpan : 1).toString());\n        node.setAttribute('aria-colspan', '1');\n        this.parent.trigger(headerCellInfo, { cell: cell, node: node });\n        return node;\n    };\n    HeaderCellRenderer.prototype.extendPrepareHeader = function (column, node) {\n        if (this.parent.showColumnMenu && column.showColumnMenu && !isNullOrUndefined(column.field)) {\n            var element = (this.parent.createElement('div', { className: 'e-icons e-columnmenu' }));\n            var matchFilteredColumns = [];\n            if (this.parent.filterSettings.columns.length && this.parent.filterSettings.columns.length !== matchFilteredColumns.length) {\n                for (var i = 0; i < this.parent.columns.length; i++) {\n                    for (var j = 0; j < this.parent.filterSettings.columns.length; j++) {\n                        if (this.parent.filterSettings.columns[j].field === column.field) {\n                            element.classList.add('e-filtered');\n                            matchFilteredColumns.push(column.field);\n                            break;\n                        }\n                    }\n                }\n            }\n            node.classList.add('e-fltr-icon');\n            node.appendChild(element);\n        }\n        if (this.parent.allowResizing) {\n            var handler = this.parent.createElement('div');\n            handler.className = column.allowResizing ? 'e-rhandler e-rcursor' : 'e-rsuppress';\n            node.appendChild(handler);\n        }\n        return node;\n    };\n    /**\n     * Function to specifies how the result content to be placed in the cell.\n     * @param  {Element} node\n     * @param  {string|Element} innerHtml\n     * @returns Element\n     */\n    HeaderCellRenderer.prototype.appendHtml = function (node, innerHtml) {\n        node.appendChild(innerHtml);\n        return node;\n    };\n    return HeaderCellRenderer;\n}(CellRenderer));\nexport { HeaderCellRenderer };\n"]},"metadata":{},"sourceType":"module"}