{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Component, Property, Event, Collection, L10n, Browser, Complex, compile, createElement } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, detach, attributes, prepend, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, isBlazor } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, append } from '@syncfusion/ej2-base';\nimport { EventHandler, updateBlazorTemplate } from '@syncfusion/ej2-base';\nimport { Draggable, SanitizeHtmlHelper, extend } from '@syncfusion/ej2-base';\nimport { Popup, PositionData, getZindexPartial } from '../popup/popup';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { createResize, removeResize, setMinHeight } from '../common/resize';\n\nvar ButtonProps =\n/** @class */\nfunction (_super) {\n  __extends(ButtonProps, _super);\n\n  function ButtonProps() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property()], ButtonProps.prototype, \"buttonModel\", void 0);\n\n  __decorate([Property('Button')], ButtonProps.prototype, \"type\", void 0);\n\n  __decorate([Event()], ButtonProps.prototype, \"click\", void 0);\n\n  return ButtonProps;\n}(ChildProperty);\n\nexport { ButtonProps };\n/**\n * Configures the animation properties for both open and close the dialog.\n */\n\nvar AnimationSettings =\n/** @class */\nfunction (_super) {\n  __extends(AnimationSettings, _super);\n\n  function AnimationSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property('Fade')], AnimationSettings.prototype, \"effect\", void 0);\n\n  __decorate([Property(400)], AnimationSettings.prototype, \"duration\", void 0);\n\n  __decorate([Property(0)], AnimationSettings.prototype, \"delay\", void 0);\n\n  return AnimationSettings;\n}(ChildProperty);\n\nexport { AnimationSettings };\nvar ROOT = 'e-dialog';\nvar RTL = 'e-rtl';\nvar DLG_HEADER_CONTENT = 'e-dlg-header-content';\nvar DLG_HEADER = 'e-dlg-header';\nvar DLG_FOOTER_CONTENT = 'e-footer-content';\nvar MODAL_DLG = 'e-dlg-modal';\nvar DLG_CONTENT = 'e-dlg-content';\nvar DLG_CLOSE_ICON = 'e-icon-dlg-close';\nvar DLG_OVERLAY = 'e-dlg-overlay';\nvar DLG_CONTAINER = 'e-dlg-container';\nvar SCROLL_DISABLED = 'e-scroll-disabled';\nvar DLG_PRIMARY_BUTTON = 'e-primary';\nvar ICON = 'e-icons';\nvar POPUP_ROOT = 'e-popup';\nvar DEVICE = 'e-device';\nvar FULLSCREEN = 'e-dlg-fullscreen';\nvar DLG_CLOSE_ICON_BTN = 'e-dlg-closeicon-btn';\nvar DLG_HIDE = 'e-popup-close';\nvar DLG_SHOW = 'e-popup-open';\nvar DLG_UTIL_DEFAULT_TITLE = 'Information';\nvar DLG_UTIL_ROOT = 'e-scroll-disabled';\nvar DLG_UTIL_ALERT = 'e-alert-dialog';\nvar DLG_UTIL_CONFIRM = 'e-confirm-dialog';\nvar DLG_RESIZABLE = 'e-dlg-resizable';\nvar DLG_RESTRICT_LEFT_VALUE = 'e-restrict-left';\nvar DLG_RESTRICT_WIDTH_VALUE = 'e-resize-viewport';\n/**\n * Represents the dialog component that displays the information and get input from the user.\n * Two types of dialog components are `Modal and Modeless (non-modal)` depending on its interaction with parent application.\n * ```html\n * <div id=\"dialog\"></div>\n * ```\n * ```typescript\n * <script>\n *   var dialogObj = new Dialog({ header: 'Dialog' });\n *   dialogObj.appendTo(\"#dialog\");\n * </script>\n * ```\n */\n\nvar Dialog =\n/** @class */\nfunction (_super) {\n  __extends(Dialog, _super);\n  /**\n   * Constructor for creating the widget\n   * @hidden\n   */\n\n\n  function Dialog(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\n   * Initialize the control rendering\n   * @private\n   */\n\n\n  Dialog.prototype.render = function () {\n    this.initialize();\n    this.initRender();\n    this.wireEvents();\n\n    if (this.width === '100%') {\n      this.element.style.width = '';\n    }\n\n    if (this.minHeight !== '') {\n      this.element.style.minHeight = this.minHeight.toString();\n    }\n\n    if (this.enableResize) {\n      this.setResize();\n\n      if (this.animationSettings.effect === 'None') {\n        this.getMinHeight();\n      }\n    }\n\n    this.renderComplete();\n  };\n  /**\n   * Initialize the event handler\n   * @private\n   */\n\n\n  Dialog.prototype.preRender = function () {\n    var _this = this;\n\n    this.headerContent = null;\n    this.allowMaxHeight = true;\n    this.preventVisibility = true;\n    var classArray = [];\n\n    if (!(isBlazor() && this.isServerRendered)) {\n      for (var j = 0; j < this.element.classList.length; j++) {\n        if (!isNullOrUndefined(this.element.classList[j].match('e-control')) || !isNullOrUndefined(this.element.classList[j].match(ROOT))) {\n          classArray.push(this.element.classList[j]);\n        }\n      }\n\n      removeClass([this.element], classArray);\n    }\n\n    this.clonedEle = this.element.cloneNode(true);\n\n    this.closeIconClickEventHandler = function (event) {\n      _this.hide(event);\n    };\n\n    this.dlgOverlayClickEventHandler = function (event) {\n      _this.trigger('overlayClick', event);\n\n      _this.focusContent();\n    };\n\n    var localeText = {\n      close: 'Close'\n    };\n    this.l10n = new L10n('dialog', localeText, this.locale);\n    this.checkPositionData();\n\n    if (isNullOrUndefined(this.target)) {\n      var prevOnChange = this.isProtectedOnChange;\n      this.isProtectedOnChange = true;\n      this.target = document.body;\n      this.isProtectedOnChange = prevOnChange;\n    }\n  };\n\n  ;\n\n  Dialog.prototype.isNumberValue = function (value) {\n    var isNumber = /^[-+]?\\d*\\.?\\d+$/.test(value);\n    return isNumber;\n  };\n\n  Dialog.prototype.checkPositionData = function () {\n    if (!isNullOrUndefined(this.position)) {\n      if (!isNullOrUndefined(this.position.X) && typeof this.position.X !== 'number') {\n        var isNumber = this.isNumberValue(this.position.X);\n\n        if (isNumber) {\n          var prevOnChange = this.isProtectedOnChange;\n          this.isProtectedOnChange = true;\n          this.position.X = parseFloat(this.position.X);\n          this.isProtectedOnChange = prevOnChange;\n        }\n      }\n\n      if (!isNullOrUndefined(this.position.Y) && typeof this.position.Y !== 'number') {\n        var isNumber = this.isNumberValue(this.position.Y);\n\n        if (isNumber) {\n          var prevOnChange = this.isProtectedOnChange;\n          this.isProtectedOnChange = true;\n          this.position.Y = parseFloat(this.position.Y);\n          this.isProtectedOnChange = prevOnChange;\n        }\n      }\n    }\n  };\n\n  Dialog.prototype.getEle = function (list, selector) {\n    var element = undefined;\n\n    for (var i = 0; i < list.length; i++) {\n      if (list[i].classList.contains(selector)) {\n        element = list[i];\n        break;\n      }\n    }\n\n    return element;\n  };\n  /* istanbul ignore next */\n\n\n  Dialog.prototype.getMinHeight = function () {\n    var computedHeaderHeight = '0px';\n    var computedFooterHeight = '0px';\n\n    if (!isNullOrUndefined(this.element.querySelector('.' + DLG_HEADER_CONTENT))) {\n      computedHeaderHeight = getComputedStyle(this.headerContent).height;\n    }\n\n    var footerEle = this.getEle(this.element.children, DLG_FOOTER_CONTENT);\n\n    if (!isNullOrUndefined(footerEle)) {\n      computedFooterHeight = getComputedStyle(footerEle).height;\n    }\n\n    var headerHeight = parseInt(computedHeaderHeight.slice(0, computedHeaderHeight.indexOf('p')), 10);\n    var footerHeight = parseInt(computedFooterHeight.slice(0, computedFooterHeight.indexOf('p')), 10);\n    setMinHeight(headerHeight + 30 + footerHeight);\n  };\n\n  Dialog.prototype.onResizeStart = function (args) {\n    this.trigger('resizeStart', args);\n    return args.cancel;\n  };\n\n  Dialog.prototype.onResizing = function (args) {\n    this.trigger('resizing', args);\n  };\n\n  Dialog.prototype.onResizeComplete = function (args) {\n    this.trigger('resizeStop', args);\n  };\n\n  Dialog.prototype.setResize = function () {\n    if (this.enableResize) {\n      if (isBlazor() && this.isServerRendered && !isNullOrUndefined(this.element.querySelector('.e-icons.e-resize-handle'))) {\n        return;\n      }\n\n      this.element.classList.add(DLG_RESIZABLE);\n      var computedHeight = getComputedStyle(this.element).minHeight;\n      var computedWidth = getComputedStyle(this.element).minWidth;\n      var direction = this.enableRtl ? 'south-west' : 'south-east';\n\n      if (this.isModal && this.enableRtl) {\n        this.element.classList.add(DLG_RESTRICT_LEFT_VALUE);\n      } else if (this.isModal && this.target === document.body) {\n        this.element.classList.add(DLG_RESTRICT_WIDTH_VALUE);\n      }\n\n      createResize({\n        element: this.element,\n        direction: direction,\n        minHeight: parseInt(computedHeight.slice(0, computedWidth.indexOf('p')), 10),\n        maxHeight: this.targetEle.clientHeight,\n        minWidth: parseInt(computedWidth.slice(0, computedWidth.indexOf('p')), 10),\n        maxWidth: this.targetEle.clientWidth,\n        boundary: this.target === document.body ? null : this.targetEle,\n        resizeBegin: this.onResizeStart.bind(this),\n        resizeComplete: this.onResizeComplete.bind(this),\n        resizing: this.onResizing.bind(this)\n      });\n    } else {\n      removeResize();\n\n      if (this.isModal) {\n        this.element.classList.remove(DLG_RESTRICT_LEFT_VALUE);\n      } else {\n        this.element.classList.remove(DLG_RESTRICT_WIDTH_VALUE);\n      }\n\n      this.element.classList.remove(DLG_RESIZABLE);\n    }\n  };\n  /* istanbul ignore next */\n\n\n  Dialog.prototype.keyDown = function (event) {\n    var _this = this;\n\n    if (event.keyCode === 9) {\n      if (this.isModal) {\n        var buttonObj = void 0;\n\n        if (!isNullOrUndefined(this.btnObj)) {\n          buttonObj = this.btnObj[this.btnObj.length - 1];\n        }\n\n        if (!isNullOrUndefined(buttonObj) && document.activeElement === buttonObj.element && !event.shiftKey) {\n          event.preventDefault();\n          this.focusableElements(this.element).focus();\n        }\n\n        if (document.activeElement === this.focusableElements(this.element) && event.shiftKey) {\n          event.preventDefault();\n\n          if (!isNullOrUndefined(buttonObj)) {\n            buttonObj.element.focus();\n          }\n        }\n      }\n    }\n\n    var element = document.activeElement;\n    var isTagName = ['input', 'textarea'].indexOf(element.tagName.toLowerCase()) > -1;\n    var isContentEdit = false;\n\n    if (!isTagName) {\n      isContentEdit = element.hasAttribute('contenteditable') && element.getAttribute('contenteditable') === 'true';\n    }\n\n    if (event.keyCode === 27 && this.closeOnEscape) {\n      this.hide(event);\n    }\n\n    if (event.keyCode === 13 && !event.ctrlKey && element.tagName.toLowerCase() !== 'textarea' && isTagName && !isNullOrUndefined(this.primaryButtonEle) || event.keyCode === 13 && event.ctrlKey && (element.tagName.toLowerCase() === 'textarea' || isContentEdit) && !isNullOrUndefined(this.primaryButtonEle)) {\n      var buttonIndex_1;\n      var firstPrimary = this.buttons.some(function (data, index) {\n        buttonIndex_1 = index;\n        var buttonModel = data.buttonModel;\n        return !isNullOrUndefined(buttonModel) && buttonModel.isPrimary === true;\n      });\n\n      if (firstPrimary && typeof this.buttons[buttonIndex_1].click === 'function') {\n        setTimeout(function () {\n          _this.buttons[buttonIndex_1].click.call(_this, event);\n        });\n      }\n    }\n  };\n  /**\n   * Initialize the control rendering\n   * @private\n   */\n\n\n  Dialog.prototype.initialize = function () {\n    if (!isNullOrUndefined(this.target)) {\n      this.targetEle = typeof this.target === 'string' ? document.querySelector(this.target) : this.target;\n    }\n\n    if (!(isBlazor() && this.isServerRendered)) {\n      addClass([this.element], ROOT);\n    }\n\n    if (Browser.isDevice) {\n      addClass([this.element], DEVICE);\n    }\n\n    if (!(isBlazor() && this.isServerRendered)) {\n      this.setCSSClass();\n    }\n\n    this.setMaxHeight();\n  };\n  /**\n   * Initialize the rendering\n   * @private\n   */\n\n\n  Dialog.prototype.initRender = function () {\n    var _this = this;\n\n    this.initialRender = true;\n\n    if (!(isBlazor() && this.isServerRendered)) {\n      attributes(this.element, {\n        role: 'dialog'\n      });\n    }\n\n    if (this.zIndex === 1000) {\n      this.setzIndex(this.element, false);\n      this.calculatezIndex = true;\n    } else {\n      this.calculatezIndex = false;\n    }\n\n    if (isBlazor() && this.isServerRendered && isNullOrUndefined(this.headerContent)) {\n      this.headerContent = this.element.getElementsByClassName('e-dlg-header-content')[0];\n    }\n\n    if (!(isBlazor() && this.isServerRendered)) {\n      this.setTargetContent();\n\n      if (this.header !== '' && !isNullOrUndefined(this.header)) {\n        this.setHeader();\n      }\n\n      if (this.showCloseIcon) {\n        this.renderCloseIcon();\n      }\n\n      this.setContent();\n\n      if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n        this.setFooterTemplate();\n      } else if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n        this.setButton();\n      }\n    }\n\n    if (isBlazor() && this.isServerRendered) {\n      if (!isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n        this.setButton();\n      }\n    }\n\n    if (this.allowDragging && !isNullOrUndefined(this.headerContent)) {\n      this.setAllowDragging();\n    }\n\n    if (!(isBlazor() && this.isServerRendered)) {\n      attributes(this.element, {\n        'aria-modal': this.isModal ? 'true' : 'false'\n      });\n\n      if (this.isModal) {\n        this.setIsModal();\n      }\n    }\n\n    if (isBlazor() && this.isServerRendered && isNullOrUndefined(this.dlgContainer)) {\n      this.dlgContainer = this.element.parentElement;\n      this.dlgOverlay = this.element.parentElement.getElementsByClassName('e-dlg-overlay')[0];\n    }\n\n    if (!isNullOrUndefined(this.targetEle)) {\n      this.isModal ? this.targetEle.appendChild(this.dlgContainer) : this.targetEle.appendChild(this.element);\n    }\n\n    this.popupObj = new Popup(this.element, {\n      height: this.height,\n      width: this.width,\n      zIndex: this.zIndex,\n      relateTo: this.target,\n      actionOnScroll: 'none',\n      open: function (event) {\n        var eventArgs = {\n          container: _this.isModal ? _this.dlgContainer : _this.element,\n          element: _this.element,\n          target: _this.target,\n          preventFocus: false\n        };\n\n        if (_this.enableResize) {\n          _this.getMinHeight();\n        }\n\n        _this.trigger('open', eventArgs, function (openEventArgs) {\n          if (!openEventArgs.preventFocus) {\n            _this.focusContent();\n          }\n        });\n      },\n      close: function (event) {\n        if (_this.isModal) {\n          addClass([_this.dlgOverlay], 'e-fade');\n        }\n\n        _this.unBindEvent(_this.element);\n\n        if (_this.isModal) {\n          _this.dlgContainer.style.display = 'none';\n        }\n\n        _this.trigger('close', _this.closeArgs);\n\n        var activeEle = document.activeElement;\n\n        if (!isNullOrUndefined(activeEle) && !isNullOrUndefined(activeEle.blur)) {\n          activeEle.blur();\n        }\n\n        if (!isNullOrUndefined(_this.storeActiveElement)) {\n          _this.storeActiveElement.focus();\n        }\n      }\n    });\n    this.positionChange();\n    this.setEnableRTL();\n\n    if (!(isBlazor() && this.isServerRendered)) {\n      addClass([this.element], DLG_HIDE);\n\n      if (this.isModal) {\n        this.setOverlayZindex();\n      }\n    }\n\n    if (this.visible) {\n      this.show();\n    } else {\n      if (this.isModal) {\n        this.dlgOverlay.style.display = 'none';\n      }\n    }\n\n    this.initialRender = false;\n  };\n\n  Dialog.prototype.setOverlayZindex = function (zIndexValue) {\n    var zIndex;\n\n    if (isNullOrUndefined(zIndexValue)) {\n      zIndex = parseInt(this.element.style.zIndex, 10) ? parseInt(this.element.style.zIndex, 10) : this.zIndex;\n    } else {\n      zIndex = zIndexValue;\n    }\n\n    this.dlgOverlay.style.zIndex = (zIndex - 1).toString();\n    this.dlgContainer.style.zIndex = zIndex.toString();\n  };\n\n  Dialog.prototype.positionChange = function () {\n    if (this.isModal) {\n      if (!isNaN(parseFloat(this.position.X)) && !isNaN(parseFloat(this.position.Y))) {\n        this.setPopupPosition();\n      } else if (!isNaN(parseFloat(this.position.X)) && isNaN(parseFloat(this.position.Y)) || isNaN(parseFloat(this.position.X)) && !isNaN(parseFloat(this.position.Y))) {\n        this.setPopupPosition();\n      } else {\n        this.element.style.top = '0px';\n        this.element.style.left = '0px';\n        this.dlgContainer.classList.add('e-dlg-' + this.position.X + '-' + this.position.Y);\n      }\n    } else {\n      this.setPopupPosition();\n    }\n  };\n\n  Dialog.prototype.setPopupPosition = function () {\n    this.popupObj.setProperties({\n      position: {\n        X: this.position.X,\n        Y: this.position.Y\n      }\n    });\n  };\n\n  Dialog.prototype.setAllowDragging = function () {\n    var _this = this;\n\n    var handleContent = '.' + DLG_HEADER_CONTENT;\n    this.dragObj = new Draggable(this.element, {\n      clone: false,\n      abort: '.e-dlg-closeicon-btn',\n      handle: handleContent,\n      dragStart: function (event) {\n        _this.trigger('dragStart', event, function (dragEventArgs) {\n          if (isBlazor()) {\n            dragEventArgs.bindEvents(event.dragElement);\n          }\n        });\n      },\n      dragStop: function (event) {\n        if (_this.isModal) {\n          if (!isNullOrUndefined(_this.position)) {\n            _this.dlgContainer.classList.remove('e-dlg-' + _this.position.X + '-' + _this.position.Y);\n          } // Reset the dialog position after drag completion.\n\n\n          _this.element.style.position = 'relative';\n        }\n\n        _this.trigger('dragStop', event);\n\n        _this.element.classList.remove(DLG_RESTRICT_LEFT_VALUE);\n      },\n      drag: function (event) {\n        _this.trigger('drag', event);\n      }\n    });\n\n    if (!isNullOrUndefined(this.targetEle)) {\n      this.dragObj.dragArea = this.targetEle;\n    }\n  };\n\n  Dialog.prototype.setButton = function () {\n    if (!(isBlazor() && this.isServerRendered)) {\n      this.buttonContent = [];\n      this.btnObj = [];\n      var primaryBtnFlag = true;\n\n      for (var i = 0; i < this.buttons.length; i++) {\n        var buttonType = !isNullOrUndefined(this.buttons[i].type) ? this.buttons[i].type.toLowerCase() : 'button';\n        var btn = this.createElement('button', {\n          attrs: {\n            type: buttonType\n          }\n        });\n        this.buttonContent.push(btn.outerHTML);\n      }\n\n      this.setFooterTemplate();\n    }\n\n    for (var i = 0; i < this.buttons.length; i++) {\n      if (!(isBlazor() && this.isServerRendered)) {\n        this.btnObj[i] = new Button(this.buttons[i].buttonModel);\n      }\n\n      if (isBlazor() && this.isServerRendered) {\n        this.ftrTemplateContent = this.element.querySelector('.e-footer-content');\n      }\n\n      if (typeof this.buttons[i].click === 'function') {\n        EventHandler.add(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click, this);\n      }\n\n      if (!(isBlazor() && this.isServerRendered)) {\n        this.btnObj[i].appendTo(this.ftrTemplateContent.children[i]);\n        this.btnObj[i].element.classList.add('e-flat');\n        this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n      }\n    }\n  };\n\n  Dialog.prototype.setContent = function () {\n    attributes(this.element, {\n      'aria-describedby': this.element.id + '_dialog-content'\n    });\n    this.contentEle = this.createElement('div', {\n      className: DLG_CONTENT,\n      id: this.element.id + '_dialog-content'\n    });\n\n    if (this.innerContentElement) {\n      this.contentEle.appendChild(this.innerContentElement);\n    } else if (!isNullOrUndefined(this.content) && this.content !== '' || !this.initialRender) {\n      var blazorContain = Object.keys(window);\n\n      if (typeof this.content === 'string' && blazorContain.indexOf('ejsInterop') === -1) {\n        this.contentEle.innerHTML = this.sanitizeHelper(this.content);\n      } else if (this.content instanceof HTMLElement) {\n        this.contentEle.appendChild(this.content);\n      } else {\n        this.setTemplate(this.content, this.contentEle);\n      }\n    }\n\n    if (!isNullOrUndefined(this.headerContent)) {\n      this.element.insertBefore(this.contentEle, this.element.children[1]);\n    } else {\n      this.element.insertBefore(this.contentEle, this.element.children[0]);\n    }\n\n    if (this.height === 'auto') {\n      this.setMaxHeight();\n    }\n  };\n\n  Dialog.prototype.setTemplate = function (template, toElement) {\n    var templateFn;\n    var templateProps;\n    var blazorContain = Object.keys(window);\n\n    if (toElement.classList.contains(DLG_HEADER)) {\n      templateProps = this.element.id + 'header';\n    } else if (toElement.classList.contains(DLG_FOOTER_CONTENT)) {\n      templateProps = this.element.id + 'footerTemplate';\n    } else {\n      templateProps = this.element.id + 'content';\n    }\n\n    var templateValue;\n\n    if (!isNullOrUndefined(template.outerHTML)) {\n      toElement.appendChild(template);\n    } else if (typeof template !== 'string' || isBlazor() && !this.isStringTemplate) {\n      templateFn = compile(template);\n      templateValue = template;\n    } else {\n      toElement.innerHTML = this.sanitizeHelper(template);\n    }\n\n    var fromElements = [];\n\n    if (!isNullOrUndefined(templateFn)) {\n      var isString = blazorContain.indexOf('ejsInterop') !== -1 && !this.isStringTemplate && templateValue.indexOf('<div>Blazor') === 0 ? this.isStringTemplate : true;\n\n      for (var _i = 0, _a = templateFn({}, null, null, templateProps, isString); _i < _a.length; _i++) {\n        var item = _a[_i];\n        fromElements.push(item);\n      }\n\n      append([].slice.call(fromElements), toElement);\n\n      if (blazorContain.indexOf('ejsInterop') !== -1 && !this.isStringTemplate && templateValue.indexOf('<div>Blazor') === 0) {\n        this.blazorTemplate(templateProps);\n      }\n    }\n  };\n  /**\n   * @hidden\n   */\n\n\n  Dialog.prototype.sanitizeHelper = function (value) {\n    if (this.enableHtmlSanitizer) {\n      var item = SanitizeHtmlHelper.beforeSanitize();\n      var beforeEvent = {\n        cancel: false,\n        helper: null\n      };\n      extend(item, item, beforeEvent);\n      this.trigger('beforeSanitizeHtml', item);\n\n      if (item.cancel && !isNullOrUndefined(item.helper)) {\n        value = item.helper(value);\n      } else if (!item.cancel) {\n        value = SanitizeHtmlHelper.serializeValue(item, value);\n      }\n    }\n\n    return value;\n  };\n\n  Dialog.prototype.blazorTemplate = function (templateProps) {\n    if (templateProps === this.element.id + 'header') {\n      updateBlazorTemplate(templateProps, 'Header', this);\n    } else if (templateProps === this.element.id + 'footerTemplate') {\n      updateBlazorTemplate(templateProps, 'FooterTemplate', this);\n    } else {\n      updateBlazorTemplate(templateProps, 'Content', this);\n    }\n  };\n\n  Dialog.prototype.setMaxHeight = function () {\n    if (!this.allowMaxHeight) {\n      return;\n    }\n\n    var display = this.element.style.display;\n    this.element.style.display = 'none';\n    this.element.style.maxHeight = !isNullOrUndefined(this.target) && this.targetEle.offsetHeight < window.innerHeight ? this.targetEle.offsetHeight - 20 + 'px' : window.innerHeight - 20 + 'px';\n    this.element.style.display = display;\n  };\n\n  Dialog.prototype.setEnableRTL = function () {\n    if (!(isBlazor() && this.isServerRendered)) {\n      this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n    }\n\n    if (!isNullOrUndefined(this.element.querySelector('.e-resize-handle'))) {\n      removeResize();\n      this.setResize();\n    }\n  };\n\n  Dialog.prototype.setTargetContent = function () {\n    var _this = this;\n\n    if (isNullOrUndefined(this.content) || this.content === '') {\n      var isContent = this.element.innerHTML.replace(/\\s|<(\\/?|\\!?)(!--!--)>/g, '') !== '';\n\n      if (this.element.children.length > 0 || isContent) {\n        this.innerContentElement = document.createDocumentFragment();\n        [].slice.call(this.element.childNodes).forEach(function (el) {\n          if (el.nodeType !== 8) {\n            _this.innerContentElement.appendChild(el);\n          }\n        });\n      }\n    }\n  };\n\n  Dialog.prototype.setHeader = function () {\n    if (this.headerEle) {\n      this.headerEle.innerHTML = '';\n    } else {\n      this.headerEle = this.createElement('div', {\n        id: this.element.id + '_title',\n        className: DLG_HEADER\n      });\n    }\n\n    this.createHeaderContent();\n    this.headerContent.appendChild(this.headerEle);\n    this.setTemplate(this.header, this.headerEle);\n    attributes(this.element, {\n      'aria-labelledby': this.element.id + '_title'\n    });\n    this.element.insertBefore(this.headerContent, this.element.children[0]);\n  };\n\n  Dialog.prototype.setFooterTemplate = function () {\n    if (this.ftrTemplateContent) {\n      this.ftrTemplateContent.innerHTML = '';\n    } else {\n      this.ftrTemplateContent = this.createElement('div', {\n        className: DLG_FOOTER_CONTENT\n      });\n    }\n\n    if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n      this.setTemplate(this.footerTemplate, this.ftrTemplateContent);\n    } else {\n      this.ftrTemplateContent.innerHTML = this.buttonContent.join('');\n    }\n\n    this.element.appendChild(this.ftrTemplateContent);\n  };\n\n  Dialog.prototype.createHeaderContent = function () {\n    if (isNullOrUndefined(this.headerContent)) {\n      this.headerContent = this.createElement('div', {\n        className: DLG_HEADER_CONTENT\n      });\n    }\n  };\n\n  Dialog.prototype.renderCloseIcon = function () {\n    this.closeIcon = this.createElement('button', {\n      className: DLG_CLOSE_ICON_BTN,\n      attrs: {\n        type: 'button'\n      }\n    });\n    this.closeIconBtnObj = new Button({\n      cssClass: 'e-flat',\n      iconCss: DLG_CLOSE_ICON + ' ' + ICON\n    });\n    this.closeIconTitle();\n\n    if (!isNullOrUndefined(this.headerContent)) {\n      prepend([this.closeIcon], this.headerContent);\n    } else {\n      this.createHeaderContent();\n      prepend([this.closeIcon], this.headerContent);\n      this.element.insertBefore(this.headerContent, this.element.children[0]);\n    }\n\n    this.closeIconBtnObj.appendTo(this.closeIcon);\n  };\n\n  Dialog.prototype.closeIconTitle = function () {\n    this.l10n.setLocale(this.locale);\n    var closeIconTitle = this.l10n.getConstant('close');\n    this.closeIcon.setAttribute('title', closeIconTitle);\n    this.closeIcon.setAttribute('aria-label', closeIconTitle);\n  };\n\n  Dialog.prototype.setCSSClass = function (oldCSSClass) {\n    if (this.cssClass) {\n      addClass([this.element], this.cssClass.split(' '));\n    }\n\n    if (oldCSSClass) {\n      removeClass([this.element], oldCSSClass.split(' '));\n    }\n  };\n\n  Dialog.prototype.setIsModal = function () {\n    this.dlgContainer = this.createElement('div', {\n      className: DLG_CONTAINER\n    });\n    this.element.classList.remove(DLG_SHOW);\n    this.element.parentNode.insertBefore(this.dlgContainer, this.element);\n    this.dlgContainer.appendChild(this.element);\n    addClass([this.element], MODAL_DLG);\n    this.dlgOverlay = this.createElement('div', {\n      className: DLG_OVERLAY\n    });\n    this.dlgOverlay.style.zIndex = (this.zIndex - 1).toString();\n    this.dlgContainer.appendChild(this.dlgOverlay);\n  };\n\n  Dialog.prototype.getValidFocusNode = function (items) {\n    var node;\n\n    for (var u = 0; u < items.length; u++) {\n      node = items[u];\n\n      if ((node.clientHeight > 0 || node.tagName.toLowerCase() === 'a' && node.hasAttribute('href')) && node.tabIndex > -1 && !node.disabled && !this.disableElement(node, '[disabled],[aria-disabled=\"true\"],[type=\"hidden\"]')) {\n        return node;\n      }\n    }\n\n    return node;\n  };\n\n  Dialog.prototype.focusableElements = function (content) {\n    if (!isNullOrUndefined(content)) {\n      var value = 'input,select,textarea,button,a,[contenteditable=\"true\"],[tabindex]';\n      var items = content.querySelectorAll(value);\n      return this.getValidFocusNode(items);\n    }\n\n    return null;\n  };\n\n  Dialog.prototype.getAutoFocusNode = function (container) {\n    var node = container.querySelector('.' + DLG_CLOSE_ICON_BTN);\n    var value = '[autofocus]';\n    var items = container.querySelectorAll(value);\n    var validNode = this.getValidFocusNode(items);\n\n    if (isBlazor()) {\n      this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n    }\n\n    if (!isNullOrUndefined(validNode)) {\n      node = validNode;\n    } else {\n      validNode = this.focusableElements(this.contentEle);\n\n      if (!isNullOrUndefined(validNode)) {\n        return node = validNode;\n      } else if (!isNullOrUndefined(this.primaryButtonEle)) {\n        return this.element.querySelector('.' + DLG_PRIMARY_BUTTON);\n      }\n    }\n\n    return node;\n  };\n\n  Dialog.prototype.disableElement = function (element, t) {\n    var elementMatch = element ? element.matches || element.webkitMatchesSelector || element.msMatchesSelector : null;\n\n    if (elementMatch) {\n      for (; element; element = element.parentNode) {\n        if (element instanceof Element && elementMatch.call(element, t)) {\n          /* istanbul ignore next */\n          return element;\n        }\n      }\n    }\n\n    return null;\n  };\n\n  Dialog.prototype.focusContent = function () {\n    var element = this.getAutoFocusNode(this.element);\n    var node = !isNullOrUndefined(element) ? element : this.element;\n    node.focus();\n    this.bindEvent(this.element);\n  };\n\n  Dialog.prototype.bindEvent = function (element) {\n    EventHandler.add(element, 'keydown', this.keyDown, this);\n  };\n\n  Dialog.prototype.unBindEvent = function (element) {\n    EventHandler.remove(element, 'keydown', this.keyDown);\n  };\n  /**\n   * Module required function\n   * @private\n   */\n\n\n  Dialog.prototype.getModuleName = function () {\n    return 'dialog';\n  };\n  /**\n   * Called internally if any of the property value changed\n   * @private\n   */\n\n\n  Dialog.prototype.onPropertyChanged = function (newProp, oldProp) {\n    if (!this.element.classList.contains(ROOT)) {\n      return;\n    }\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'content':\n          if (!isNullOrUndefined(this.content) && this.content !== '') {\n            if (isBlazor() && this.isServerRendered) {\n              this.contentEle = this.element.querySelector('.e-dlg-content');\n            }\n\n            if (!isNullOrUndefined(this.contentEle) && this.contentEle.getAttribute('role') !== 'dialog') {\n              if (!(isBlazor() && this.isServerRendered)) {\n                this.contentEle.innerHTML = '';\n              }\n\n              typeof this.content === 'string' ? isBlazor() && this.isServerRendered && this.contentEle.innerText === '' ? this.contentEle.insertAdjacentHTML('beforeend', this.sanitizeHelper(this.content)) : this.contentEle.innerHTML = this.sanitizeHelper(this.content) : this.contentEle.appendChild(this.content);\n              this.setMaxHeight();\n            } else {\n              if (!(isBlazor() && this.isServerRendered) || isNullOrUndefined(this.element.querySelector('.e-dlg-content'))) {\n                this.setContent();\n              }\n            }\n          } else if (!isNullOrUndefined(this.contentEle)) {\n            detach(this.contentEle);\n            this.contentEle = null;\n          }\n\n          break;\n\n        case 'header':\n          if (this.header === '' || isNullOrUndefined(this.header)) {\n            if (this.headerEle) {\n              detach(this.headerEle);\n              this.headerEle = null;\n            }\n          } else {\n            if (!(isBlazor() && this.isServerRendered) || isNullOrUndefined(this.element.querySelector('.e-dlg-header-content'))) {\n              this.setHeader();\n            }\n          }\n\n          break;\n\n        case 'footerTemplate':\n          if (this.footerTemplate === '' || isNullOrUndefined(this.footerTemplate)) {\n            if (!this.ftrTemplateContent) {\n              return;\n            }\n\n            detach(this.ftrTemplateContent);\n            this.ftrTemplateContent = null;\n            this.buttons = [{}];\n          } else {\n            if (!(isBlazor() && this.isServerRendered) || isNullOrUndefined(this.element.querySelector('.e-footer-content'))) {\n              this.setFooterTemplate();\n            }\n\n            this.buttons = [{}];\n          }\n\n          break;\n\n        case 'showCloseIcon':\n          if (this.element.getElementsByClassName(DLG_CLOSE_ICON).length > 0) {\n            if (!this.showCloseIcon && (this.header === '' || isNullOrUndefined(this.header))) {\n              detach(this.headerContent);\n              this.headerContent = null;\n            } else if (!this.showCloseIcon) {\n              detach(this.closeIcon);\n            } else {\n              if (isBlazor() && this.isServerRendered) {\n                this.wireEvents();\n              }\n            }\n          } else {\n            if (!(isBlazor() && this.isServerRendered)) {\n              this.renderCloseIcon();\n            }\n\n            this.wireEvents();\n          }\n\n          break;\n\n        case 'locale':\n          if (this.showCloseIcon) {\n            this.closeIconTitle();\n          }\n\n          break;\n\n        case 'visible':\n          this.visible ? this.show() : this.hide();\n          break;\n\n        case 'isModal':\n          this.updateIsModal();\n          break;\n\n        case 'height':\n          setStyleAttribute(this.element, {\n            'height': formatUnit(newProp.height)\n          });\n          break;\n\n        case 'width':\n          setStyleAttribute(this.element, {\n            'width': formatUnit(newProp.width)\n          });\n          break;\n\n        case 'zIndex':\n          this.popupObj.zIndex = this.zIndex;\n\n          if (this.isModal) {\n            this.setOverlayZindex(this.zIndex);\n          }\n\n          if (this.element.style.zIndex !== this.zIndex.toString()) {\n            this.calculatezIndex = false;\n          }\n\n          break;\n\n        case 'cssClass':\n          this.setCSSClass(oldProp.cssClass);\n          break;\n\n        case 'buttons':\n          var buttonCount = this.buttons.length;\n\n          if (!isNullOrUndefined(this.ftrTemplateContent)) {\n            detach(this.ftrTemplateContent);\n            this.ftrTemplateContent = null;\n          }\n\n          for (var i = 0; i < buttonCount; i++) {\n            if (!isNullOrUndefined(this.buttons[i].buttonModel)) {\n              this.footerTemplate = '';\n              this.setButton();\n            }\n          }\n\n          break;\n\n        case 'allowDragging':\n          if (this.allowDragging && !isNullOrUndefined(this.headerContent)) {\n            this.setAllowDragging();\n          } else {\n            this.dragObj.destroy();\n          }\n\n          break;\n\n        case 'target':\n          this.popupObj.relateTo = newProp.target;\n          break;\n\n        case 'position':\n          this.checkPositionData();\n\n          if (this.isModal) {\n            var positionX = isNullOrUndefined(oldProp.position.X) ? this.position.X : oldProp.position.X;\n            var positionY = isNullOrUndefined(oldProp.position.Y) ? this.position.Y : oldProp.position.Y;\n\n            if (this.dlgContainer.classList.contains('e-dlg-' + positionX + '-' + positionY)) {\n              this.dlgContainer.classList.remove('e-dlg-' + positionX + '-' + positionY);\n            }\n          }\n\n          this.positionChange();\n          break;\n\n        case 'enableRtl':\n          this.setEnableRTL();\n          break;\n\n        case 'enableResize':\n          this.setResize();\n          break;\n      }\n    }\n  };\n\n  Dialog.prototype.updateIsModal = function () {\n    this.element.setAttribute('aria-modal', this.isModal ? 'true' : 'false');\n\n    if (this.isModal) {\n      this.setIsModal();\n      this.element.style.top = '0px';\n      this.element.style.left = '0px';\n\n      if (!isNullOrUndefined(this.targetEle)) {\n        this.targetEle.appendChild(this.dlgContainer);\n      }\n    } else {\n      removeClass([this.element], MODAL_DLG);\n      removeClass([document.body], SCROLL_DISABLED);\n      detach(this.dlgOverlay);\n\n      while (this.dlgContainer.firstChild) {\n        this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild, this.dlgContainer);\n      }\n\n      this.dlgContainer.parentElement.removeChild(this.dlgContainer);\n    }\n\n    if (this.visible) {\n      this.show();\n    }\n\n    this.positionChange();\n\n    if (this.isModal && this.dlgOverlay) {\n      EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n    }\n  };\n\n  Dialog.prototype.setzIndex = function (zIndexElement, setPopupZindex) {\n    var prevOnChange = this.isProtectedOnChange;\n    this.isProtectedOnChange = true;\n    this.zIndex = getZindexPartial(zIndexElement);\n    this.isProtectedOnChange = prevOnChange;\n\n    if (setPopupZindex) {\n      this.popupObj.zIndex = this.zIndex;\n    }\n  };\n  /**\n   * Get the properties to be maintained in the persisted state.\n   * @private\n   */\n\n\n  Dialog.prototype.getPersistData = function () {\n    return this.addOnPersist([]);\n  };\n  /**\n   * To destroy the widget\n   * @method destroy\n   * @return {void}\n   * @memberof dialog\n   */\n\n\n  Dialog.prototype.destroy = function () {\n    if (this.element.classList.contains(ROOT)) {\n      this.unWireEvents();\n\n      _super.prototype.destroy.call(this);\n\n      var classArray = [ROOT, RTL, MODAL_DLG];\n      removeClass([this.element, this.element], classArray);\n\n      if (this.popupObj.element.classList.contains(POPUP_ROOT)) {\n        this.popupObj.destroy();\n      }\n      /* istanbul ignore next */\n\n\n      if (!isNullOrUndefined(this.btnObj)) {\n        for (var i = void 0; i < this.btnObj.length; i++) {\n          this.btnObj[i].destroy();\n        }\n      }\n\n      if (this.isModal && !(isBlazor() && this.isServerRendered)) {\n        detach(this.dlgOverlay);\n        this.dlgContainer.parentNode.insertBefore(this.element, this.dlgContainer);\n        detach(this.dlgContainer);\n      }\n\n      if (!(isBlazor() && this.isServerRendered)) {\n        this.element.innerHTML = '';\n      }\n\n      if (isBlazor() && this.isServerRendered) {\n        if (!isNullOrUndefined(this.element.children)) {\n          for (var i = 0; i <= this.element.children.length; i++) {\n            i = i - i;\n            detach(this.element.children[i]);\n          }\n        }\n      }\n\n      while (this.element.attributes.length > 0) {\n        this.element.removeAttribute(this.element.attributes[0].name);\n      }\n\n      for (var k = 0; k < this.clonedEle.attributes.length; k++) {\n        if (isBlazor() && this.isServerRendered && this.clonedEle.attributes[k].name === 'id') {\n          this.element.setAttribute(this.clonedEle.attributes[k].name, this.clonedEle.attributes[k].value);\n          return;\n        } else {\n          this.element.setAttribute(this.clonedEle.attributes[k].name, this.clonedEle.attributes[k].value);\n        }\n      }\n    }\n  };\n  /**\n   * Binding event to the element while widget creation\n   * @hidden\n   */\n\n\n  Dialog.prototype.wireEvents = function () {\n    if (isBlazor() && this.isServerRendered && this.showCloseIcon) {\n      this.closeIcon = this.element.getElementsByClassName('e-dlg-closeicon-btn')[0];\n    }\n\n    if (this.showCloseIcon) {\n      EventHandler.add(this.closeIcon, 'click', this.closeIconClickEventHandler, this);\n    }\n\n    if (this.isModal && this.dlgOverlay) {\n      EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n    }\n  };\n  /**\n   * Unbinding event to the element while widget destroy\n   * @hidden\n   */\n\n\n  Dialog.prototype.unWireEvents = function () {\n    if (this.showCloseIcon) {\n      EventHandler.remove(this.closeIcon, 'click', this.closeIconClickEventHandler);\n    }\n\n    if (this.isModal) {\n      EventHandler.remove(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler);\n    }\n\n    if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n      if (!(isBlazor() && this.isServerRendered)) {\n        for (var i = 0; i < this.buttons.length; i++) {\n          if (typeof this.buttons[i].click === 'function') {\n            EventHandler.remove(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click);\n          }\n        }\n      } else if (isBlazor() && this.isServerRendered && this.footerTemplate === '') {\n        for (var i = 0; i < this.buttons.length; i++) {\n          if (typeof this.buttons[i].click === 'function') {\n            EventHandler.remove(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click);\n          }\n        }\n      }\n    }\n  };\n  /**\n   * Refreshes the dialog's position when the user changes its header and footer height/width dynamically.\n   * @return {void}\n   */\n\n\n  Dialog.prototype.refreshPosition = function () {\n    this.popupObj.refreshPosition();\n  };\n  /**\n   * Opens the dialog if it is in hidden state.\n   * To open the dialog with full screen width, set the parameter to true.\n   * @param { boolean } isFullScreen - Enable the fullScreen Dialog.\n   * @return {void}\n   */\n\n\n  Dialog.prototype.show = function (isFullScreen) {\n    var _this = this;\n\n    if (!this.element.classList.contains(ROOT)) {\n      return;\n    }\n\n    if (!this.element.classList.contains(DLG_SHOW) || !isNullOrUndefined(isFullScreen)) {\n      if (!isNullOrUndefined(isFullScreen)) {\n        this.fullScreen(isFullScreen);\n      }\n\n      var eventArgs_1 = isBlazor() ? {\n        cancel: false,\n        element: this.element,\n        container: this.isModal ? this.dlgContainer : this.element,\n        maxHeight: this.element.style.maxHeight\n      } : {\n        cancel: false,\n        element: this.element,\n        container: this.isModal ? this.dlgContainer : this.element,\n        target: this.target,\n        maxHeight: this.element.style.maxHeight\n      };\n      this.trigger('beforeOpen', eventArgs_1, function (beforeOpenArgs) {\n        if (!beforeOpenArgs.cancel) {\n          if (_this.element.style.maxHeight !== eventArgs_1.maxHeight) {\n            _this.allowMaxHeight = false;\n            _this.element.style.maxHeight = eventArgs_1.maxHeight;\n          }\n\n          _this.storeActiveElement = document.activeElement;\n          _this.element.tabIndex = -1;\n\n          if (_this.isModal && !isNullOrUndefined(_this.dlgOverlay)) {\n            _this.dlgOverlay.style.display = 'block';\n            _this.dlgContainer.style.display = 'flex';\n            removeClass([_this.dlgOverlay], 'e-fade');\n\n            if (!isNullOrUndefined(_this.targetEle)) {\n              if (_this.targetEle === document.body) {\n                _this.dlgContainer.style.position = 'fixed';\n              } else {\n                _this.dlgContainer.style.position = 'absolute';\n              }\n\n              _this.dlgOverlay.style.position = 'absolute';\n              _this.element.style.position = 'relative';\n              addClass([_this.targetEle], SCROLL_DISABLED);\n            } else {\n              addClass([document.body], SCROLL_DISABLED);\n            }\n          }\n\n          var openAnimation = {\n            name: _this.animationSettings.effect + 'In',\n            duration: _this.animationSettings.duration,\n            delay: _this.animationSettings.delay\n          };\n          var zIndexElement = _this.isModal ? _this.element.parentElement : _this.element;\n\n          if (_this.calculatezIndex) {\n            _this.setzIndex(zIndexElement, true);\n\n            setStyleAttribute(_this.element, {\n              'zIndex': _this.zIndex\n            });\n\n            if (_this.isModal) {\n              _this.setOverlayZindex(_this.zIndex);\n            }\n          }\n\n          _this.animationSettings.effect === 'None' ? _this.popupObj.show() : _this.popupObj.show(openAnimation);\n          _this.dialogOpen = true;\n          var prevOnChange = _this.isProtectedOnChange;\n          _this.isProtectedOnChange = true;\n          _this.visible = true;\n          _this.preventVisibility = true;\n          _this.isProtectedOnChange = prevOnChange;\n        }\n      });\n    }\n  };\n  /**\n   * Closes the dialog if it is in visible state.\n   * @return {void}\n   */\n\n\n  Dialog.prototype.hide = function (event) {\n    var _this = this;\n\n    if (!this.element.classList.contains(ROOT)) {\n      return;\n    }\n\n    if (this.preventVisibility) {\n      var eventArgs = isBlazor() ? {\n        cancel: false,\n        isInteraction: event ? true : false,\n        isInteracted: event ? true : false,\n        element: this.element,\n        container: this.isModal ? this.dlgContainer : this.element,\n        event: event\n      } : {\n        cancel: false,\n        isInteraction: event ? true : false,\n        isInteracted: event ? true : false,\n        element: this.element,\n        target: this.target,\n        container: this.isModal ? this.dlgContainer : this.element,\n        event: event\n      };\n      this.closeArgs = eventArgs;\n      this.trigger('beforeClose', eventArgs, function (beforeCloseArgs) {\n        if (!beforeCloseArgs.cancel) {\n          if (_this.isModal) {\n            !isNullOrUndefined(_this.targetEle) ? removeClass([_this.targetEle], SCROLL_DISABLED) : removeClass([document.body], SCROLL_DISABLED);\n          }\n\n          var closeAnimation = {\n            name: _this.animationSettings.effect + 'Out',\n            duration: _this.animationSettings.duration,\n            delay: _this.animationSettings.delay\n          };\n          _this.animationSettings.effect === 'None' ? _this.popupObj.hide() : _this.popupObj.hide(closeAnimation);\n          _this.dialogOpen = false;\n          var prevOnChange = _this.isProtectedOnChange;\n          _this.isProtectedOnChange = true;\n          _this.visible = false;\n          _this.preventVisibility = false;\n          _this.isProtectedOnChange = prevOnChange;\n        }\n      });\n    }\n  };\n  /**\n   * Specifies to view the Full screen Dialog.\n   * @private\n   */\n\n\n  Dialog.prototype.fullScreen = function (args) {\n    var top = this.element.offsetTop;\n    var left = this.element.offsetLeft;\n\n    if (args) {\n      addClass([this.element], FULLSCREEN);\n      var display = this.element.style.display;\n      this.element.style.display = 'none';\n      this.element.style.maxHeight = !isNullOrUndefined(this.target) ? this.targetEle.offsetHeight + 'px' : window.innerHeight + 'px';\n      this.element.style.display = display;\n      addClass([document.body], SCROLL_DISABLED);\n\n      if (this.allowDragging && !isNullOrUndefined(this.dragObj)) {\n        this.dragObj.destroy();\n      }\n    } else {\n      removeClass([this.element], FULLSCREEN);\n      removeClass([document.body], SCROLL_DISABLED);\n\n      if (this.allowDragging && !isNullOrUndefined(this.headerContent)) {\n        this.setAllowDragging();\n      }\n    }\n\n    return args;\n  };\n  /**\n   * Returns the dialog button instances.\n   * Based on that, you can dynamically change the button states.\n   * @param { number } index - Index of the button.\n   * @return {Button}\n   */\n\n\n  Dialog.prototype.getButtons = function (index) {\n    if (!isNullOrUndefined(index)) {\n      return this.btnObj[index];\n    }\n\n    return this.btnObj;\n  };\n\n  __decorate([Property('')], Dialog.prototype, \"content\", void 0);\n\n  __decorate([Property(true)], Dialog.prototype, \"enableHtmlSanitizer\", void 0);\n\n  __decorate([Property(false)], Dialog.prototype, \"showCloseIcon\", void 0);\n\n  __decorate([Property(false)], Dialog.prototype, \"isModal\", void 0);\n\n  __decorate([Property('')], Dialog.prototype, \"header\", void 0);\n\n  __decorate([Property(true)], Dialog.prototype, \"visible\", void 0);\n\n  __decorate([Property(false)], Dialog.prototype, \"enableResize\", void 0);\n\n  __decorate([Property('auto')], Dialog.prototype, \"height\", void 0);\n\n  __decorate([Property('')], Dialog.prototype, \"minHeight\", void 0);\n\n  __decorate([Property('100%')], Dialog.prototype, \"width\", void 0);\n\n  __decorate([Property('')], Dialog.prototype, \"cssClass\", void 0);\n\n  __decorate([Property(1000)], Dialog.prototype, \"zIndex\", void 0);\n\n  __decorate([Property(null)], Dialog.prototype, \"target\", void 0);\n\n  __decorate([Property('')], Dialog.prototype, \"footerTemplate\", void 0);\n\n  __decorate([Property(false)], Dialog.prototype, \"allowDragging\", void 0);\n\n  __decorate([Collection([{}], ButtonProps)], Dialog.prototype, \"buttons\", void 0);\n\n  __decorate([Property(true)], Dialog.prototype, \"closeOnEscape\", void 0);\n\n  __decorate([Complex({}, AnimationSettings)], Dialog.prototype, \"animationSettings\", void 0);\n\n  __decorate([Complex({\n    X: 'center',\n    Y: 'center'\n  }, PositionData)], Dialog.prototype, \"position\", void 0);\n\n  __decorate([Event()], Dialog.prototype, \"created\", void 0);\n\n  __decorate([Event()], Dialog.prototype, \"open\", void 0);\n\n  __decorate([Event()], Dialog.prototype, \"beforeSanitizeHtml\", void 0);\n\n  __decorate([Event()], Dialog.prototype, \"beforeOpen\", void 0);\n\n  __decorate([Event()], Dialog.prototype, \"close\", void 0);\n\n  __decorate([Event()], Dialog.prototype, \"beforeClose\", void 0);\n\n  __decorate([Event()], Dialog.prototype, \"dragStart\", void 0);\n\n  __decorate([Event()], Dialog.prototype, \"dragStop\", void 0);\n\n  __decorate([Event()], Dialog.prototype, \"drag\", void 0);\n\n  __decorate([Event()], Dialog.prototype, \"overlayClick\", void 0);\n\n  __decorate([Event()], Dialog.prototype, \"resizeStart\", void 0);\n\n  __decorate([Event()], Dialog.prototype, \"resizing\", void 0);\n\n  __decorate([Event()], Dialog.prototype, \"resizeStop\", void 0);\n\n  Dialog = __decorate([NotifyPropertyChanges], Dialog);\n  return Dialog;\n}(Component);\n\nexport { Dialog };\n/**\n * Base for creating Alert and Confirmation Dialog through util method.\n */\n\nexport var DialogUtility;\n\n(function (DialogUtility) {\n  /**\n   * An alert dialog box is used to display warning like messages to the users.\n   * ```\n   * Eg : DialogUtility.alert('Alert message');\n   *\n   * ```\n   */\n\n  /* istanbul ignore next */\n  function alert(args) {\n    var dialogComponent;\n    var dialogElement = createElement('div', {\n      'className': DLG_UTIL_ALERT\n    });\n    document.body.appendChild(dialogElement);\n    var alertDialogObj;\n    var okButtonModel = [{\n      buttonModel: {\n        isPrimary: true,\n        content: 'OK'\n      },\n      click: function () {\n        this.hide();\n      }\n    }];\n\n    if (typeof args === 'string') {\n      alertDialogObj = createDialog({\n        content: args,\n        position: {\n          X: 'center',\n          Y: 'top'\n        },\n        isModal: true,\n        header: DLG_UTIL_DEFAULT_TITLE,\n        buttons: okButtonModel\n      }, dialogElement);\n    } else {\n      alertDialogObj = createDialog(alertOptions(args), dialogElement);\n    }\n\n    alertDialogObj.close = function () {\n      if (args && args.close) {\n        args.close.apply(alertDialogObj);\n      }\n\n      alertDialogObj.destroy();\n\n      if (alertDialogObj.element.classList.contains('e-dlg-modal')) {\n        alertDialogObj.element.parentElement.remove();\n        alertDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n      } else {\n        alertDialogObj.element.remove();\n      }\n    };\n\n    return alertDialogObj;\n  }\n\n  DialogUtility.alert = alert;\n  /**\n   * A confirm dialog displays a specified message along with OK and Cancel button.\n   * ```\n   * Eg : DialogUtility.confirm('Confirm dialog message');\n   *\n   * ```\n   */\n\n  /* istanbul ignore next */\n\n  function confirm(args) {\n    var dialogComponent;\n    var dialogElement = createElement('div', {\n      'className': DLG_UTIL_CONFIRM\n    });\n    document.body.appendChild(dialogElement);\n    var confirmDialogObj;\n    var okCancelButtonModel = [{\n      buttonModel: {\n        isPrimary: true,\n        content: 'OK'\n      },\n      click: function () {\n        this.hide();\n      }\n    }, {\n      buttonModel: {\n        content: 'Cancel'\n      },\n      click: function () {\n        this.hide();\n      }\n    }];\n\n    if (typeof args === 'string') {\n      confirmDialogObj = createDialog({\n        position: {\n          X: 'center',\n          Y: 'top'\n        },\n        content: args,\n        isModal: true,\n        header: DLG_UTIL_DEFAULT_TITLE,\n        buttons: okCancelButtonModel\n      }, dialogElement);\n    } else {\n      confirmDialogObj = createDialog(confirmOptions(args), dialogElement);\n    }\n\n    confirmDialogObj.close = function () {\n      if (args && args.close) {\n        args.close.apply(confirmDialogObj);\n      }\n\n      confirmDialogObj.destroy();\n\n      if (confirmDialogObj.element.classList.contains('e-dlg-modal')) {\n        confirmDialogObj.element.parentElement.remove();\n        confirmDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n      } else {\n        confirmDialogObj.element.remove();\n      }\n    };\n\n    return confirmDialogObj;\n  }\n\n  DialogUtility.confirm = confirm;\n\n  function createDialog(options, element) {\n    var dialogObject = new Dialog(options);\n    dialogObject.appendTo(element);\n    return dialogObject;\n  }\n\n  function alertOptions(option) {\n    var options = {};\n    options.buttons = [];\n    options = formOptions(options, option);\n    options = setAlertButtonModel(options, option);\n    return options;\n  }\n\n  function confirmOptions(option) {\n    var options = {};\n    options.buttons = [];\n    options = formOptions(options, option);\n    options = setConfirmButtonModel(options, option);\n    return options;\n  }\n\n  function formOptions(options, option) {\n    options.header = !isNullOrUndefined(option.title) ? option.title : DLG_UTIL_DEFAULT_TITLE;\n    options.content = !isNullOrUndefined(option.content) ? option.content : '';\n    options.isModal = !isNullOrUndefined(option.isModal) ? option.isModal : true;\n    options.showCloseIcon = !isNullOrUndefined(option.showCloseIcon) ? option.showCloseIcon : false;\n    options.allowDragging = !isNullOrUndefined(option.isDraggable) ? option.isDraggable : false;\n    options.closeOnEscape = !isNullOrUndefined(option.closeOnEscape) ? option.closeOnEscape : false;\n    options.position = !isNullOrUndefined(option.position) ? option.position : {\n      X: 'center',\n      Y: 'top'\n    };\n    options.animationSettings = !isNullOrUndefined(option.animationSettings) ? option.animationSettings : {\n      effect: 'Fade',\n      duration: 400,\n      delay: 0\n    };\n    options.cssClass = !isNullOrUndefined(option.cssClass) ? option.cssClass : '';\n    options.zIndex = !isNullOrUndefined(option.zIndex) ? option.zIndex : 1000;\n    options.open = !isNullOrUndefined(option.open) ? option.open : null;\n    return options;\n  }\n\n  function setAlertButtonModel(options, option) {\n    var alertButtonModel = [{\n      buttonModel: {\n        isPrimary: true,\n        content: 'OK'\n      },\n      click: function () {\n        this.hide();\n      }\n    }];\n\n    if (!isNullOrUndefined(option.okButton)) {\n      options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, alertButtonModel[0]);\n    } else {\n      options.buttons = alertButtonModel;\n    }\n\n    return options;\n  }\n\n  function setConfirmButtonModel(options, option) {\n    var okButtonModel = {\n      buttonModel: {\n        isPrimary: true,\n        content: 'OK'\n      },\n      click: function () {\n        this.hide();\n      }\n    };\n    var cancelButtonModel = {\n      buttonModel: {\n        content: 'Cancel'\n      },\n      click: function () {\n        this.hide();\n      }\n    };\n\n    if (!isNullOrUndefined(option.okButton)) {\n      options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, okButtonModel);\n    } else {\n      options.buttons[0] = okButtonModel;\n    }\n\n    if (!isNullOrUndefined(option.cancelButton)) {\n      options.buttons[1] = formButtonModel(options.buttons[1], option.cancelButton, cancelButtonModel);\n    } else {\n      options.buttons[1] = cancelButtonModel;\n    }\n\n    return options;\n  }\n\n  function formButtonModel(buttonModel, option, buttonPropModel) {\n    var buttonProps = buttonPropModel;\n\n    if (!isNullOrUndefined(option.text)) {\n      buttonProps.buttonModel.content = option.text;\n    }\n\n    if (!isNullOrUndefined(option.icon)) {\n      buttonProps.buttonModel.iconCss = option.icon;\n    }\n\n    if (!isNullOrUndefined(option.cssClass)) {\n      buttonProps.buttonModel.cssClass = option.cssClass;\n    }\n\n    if (!isNullOrUndefined(option.click)) {\n      buttonProps.click = option.click;\n    }\n\n    return buttonProps;\n  }\n})(DialogUtility || (DialogUtility = {}));","map":{"version":3,"sources":["C:/CN2/workspace-trunk/kain-front-end/node_modules/@syncfusion/ej2-popups/src/dialog/dialog.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","Property","Event","Collection","L10n","Browser","Complex","compile","createElement","addClass","removeClass","detach","attributes","prepend","setStyleAttribute","NotifyPropertyChanges","ChildProperty","isBlazor","isNullOrUndefined","formatUnit","append","EventHandler","updateBlazorTemplate","Draggable","SanitizeHtmlHelper","extend","Popup","PositionData","getZindexPartial","Button","createResize","removeResize","setMinHeight","ButtonProps","_super","apply","AnimationSettings","ROOT","RTL","DLG_HEADER_CONTENT","DLG_HEADER","DLG_FOOTER_CONTENT","MODAL_DLG","DLG_CONTENT","DLG_CLOSE_ICON","DLG_OVERLAY","DLG_CONTAINER","SCROLL_DISABLED","DLG_PRIMARY_BUTTON","ICON","POPUP_ROOT","DEVICE","FULLSCREEN","DLG_CLOSE_ICON_BTN","DLG_HIDE","DLG_SHOW","DLG_UTIL_DEFAULT_TITLE","DLG_UTIL_ROOT","DLG_UTIL_ALERT","DLG_UTIL_CONFIRM","DLG_RESIZABLE","DLG_RESTRICT_LEFT_VALUE","DLG_RESTRICT_WIDTH_VALUE","Dialog","options","element","call","render","initialize","initRender","wireEvents","width","style","minHeight","toString","enableResize","setResize","animationSettings","effect","getMinHeight","renderComplete","preRender","_this","headerContent","allowMaxHeight","preventVisibility","classArray","isServerRendered","j","classList","match","push","clonedEle","cloneNode","closeIconClickEventHandler","event","hide","dlgOverlayClickEventHandler","trigger","focusContent","localeText","close","l10n","locale","checkPositionData","prevOnChange","isProtectedOnChange","document","body","isNumberValue","value","isNumber","test","position","X","parseFloat","Y","getEle","list","selector","undefined","contains","computedHeaderHeight","computedFooterHeight","querySelector","getComputedStyle","height","footerEle","children","headerHeight","parseInt","slice","indexOf","footerHeight","onResizeStart","args","cancel","onResizing","onResizeComplete","add","computedHeight","computedWidth","minWidth","direction","enableRtl","isModal","maxHeight","targetEle","clientHeight","maxWidth","clientWidth","boundary","resizeBegin","bind","resizeComplete","resizing","remove","keyDown","keyCode","buttonObj","btnObj","activeElement","shiftKey","preventDefault","focusableElements","focus","isTagName","tagName","toLowerCase","isContentEdit","hasAttribute","getAttribute","closeOnEscape","ctrlKey","primaryButtonEle","buttonIndex_1","firstPrimary","buttons","some","data","index","buttonModel","isPrimary","click","setTimeout","isDevice","setCSSClass","setMaxHeight","initialRender","role","zIndex","setzIndex","calculatezIndex","getElementsByClassName","setTargetContent","header","setHeader","showCloseIcon","renderCloseIcon","setContent","footerTemplate","setFooterTemplate","setButton","allowDragging","setAllowDragging","setIsModal","dlgContainer","parentElement","dlgOverlay","appendChild","popupObj","relateTo","actionOnScroll","open","eventArgs","container","preventFocus","openEventArgs","unBindEvent","display","closeArgs","activeEle","blur","storeActiveElement","positionChange","setEnableRTL","setOverlayZindex","visible","show","zIndexValue","isNaN","setPopupPosition","top","left","setProperties","handleContent","dragObj","clone","abort","handle","dragStart","dragEventArgs","bindEvents","dragElement","dragStop","drag","dragArea","buttonContent","primaryBtnFlag","buttonType","type","btn","attrs","outerHTML","ftrTemplateContent","appendTo","id","contentEle","className","innerContentElement","content","blazorContain","keys","window","innerHTML","sanitizeHelper","HTMLElement","setTemplate","insertBefore","template","toElement","templateFn","templateProps","templateValue","isStringTemplate","fromElements","isString","_i","_a","item","blazorTemplate","enableHtmlSanitizer","beforeSanitize","beforeEvent","helper","serializeValue","offsetHeight","innerHeight","isContent","replace","createDocumentFragment","childNodes","forEach","el","nodeType","headerEle","createHeaderContent","join","closeIcon","closeIconBtnObj","cssClass","iconCss","closeIconTitle","setLocale","getConstant","setAttribute","oldCSSClass","split","parentNode","getValidFocusNode","items","node","u","tabIndex","disabled","disableElement","querySelectorAll","getAutoFocusNode","validNode","t","elementMatch","matches","webkitMatchesSelector","msMatchesSelector","Element","bindEvent","getModuleName","onPropertyChanged","newProp","oldProp","prop","innerText","insertAdjacentHTML","updateIsModal","buttonCount","destroy","positionX","positionY","firstChild","removeChild","zIndexElement","setPopupZindex","getPersistData","addOnPersist","unWireEvents","removeAttribute","name","k","refreshPosition","isFullScreen","fullScreen","eventArgs_1","beforeOpenArgs","openAnimation","duration","delay","dialogOpen","isInteraction","isInteracted","beforeCloseArgs","closeAnimation","offsetTop","offsetLeft","getButtons","DialogUtility","alert","dialogComponent","dialogElement","alertDialogObj","okButtonModel","createDialog","alertOptions","confirm","confirmDialogObj","okCancelButtonModel","confirmOptions","dialogObject","option","formOptions","setAlertButtonModel","setConfirmButtonModel","title","isDraggable","alertButtonModel","okButton","formButtonModel","cancelButtonModel","cancelButton","buttonPropModel","buttonProps","text","icon"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, Collection, L10n, Browser, Complex, compile, createElement } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, detach, attributes, prepend, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, isBlazor } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, append } from '@syncfusion/ej2-base';\nimport { EventHandler, updateBlazorTemplate } from '@syncfusion/ej2-base';\nimport { Draggable, SanitizeHtmlHelper, extend } from '@syncfusion/ej2-base';\nimport { Popup, PositionData, getZindexPartial } from '../popup/popup';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { createResize, removeResize, setMinHeight } from '../common/resize';\nvar ButtonProps = /** @class */ (function (_super) {\n    __extends(ButtonProps, _super);\n    function ButtonProps() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], ButtonProps.prototype, \"buttonModel\", void 0);\n    __decorate([\n        Property('Button')\n    ], ButtonProps.prototype, \"type\", void 0);\n    __decorate([\n        Event()\n    ], ButtonProps.prototype, \"click\", void 0);\n    return ButtonProps;\n}(ChildProperty));\nexport { ButtonProps };\n/**\n * Configures the animation properties for both open and close the dialog.\n */\nvar AnimationSettings = /** @class */ (function (_super) {\n    __extends(AnimationSettings, _super);\n    function AnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Fade')\n    ], AnimationSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], AnimationSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property(0)\n    ], AnimationSettings.prototype, \"delay\", void 0);\n    return AnimationSettings;\n}(ChildProperty));\nexport { AnimationSettings };\nvar ROOT = 'e-dialog';\nvar RTL = 'e-rtl';\nvar DLG_HEADER_CONTENT = 'e-dlg-header-content';\nvar DLG_HEADER = 'e-dlg-header';\nvar DLG_FOOTER_CONTENT = 'e-footer-content';\nvar MODAL_DLG = 'e-dlg-modal';\nvar DLG_CONTENT = 'e-dlg-content';\nvar DLG_CLOSE_ICON = 'e-icon-dlg-close';\nvar DLG_OVERLAY = 'e-dlg-overlay';\nvar DLG_CONTAINER = 'e-dlg-container';\nvar SCROLL_DISABLED = 'e-scroll-disabled';\nvar DLG_PRIMARY_BUTTON = 'e-primary';\nvar ICON = 'e-icons';\nvar POPUP_ROOT = 'e-popup';\nvar DEVICE = 'e-device';\nvar FULLSCREEN = 'e-dlg-fullscreen';\nvar DLG_CLOSE_ICON_BTN = 'e-dlg-closeicon-btn';\nvar DLG_HIDE = 'e-popup-close';\nvar DLG_SHOW = 'e-popup-open';\nvar DLG_UTIL_DEFAULT_TITLE = 'Information';\nvar DLG_UTIL_ROOT = 'e-scroll-disabled';\nvar DLG_UTIL_ALERT = 'e-alert-dialog';\nvar DLG_UTIL_CONFIRM = 'e-confirm-dialog';\nvar DLG_RESIZABLE = 'e-dlg-resizable';\nvar DLG_RESTRICT_LEFT_VALUE = 'e-restrict-left';\nvar DLG_RESTRICT_WIDTH_VALUE = 'e-resize-viewport';\n/**\n * Represents the dialog component that displays the information and get input from the user.\n * Two types of dialog components are `Modal and Modeless (non-modal)` depending on its interaction with parent application.\n * ```html\n * <div id=\"dialog\"></div>\n * ```\n * ```typescript\n * <script>\n *   var dialogObj = new Dialog({ header: 'Dialog' });\n *   dialogObj.appendTo(\"#dialog\");\n * </script>\n * ```\n */\nvar Dialog = /** @class */ (function (_super) {\n    __extends(Dialog, _super);\n    /**\n     * Constructor for creating the widget\n     * @hidden\n     */\n    function Dialog(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    Dialog.prototype.render = function () {\n        this.initialize();\n        this.initRender();\n        this.wireEvents();\n        if (this.width === '100%') {\n            this.element.style.width = '';\n        }\n        if (this.minHeight !== '') {\n            this.element.style.minHeight = this.minHeight.toString();\n        }\n        if (this.enableResize) {\n            this.setResize();\n            if (this.animationSettings.effect === 'None') {\n                this.getMinHeight();\n            }\n        }\n        this.renderComplete();\n    };\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    Dialog.prototype.preRender = function () {\n        var _this = this;\n        this.headerContent = null;\n        this.allowMaxHeight = true;\n        this.preventVisibility = true;\n        var classArray = [];\n        if (!(isBlazor() && this.isServerRendered)) {\n            for (var j = 0; j < this.element.classList.length; j++) {\n                if (!isNullOrUndefined(this.element.classList[j].match('e-control')) ||\n                    !isNullOrUndefined(this.element.classList[j].match(ROOT))) {\n                    classArray.push(this.element.classList[j]);\n                }\n            }\n            removeClass([this.element], classArray);\n        }\n        this.clonedEle = this.element.cloneNode(true);\n        this.closeIconClickEventHandler = function (event) {\n            _this.hide(event);\n        };\n        this.dlgOverlayClickEventHandler = function (event) {\n            _this.trigger('overlayClick', event);\n            _this.focusContent();\n        };\n        var localeText = { close: 'Close' };\n        this.l10n = new L10n('dialog', localeText, this.locale);\n        this.checkPositionData();\n        if (isNullOrUndefined(this.target)) {\n            var prevOnChange = this.isProtectedOnChange;\n            this.isProtectedOnChange = true;\n            this.target = document.body;\n            this.isProtectedOnChange = prevOnChange;\n        }\n    };\n    ;\n    Dialog.prototype.isNumberValue = function (value) {\n        var isNumber = /^[-+]?\\d*\\.?\\d+$/.test(value);\n        return isNumber;\n    };\n    Dialog.prototype.checkPositionData = function () {\n        if (!isNullOrUndefined(this.position)) {\n            if (!isNullOrUndefined(this.position.X) && (typeof (this.position.X) !== 'number')) {\n                var isNumber = this.isNumberValue(this.position.X);\n                if (isNumber) {\n                    var prevOnChange = this.isProtectedOnChange;\n                    this.isProtectedOnChange = true;\n                    this.position.X = parseFloat(this.position.X);\n                    this.isProtectedOnChange = prevOnChange;\n                }\n            }\n            if (!isNullOrUndefined(this.position.Y) && (typeof (this.position.Y) !== 'number')) {\n                var isNumber = this.isNumberValue(this.position.Y);\n                if (isNumber) {\n                    var prevOnChange = this.isProtectedOnChange;\n                    this.isProtectedOnChange = true;\n                    this.position.Y = parseFloat(this.position.Y);\n                    this.isProtectedOnChange = prevOnChange;\n                }\n            }\n        }\n    };\n    Dialog.prototype.getEle = function (list, selector) {\n        var element = undefined;\n        for (var i = 0; i < list.length; i++) {\n            if (list[i].classList.contains(selector)) {\n                element = list[i];\n                break;\n            }\n        }\n        return element;\n    };\n    /* istanbul ignore next */\n    Dialog.prototype.getMinHeight = function () {\n        var computedHeaderHeight = '0px';\n        var computedFooterHeight = '0px';\n        if (!isNullOrUndefined(this.element.querySelector('.' + DLG_HEADER_CONTENT))) {\n            computedHeaderHeight = getComputedStyle(this.headerContent).height;\n        }\n        var footerEle = this.getEle(this.element.children, DLG_FOOTER_CONTENT);\n        if (!isNullOrUndefined(footerEle)) {\n            computedFooterHeight = getComputedStyle(footerEle).height;\n        }\n        var headerHeight = parseInt(computedHeaderHeight.slice(0, computedHeaderHeight.indexOf('p')), 10);\n        var footerHeight = parseInt(computedFooterHeight.slice(0, computedFooterHeight.indexOf('p')), 10);\n        setMinHeight(headerHeight + 30 + footerHeight);\n    };\n    Dialog.prototype.onResizeStart = function (args) {\n        this.trigger('resizeStart', args);\n        return args.cancel;\n    };\n    Dialog.prototype.onResizing = function (args) {\n        this.trigger('resizing', args);\n    };\n    Dialog.prototype.onResizeComplete = function (args) {\n        this.trigger('resizeStop', args);\n    };\n    Dialog.prototype.setResize = function () {\n        if (this.enableResize) {\n            if (isBlazor() && this.isServerRendered && !isNullOrUndefined(this.element.querySelector('.e-icons.e-resize-handle'))) {\n                return;\n            }\n            this.element.classList.add(DLG_RESIZABLE);\n            var computedHeight = getComputedStyle(this.element).minHeight;\n            var computedWidth = getComputedStyle(this.element).minWidth;\n            var direction = this.enableRtl ? 'south-west' : 'south-east';\n            if (this.isModal && this.enableRtl) {\n                this.element.classList.add(DLG_RESTRICT_LEFT_VALUE);\n            }\n            else if (this.isModal && this.target === document.body) {\n                this.element.classList.add(DLG_RESTRICT_WIDTH_VALUE);\n            }\n            createResize({\n                element: this.element,\n                direction: direction,\n                minHeight: parseInt(computedHeight.slice(0, computedWidth.indexOf('p')), 10),\n                maxHeight: this.targetEle.clientHeight,\n                minWidth: parseInt(computedWidth.slice(0, computedWidth.indexOf('p')), 10),\n                maxWidth: this.targetEle.clientWidth,\n                boundary: this.target === document.body ? null : this.targetEle,\n                resizeBegin: this.onResizeStart.bind(this),\n                resizeComplete: this.onResizeComplete.bind(this),\n                resizing: this.onResizing.bind(this)\n            });\n        }\n        else {\n            removeResize();\n            if (this.isModal) {\n                this.element.classList.remove(DLG_RESTRICT_LEFT_VALUE);\n            }\n            else {\n                this.element.classList.remove(DLG_RESTRICT_WIDTH_VALUE);\n            }\n            this.element.classList.remove(DLG_RESIZABLE);\n        }\n    };\n    /* istanbul ignore next */\n    Dialog.prototype.keyDown = function (event) {\n        var _this = this;\n        if (event.keyCode === 9) {\n            if (this.isModal) {\n                var buttonObj = void 0;\n                if (!isNullOrUndefined(this.btnObj)) {\n                    buttonObj = this.btnObj[this.btnObj.length - 1];\n                }\n                if (!isNullOrUndefined(buttonObj) && document.activeElement === buttonObj.element && !event.shiftKey) {\n                    event.preventDefault();\n                    this.focusableElements(this.element).focus();\n                }\n                if (document.activeElement === this.focusableElements(this.element) && event.shiftKey) {\n                    event.preventDefault();\n                    if (!isNullOrUndefined(buttonObj)) {\n                        buttonObj.element.focus();\n                    }\n                }\n            }\n        }\n        var element = document.activeElement;\n        var isTagName = (['input', 'textarea'].indexOf(element.tagName.toLowerCase()) > -1);\n        var isContentEdit = false;\n        if (!isTagName) {\n            isContentEdit = element.hasAttribute('contenteditable') && element.getAttribute('contenteditable') === 'true';\n        }\n        if (event.keyCode === 27 && this.closeOnEscape) {\n            this.hide(event);\n        }\n        if ((event.keyCode === 13 && !event.ctrlKey && element.tagName.toLowerCase() !== 'textarea' &&\n            isTagName && !isNullOrUndefined(this.primaryButtonEle)) ||\n            (event.keyCode === 13 && event.ctrlKey && (element.tagName.toLowerCase() === 'textarea' ||\n                isContentEdit)) && !isNullOrUndefined(this.primaryButtonEle)) {\n            var buttonIndex_1;\n            var firstPrimary = this.buttons.some(function (data, index) {\n                buttonIndex_1 = index;\n                var buttonModel = data.buttonModel;\n                return !isNullOrUndefined(buttonModel) && buttonModel.isPrimary === true;\n            });\n            if (firstPrimary && typeof (this.buttons[buttonIndex_1].click) === 'function') {\n                setTimeout(function () {\n                    _this.buttons[buttonIndex_1].click.call(_this, event);\n                });\n            }\n        }\n    };\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    Dialog.prototype.initialize = function () {\n        if (!isNullOrUndefined(this.target)) {\n            this.targetEle = ((typeof this.target) === 'string') ?\n                document.querySelector(this.target) : this.target;\n        }\n        if (!(isBlazor() && this.isServerRendered)) {\n            addClass([this.element], ROOT);\n        }\n        if (Browser.isDevice) {\n            addClass([this.element], DEVICE);\n        }\n        if (!(isBlazor() && this.isServerRendered)) {\n            this.setCSSClass();\n        }\n        this.setMaxHeight();\n    };\n    /**\n     * Initialize the rendering\n     * @private\n     */\n    Dialog.prototype.initRender = function () {\n        var _this = this;\n        this.initialRender = true;\n        if (!(isBlazor() && this.isServerRendered)) {\n            attributes(this.element, { role: 'dialog' });\n        }\n        if (this.zIndex === 1000) {\n            this.setzIndex(this.element, false);\n            this.calculatezIndex = true;\n        }\n        else {\n            this.calculatezIndex = false;\n        }\n        if (isBlazor() && this.isServerRendered && isNullOrUndefined(this.headerContent)) {\n            this.headerContent = this.element.getElementsByClassName('e-dlg-header-content')[0];\n        }\n        if (!(isBlazor() && this.isServerRendered)) {\n            this.setTargetContent();\n            if (this.header !== '' && !isNullOrUndefined(this.header)) {\n                this.setHeader();\n            }\n            if (this.showCloseIcon) {\n                this.renderCloseIcon();\n            }\n            this.setContent();\n            if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n                this.setFooterTemplate();\n            }\n            else if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n                this.setButton();\n            }\n        }\n        if (isBlazor() && this.isServerRendered) {\n            if (!isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n                this.setButton();\n            }\n        }\n        if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n            this.setAllowDragging();\n        }\n        if (!(isBlazor() && this.isServerRendered)) {\n            attributes(this.element, { 'aria-modal': (this.isModal ? 'true' : 'false') });\n            if (this.isModal) {\n                this.setIsModal();\n            }\n        }\n        if (isBlazor() && this.isServerRendered && isNullOrUndefined(this.dlgContainer)) {\n            this.dlgContainer = this.element.parentElement;\n            this.dlgOverlay = this.element.parentElement.getElementsByClassName('e-dlg-overlay')[0];\n        }\n        if (!isNullOrUndefined(this.targetEle)) {\n            this.isModal ? this.targetEle.appendChild(this.dlgContainer) : this.targetEle.appendChild(this.element);\n        }\n        this.popupObj = new Popup(this.element, {\n            height: this.height,\n            width: this.width,\n            zIndex: this.zIndex,\n            relateTo: this.target,\n            actionOnScroll: 'none',\n            open: function (event) {\n                var eventArgs = {\n                    container: _this.isModal ? _this.dlgContainer : _this.element,\n                    element: _this.element,\n                    target: _this.target,\n                    preventFocus: false\n                };\n                if (_this.enableResize) {\n                    _this.getMinHeight();\n                }\n                _this.trigger('open', eventArgs, function (openEventArgs) {\n                    if (!openEventArgs.preventFocus) {\n                        _this.focusContent();\n                    }\n                });\n            },\n            close: function (event) {\n                if (_this.isModal) {\n                    addClass([_this.dlgOverlay], 'e-fade');\n                }\n                _this.unBindEvent(_this.element);\n                if (_this.isModal) {\n                    _this.dlgContainer.style.display = 'none';\n                }\n                _this.trigger('close', _this.closeArgs);\n                var activeEle = document.activeElement;\n                if (!isNullOrUndefined(activeEle) && !isNullOrUndefined((activeEle).blur)) {\n                    activeEle.blur();\n                }\n                if (!isNullOrUndefined(_this.storeActiveElement)) {\n                    _this.storeActiveElement.focus();\n                }\n            }\n        });\n        this.positionChange();\n        this.setEnableRTL();\n        if (!(isBlazor() && this.isServerRendered)) {\n            addClass([this.element], DLG_HIDE);\n            if (this.isModal) {\n                this.setOverlayZindex();\n            }\n        }\n        if (this.visible) {\n            this.show();\n        }\n        else {\n            if (this.isModal) {\n                this.dlgOverlay.style.display = 'none';\n            }\n        }\n        this.initialRender = false;\n    };\n    Dialog.prototype.setOverlayZindex = function (zIndexValue) {\n        var zIndex;\n        if (isNullOrUndefined(zIndexValue)) {\n            zIndex = parseInt(this.element.style.zIndex, 10) ? parseInt(this.element.style.zIndex, 10) : this.zIndex;\n        }\n        else {\n            zIndex = zIndexValue;\n        }\n        this.dlgOverlay.style.zIndex = (zIndex - 1).toString();\n        this.dlgContainer.style.zIndex = zIndex.toString();\n    };\n    Dialog.prototype.positionChange = function () {\n        if (this.isModal) {\n            if (!isNaN(parseFloat(this.position.X)) && !isNaN(parseFloat(this.position.Y))) {\n                this.setPopupPosition();\n            }\n            else if ((!isNaN(parseFloat(this.position.X)) && isNaN(parseFloat(this.position.Y)))\n                || (isNaN(parseFloat(this.position.X)) && !isNaN(parseFloat(this.position.Y)))) {\n                this.setPopupPosition();\n            }\n            else {\n                this.element.style.top = '0px';\n                this.element.style.left = '0px';\n                this.dlgContainer.classList.add('e-dlg-' + this.position.X + '-' + this.position.Y);\n            }\n        }\n        else {\n            this.setPopupPosition();\n        }\n    };\n    Dialog.prototype.setPopupPosition = function () {\n        this.popupObj.setProperties({\n            position: {\n                X: this.position.X, Y: this.position.Y\n            }\n        });\n    };\n    Dialog.prototype.setAllowDragging = function () {\n        var _this = this;\n        var handleContent = '.' + DLG_HEADER_CONTENT;\n        this.dragObj = new Draggable(this.element, {\n            clone: false,\n            abort: '.e-dlg-closeicon-btn',\n            handle: handleContent,\n            dragStart: function (event) {\n                _this.trigger('dragStart', event, function (dragEventArgs) {\n                    if (isBlazor()) {\n                        dragEventArgs.bindEvents(event.dragElement);\n                    }\n                });\n            },\n            dragStop: function (event) {\n                if (_this.isModal) {\n                    if (!isNullOrUndefined(_this.position)) {\n                        _this.dlgContainer.classList.remove('e-dlg-' + _this.position.X + '-' + _this.position.Y);\n                    }\n                    // Reset the dialog position after drag completion.\n                    _this.element.style.position = 'relative';\n                }\n                _this.trigger('dragStop', event);\n                _this.element.classList.remove(DLG_RESTRICT_LEFT_VALUE);\n            },\n            drag: function (event) {\n                _this.trigger('drag', event);\n            }\n        });\n        if (!isNullOrUndefined(this.targetEle)) {\n            this.dragObj.dragArea = this.targetEle;\n        }\n    };\n    Dialog.prototype.setButton = function () {\n        if (!(isBlazor() && this.isServerRendered)) {\n            this.buttonContent = [];\n            this.btnObj = [];\n            var primaryBtnFlag = true;\n            for (var i = 0; i < this.buttons.length; i++) {\n                var buttonType = !isNullOrUndefined(this.buttons[i].type) ? this.buttons[i].type.toLowerCase() : 'button';\n                var btn = this.createElement('button', { attrs: { type: buttonType } });\n                this.buttonContent.push(btn.outerHTML);\n            }\n            this.setFooterTemplate();\n        }\n        for (var i = 0; i < this.buttons.length; i++) {\n            if (!(isBlazor() && this.isServerRendered)) {\n                this.btnObj[i] = new Button(this.buttons[i].buttonModel);\n            }\n            if (isBlazor() && this.isServerRendered) {\n                this.ftrTemplateContent = this.element.querySelector('.e-footer-content');\n            }\n            if (typeof (this.buttons[i].click) === 'function') {\n                EventHandler.add(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click, this);\n            }\n            if (!(isBlazor() && this.isServerRendered)) {\n                this.btnObj[i].appendTo(this.ftrTemplateContent.children[i]);\n                this.btnObj[i].element.classList.add('e-flat');\n                this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n            }\n        }\n    };\n    Dialog.prototype.setContent = function () {\n        attributes(this.element, { 'aria-describedby': this.element.id + '_dialog-content' });\n        this.contentEle = this.createElement('div', { className: DLG_CONTENT, id: this.element.id + '_dialog-content' });\n        if (this.innerContentElement) {\n            this.contentEle.appendChild(this.innerContentElement);\n        }\n        else if (!isNullOrUndefined(this.content) && this.content !== '' || !this.initialRender) {\n            var blazorContain = Object.keys(window);\n            if (typeof (this.content) === 'string' && blazorContain.indexOf('ejsInterop') === -1) {\n                this.contentEle.innerHTML = this.sanitizeHelper(this.content);\n            }\n            else if (this.content instanceof HTMLElement) {\n                this.contentEle.appendChild(this.content);\n            }\n            else {\n                this.setTemplate(this.content, this.contentEle);\n            }\n        }\n        if (!isNullOrUndefined(this.headerContent)) {\n            this.element.insertBefore(this.contentEle, this.element.children[1]);\n        }\n        else {\n            this.element.insertBefore(this.contentEle, this.element.children[0]);\n        }\n        if (this.height === 'auto') {\n            this.setMaxHeight();\n        }\n    };\n    Dialog.prototype.setTemplate = function (template, toElement) {\n        var templateFn;\n        var templateProps;\n        var blazorContain = Object.keys(window);\n        if (toElement.classList.contains(DLG_HEADER)) {\n            templateProps = this.element.id + 'header';\n        }\n        else if (toElement.classList.contains(DLG_FOOTER_CONTENT)) {\n            templateProps = this.element.id + 'footerTemplate';\n        }\n        else {\n            templateProps = this.element.id + 'content';\n        }\n        var templateValue;\n        if (!isNullOrUndefined(template.outerHTML)) {\n            toElement.appendChild(template);\n        }\n        else if ((typeof template !== 'string') || (isBlazor() && !this.isStringTemplate)) {\n            templateFn = compile(template);\n            templateValue = template;\n        }\n        else {\n            toElement.innerHTML = this.sanitizeHelper(template);\n        }\n        var fromElements = [];\n        if (!isNullOrUndefined(templateFn)) {\n            var isString = (blazorContain.indexOf('ejsInterop') !== -1 &&\n                !this.isStringTemplate && (templateValue).indexOf('<div>Blazor') === 0) ?\n                this.isStringTemplate : true;\n            for (var _i = 0, _a = templateFn({}, null, null, templateProps, isString); _i < _a.length; _i++) {\n                var item = _a[_i];\n                fromElements.push(item);\n            }\n            append([].slice.call(fromElements), toElement);\n            if (blazorContain.indexOf('ejsInterop') !== -1 && !this.isStringTemplate && templateValue.indexOf('<div>Blazor') === 0) {\n                this.blazorTemplate(templateProps);\n            }\n        }\n    };\n    /**\n     * @hidden\n     */\n    Dialog.prototype.sanitizeHelper = function (value) {\n        if (this.enableHtmlSanitizer) {\n            var item = SanitizeHtmlHelper.beforeSanitize();\n            var beforeEvent = {\n                cancel: false,\n                helper: null\n            };\n            extend(item, item, beforeEvent);\n            this.trigger('beforeSanitizeHtml', item);\n            if (item.cancel && !isNullOrUndefined(item.helper)) {\n                value = item.helper(value);\n            }\n            else if (!item.cancel) {\n                value = SanitizeHtmlHelper.serializeValue(item, value);\n            }\n        }\n        return value;\n    };\n    Dialog.prototype.blazorTemplate = function (templateProps) {\n        if (templateProps === this.element.id + 'header') {\n            updateBlazorTemplate(templateProps, 'Header', this);\n        }\n        else if (templateProps === this.element.id + 'footerTemplate') {\n            updateBlazorTemplate(templateProps, 'FooterTemplate', this);\n        }\n        else {\n            updateBlazorTemplate(templateProps, 'Content', this);\n        }\n    };\n    Dialog.prototype.setMaxHeight = function () {\n        if (!this.allowMaxHeight) {\n            return;\n        }\n        var display = this.element.style.display;\n        this.element.style.display = 'none';\n        this.element.style.maxHeight = (!isNullOrUndefined(this.target)) && (this.targetEle.offsetHeight < window.innerHeight) ?\n            (this.targetEle.offsetHeight - 20) + 'px' : (window.innerHeight - 20) + 'px';\n        this.element.style.display = display;\n    };\n    Dialog.prototype.setEnableRTL = function () {\n        if (!(isBlazor() && this.isServerRendered)) {\n            this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n        }\n        if (!isNullOrUndefined(this.element.querySelector('.e-resize-handle'))) {\n            removeResize();\n            this.setResize();\n        }\n    };\n    Dialog.prototype.setTargetContent = function () {\n        var _this = this;\n        if (isNullOrUndefined(this.content) || this.content === '') {\n            var isContent = this.element.innerHTML.replace(/\\s|<(\\/?|\\!?)(!--!--)>/g, '') !== '';\n            if (this.element.children.length > 0 || isContent) {\n                this.innerContentElement = document.createDocumentFragment();\n                [].slice.call(this.element.childNodes).forEach(function (el) {\n                    if (el.nodeType !== 8) {\n                        _this.innerContentElement.appendChild(el);\n                    }\n                });\n            }\n        }\n    };\n    Dialog.prototype.setHeader = function () {\n        if (this.headerEle) {\n            this.headerEle.innerHTML = '';\n        }\n        else {\n            this.headerEle = this.createElement('div', { id: this.element.id + '_title', className: DLG_HEADER });\n        }\n        this.createHeaderContent();\n        this.headerContent.appendChild(this.headerEle);\n        this.setTemplate(this.header, this.headerEle);\n        attributes(this.element, { 'aria-labelledby': this.element.id + '_title' });\n        this.element.insertBefore(this.headerContent, this.element.children[0]);\n    };\n    Dialog.prototype.setFooterTemplate = function () {\n        if (this.ftrTemplateContent) {\n            this.ftrTemplateContent.innerHTML = '';\n        }\n        else {\n            this.ftrTemplateContent = this.createElement('div', {\n                className: DLG_FOOTER_CONTENT\n            });\n        }\n        if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n            this.setTemplate(this.footerTemplate, this.ftrTemplateContent);\n        }\n        else {\n            this.ftrTemplateContent.innerHTML = this.buttonContent.join('');\n        }\n        this.element.appendChild(this.ftrTemplateContent);\n    };\n    Dialog.prototype.createHeaderContent = function () {\n        if (isNullOrUndefined(this.headerContent)) {\n            this.headerContent = this.createElement('div', { className: DLG_HEADER_CONTENT });\n        }\n    };\n    Dialog.prototype.renderCloseIcon = function () {\n        this.closeIcon = this.createElement('button', { className: DLG_CLOSE_ICON_BTN, attrs: { type: 'button' } });\n        this.closeIconBtnObj = new Button({ cssClass: 'e-flat', iconCss: DLG_CLOSE_ICON + ' ' + ICON });\n        this.closeIconTitle();\n        if (!isNullOrUndefined(this.headerContent)) {\n            prepend([this.closeIcon], this.headerContent);\n        }\n        else {\n            this.createHeaderContent();\n            prepend([this.closeIcon], this.headerContent);\n            this.element.insertBefore(this.headerContent, this.element.children[0]);\n        }\n        this.closeIconBtnObj.appendTo(this.closeIcon);\n    };\n    Dialog.prototype.closeIconTitle = function () {\n        this.l10n.setLocale(this.locale);\n        var closeIconTitle = this.l10n.getConstant('close');\n        this.closeIcon.setAttribute('title', closeIconTitle);\n        this.closeIcon.setAttribute('aria-label', closeIconTitle);\n    };\n    Dialog.prototype.setCSSClass = function (oldCSSClass) {\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n        if (oldCSSClass) {\n            removeClass([this.element], oldCSSClass.split(' '));\n        }\n    };\n    Dialog.prototype.setIsModal = function () {\n        this.dlgContainer = this.createElement('div', { className: DLG_CONTAINER });\n        this.element.classList.remove(DLG_SHOW);\n        this.element.parentNode.insertBefore(this.dlgContainer, this.element);\n        this.dlgContainer.appendChild(this.element);\n        addClass([this.element], MODAL_DLG);\n        this.dlgOverlay = this.createElement('div', { className: DLG_OVERLAY });\n        this.dlgOverlay.style.zIndex = (this.zIndex - 1).toString();\n        this.dlgContainer.appendChild(this.dlgOverlay);\n    };\n    Dialog.prototype.getValidFocusNode = function (items) {\n        var node;\n        for (var u = 0; u < items.length; u++) {\n            node = items[u];\n            if ((node.clientHeight > 0 || (node.tagName.toLowerCase() === 'a' && node.hasAttribute('href'))) && node.tabIndex > -1 &&\n                !node.disabled && !this.disableElement(node, '[disabled],[aria-disabled=\"true\"],[type=\"hidden\"]')) {\n                return node;\n            }\n        }\n        return node;\n    };\n    Dialog.prototype.focusableElements = function (content) {\n        if (!isNullOrUndefined(content)) {\n            var value = 'input,select,textarea,button,a,[contenteditable=\"true\"],[tabindex]';\n            var items = content.querySelectorAll(value);\n            return this.getValidFocusNode(items);\n        }\n        return null;\n    };\n    Dialog.prototype.getAutoFocusNode = function (container) {\n        var node = container.querySelector('.' + DLG_CLOSE_ICON_BTN);\n        var value = '[autofocus]';\n        var items = container.querySelectorAll(value);\n        var validNode = this.getValidFocusNode(items);\n        if (isBlazor()) {\n            this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n        }\n        if (!isNullOrUndefined(validNode)) {\n            node = validNode;\n        }\n        else {\n            validNode = this.focusableElements(this.contentEle);\n            if (!isNullOrUndefined(validNode)) {\n                return node = validNode;\n            }\n            else if (!isNullOrUndefined(this.primaryButtonEle)) {\n                return this.element.querySelector('.' + DLG_PRIMARY_BUTTON);\n            }\n        }\n        return node;\n    };\n    Dialog.prototype.disableElement = function (element, t) {\n        var elementMatch = element ? element.matches || element.webkitMatchesSelector || element.msMatchesSelector : null;\n        if (elementMatch) {\n            for (; element; element = element.parentNode) {\n                if (element instanceof Element && elementMatch.call(element, t)) {\n                    /* istanbul ignore next */\n                    return element;\n                }\n            }\n        }\n        return null;\n    };\n    Dialog.prototype.focusContent = function () {\n        var element = this.getAutoFocusNode(this.element);\n        var node = !isNullOrUndefined(element) ? element : this.element;\n        node.focus();\n        this.bindEvent(this.element);\n    };\n    Dialog.prototype.bindEvent = function (element) {\n        EventHandler.add(element, 'keydown', this.keyDown, this);\n    };\n    Dialog.prototype.unBindEvent = function (element) {\n        EventHandler.remove(element, 'keydown', this.keyDown);\n    };\n    /**\n     * Module required function\n     * @private\n     */\n    Dialog.prototype.getModuleName = function () {\n        return 'dialog';\n    };\n    /**\n     * Called internally if any of the property value changed\n     * @private\n     */\n    Dialog.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'content':\n                    if (!isNullOrUndefined(this.content) && this.content !== '') {\n                        if (isBlazor() && this.isServerRendered) {\n                            this.contentEle = this.element.querySelector('.e-dlg-content');\n                        }\n                        if (!isNullOrUndefined(this.contentEle) && this.contentEle.getAttribute('role') !== 'dialog') {\n                            if (!(isBlazor() && this.isServerRendered)) {\n                                this.contentEle.innerHTML = '';\n                            }\n                            typeof (this.content) === 'string' ? (isBlazor() && this.isServerRendered\n                                && (this.contentEle.innerText === '')) ?\n                                this.contentEle.insertAdjacentHTML('beforeend', this.sanitizeHelper(this.content)) :\n                                this.contentEle.innerHTML = this.sanitizeHelper(this.content) : this.contentEle.appendChild(this.content);\n                            this.setMaxHeight();\n                        }\n                        else {\n                            if (!(isBlazor() && this.isServerRendered) ||\n                                isNullOrUndefined(this.element.querySelector('.e-dlg-content'))) {\n                                this.setContent();\n                            }\n                        }\n                    }\n                    else if (!isNullOrUndefined(this.contentEle)) {\n                        detach(this.contentEle);\n                        this.contentEle = null;\n                    }\n                    break;\n                case 'header':\n                    if (this.header === '' || isNullOrUndefined(this.header)) {\n                        if (this.headerEle) {\n                            detach(this.headerEle);\n                            this.headerEle = null;\n                        }\n                    }\n                    else {\n                        if (!(isBlazor() && this.isServerRendered) ||\n                            isNullOrUndefined(this.element.querySelector('.e-dlg-header-content'))) {\n                            this.setHeader();\n                        }\n                    }\n                    break;\n                case 'footerTemplate':\n                    if (this.footerTemplate === '' || isNullOrUndefined(this.footerTemplate)) {\n                        if (!this.ftrTemplateContent) {\n                            return;\n                        }\n                        detach(this.ftrTemplateContent);\n                        this.ftrTemplateContent = null;\n                        this.buttons = [{}];\n                    }\n                    else {\n                        if (!(isBlazor() && this.isServerRendered) ||\n                            isNullOrUndefined(this.element.querySelector('.e-footer-content'))) {\n                            this.setFooterTemplate();\n                        }\n                        this.buttons = [{}];\n                    }\n                    break;\n                case 'showCloseIcon':\n                    if (this.element.getElementsByClassName(DLG_CLOSE_ICON).length > 0) {\n                        if (!this.showCloseIcon && (this.header === '' || isNullOrUndefined(this.header))) {\n                            detach(this.headerContent);\n                            this.headerContent = null;\n                        }\n                        else if (!this.showCloseIcon) {\n                            detach(this.closeIcon);\n                        }\n                        else {\n                            if (isBlazor() && this.isServerRendered) {\n                                this.wireEvents();\n                            }\n                        }\n                    }\n                    else {\n                        if (!(isBlazor() && this.isServerRendered)) {\n                            this.renderCloseIcon();\n                        }\n                        this.wireEvents();\n                    }\n                    break;\n                case 'locale':\n                    if (this.showCloseIcon) {\n                        this.closeIconTitle();\n                    }\n                    break;\n                case 'visible':\n                    this.visible ? this.show() : this.hide();\n                    break;\n                case 'isModal':\n                    this.updateIsModal();\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'zIndex':\n                    this.popupObj.zIndex = this.zIndex;\n                    if (this.isModal) {\n                        this.setOverlayZindex(this.zIndex);\n                    }\n                    if (this.element.style.zIndex !== this.zIndex.toString()) {\n                        this.calculatezIndex = false;\n                    }\n                    break;\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n                case 'buttons':\n                    var buttonCount = this.buttons.length;\n                    if (!isNullOrUndefined(this.ftrTemplateContent)) {\n                        detach(this.ftrTemplateContent);\n                        this.ftrTemplateContent = null;\n                    }\n                    for (var i = 0; i < buttonCount; i++) {\n                        if (!isNullOrUndefined(this.buttons[i].buttonModel)) {\n                            this.footerTemplate = '';\n                            this.setButton();\n                        }\n                    }\n                    break;\n                case 'allowDragging':\n                    if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n                        this.setAllowDragging();\n                    }\n                    else {\n                        this.dragObj.destroy();\n                    }\n                    break;\n                case 'target':\n                    this.popupObj.relateTo = newProp.target;\n                    break;\n                case 'position':\n                    this.checkPositionData();\n                    if (this.isModal) {\n                        var positionX = isNullOrUndefined(oldProp.position.X) ? this.position.X : oldProp.position.X;\n                        var positionY = isNullOrUndefined(oldProp.position.Y) ? this.position.Y : oldProp.position.Y;\n                        if (this.dlgContainer.classList.contains('e-dlg-' + positionX + '-' + positionY)) {\n                            this.dlgContainer.classList.remove('e-dlg-' + positionX + '-' + positionY);\n                        }\n                    }\n                    this.positionChange();\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL();\n                    break;\n                case 'enableResize':\n                    this.setResize();\n                    break;\n            }\n        }\n    };\n    Dialog.prototype.updateIsModal = function () {\n        this.element.setAttribute('aria-modal', this.isModal ? 'true' : 'false');\n        if (this.isModal) {\n            this.setIsModal();\n            this.element.style.top = '0px';\n            this.element.style.left = '0px';\n            if (!isNullOrUndefined(this.targetEle)) {\n                this.targetEle.appendChild(this.dlgContainer);\n            }\n        }\n        else {\n            removeClass([this.element], MODAL_DLG);\n            removeClass([document.body], SCROLL_DISABLED);\n            detach(this.dlgOverlay);\n            while (this.dlgContainer.firstChild) {\n                this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild, this.dlgContainer);\n            }\n            this.dlgContainer.parentElement.removeChild(this.dlgContainer);\n        }\n        if (this.visible) {\n            this.show();\n        }\n        this.positionChange();\n        if (this.isModal && this.dlgOverlay) {\n            EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n        }\n    };\n    Dialog.prototype.setzIndex = function (zIndexElement, setPopupZindex) {\n        var prevOnChange = this.isProtectedOnChange;\n        this.isProtectedOnChange = true;\n        this.zIndex = getZindexPartial(zIndexElement);\n        this.isProtectedOnChange = prevOnChange;\n        if (setPopupZindex) {\n            this.popupObj.zIndex = this.zIndex;\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @private\n     */\n    Dialog.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To destroy the widget\n     * @method destroy\n     * @return {void}\n     * @memberof dialog\n     */\n    Dialog.prototype.destroy = function () {\n        if (this.element.classList.contains(ROOT)) {\n            this.unWireEvents();\n            _super.prototype.destroy.call(this);\n            var classArray = [\n                ROOT, RTL, MODAL_DLG\n            ];\n            removeClass([this.element, this.element], classArray);\n            if (this.popupObj.element.classList.contains(POPUP_ROOT)) {\n                this.popupObj.destroy();\n            }\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(this.btnObj)) {\n                for (var i = void 0; i < this.btnObj.length; i++) {\n                    this.btnObj[i].destroy();\n                }\n            }\n            if (this.isModal && (!(isBlazor() && this.isServerRendered))) {\n                detach(this.dlgOverlay);\n                this.dlgContainer.parentNode.insertBefore(this.element, this.dlgContainer);\n                detach(this.dlgContainer);\n            }\n            if (!(isBlazor() && this.isServerRendered)) {\n                this.element.innerHTML = '';\n            }\n            if (isBlazor() && this.isServerRendered) {\n                if (!isNullOrUndefined(this.element.children)) {\n                    for (var i = 0; i <= this.element.children.length; i++) {\n                        i = i - i;\n                        detach(this.element.children[i]);\n                    }\n                }\n            }\n            while (this.element.attributes.length > 0) {\n                this.element.removeAttribute(this.element.attributes[0].name);\n            }\n            for (var k = 0; k < this.clonedEle.attributes.length; k++) {\n                if (isBlazor() && this.isServerRendered && this.clonedEle.attributes[k].name === 'id') {\n                    this.element.setAttribute(this.clonedEle.attributes[k].name, this.clonedEle.attributes[k].value);\n                    return;\n                }\n                else {\n                    this.element.setAttribute(this.clonedEle.attributes[k].name, this.clonedEle.attributes[k].value);\n                }\n            }\n        }\n    };\n    /**\n     * Binding event to the element while widget creation\n     * @hidden\n     */\n    Dialog.prototype.wireEvents = function () {\n        if (isBlazor() && this.isServerRendered && this.showCloseIcon) {\n            this.closeIcon = this.element.getElementsByClassName('e-dlg-closeicon-btn')[0];\n        }\n        if (this.showCloseIcon) {\n            EventHandler.add(this.closeIcon, 'click', this.closeIconClickEventHandler, this);\n        }\n        if (this.isModal && this.dlgOverlay) {\n            EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n        }\n    };\n    /**\n     * Unbinding event to the element while widget destroy\n     * @hidden\n     */\n    Dialog.prototype.unWireEvents = function () {\n        if (this.showCloseIcon) {\n            EventHandler.remove(this.closeIcon, 'click', this.closeIconClickEventHandler);\n        }\n        if (this.isModal) {\n            EventHandler.remove(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler);\n        }\n        if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n            if (!(isBlazor() && this.isServerRendered)) {\n                for (var i = 0; i < this.buttons.length; i++) {\n                    if (typeof (this.buttons[i].click) === 'function') {\n                        EventHandler.remove(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click);\n                    }\n                }\n            }\n            else if (isBlazor() && this.isServerRendered && this.footerTemplate === '') {\n                for (var i = 0; i < this.buttons.length; i++) {\n                    if (typeof (this.buttons[i].click) === 'function') {\n                        EventHandler.remove(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Refreshes the dialog's position when the user changes its header and footer height/width dynamically.\n     * @return {void}\n     */\n    Dialog.prototype.refreshPosition = function () {\n        this.popupObj.refreshPosition();\n    };\n    /**\n     * Opens the dialog if it is in hidden state.\n     * To open the dialog with full screen width, set the parameter to true.\n     * @param { boolean } isFullScreen - Enable the fullScreen Dialog.\n     * @return {void}\n     */\n    Dialog.prototype.show = function (isFullScreen) {\n        var _this = this;\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        if (!this.element.classList.contains(DLG_SHOW) || (!isNullOrUndefined(isFullScreen))) {\n            if (!isNullOrUndefined(isFullScreen)) {\n                this.fullScreen(isFullScreen);\n            }\n            var eventArgs_1 = isBlazor() ? {\n                cancel: false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                maxHeight: this.element.style.maxHeight\n            } : {\n                cancel: false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                target: this.target,\n                maxHeight: this.element.style.maxHeight\n            };\n            this.trigger('beforeOpen', eventArgs_1, function (beforeOpenArgs) {\n                if (!beforeOpenArgs.cancel) {\n                    if (_this.element.style.maxHeight !== eventArgs_1.maxHeight) {\n                        _this.allowMaxHeight = false;\n                        _this.element.style.maxHeight = eventArgs_1.maxHeight;\n                    }\n                    _this.storeActiveElement = document.activeElement;\n                    _this.element.tabIndex = -1;\n                    if (_this.isModal && (!isNullOrUndefined(_this.dlgOverlay))) {\n                        _this.dlgOverlay.style.display = 'block';\n                        _this.dlgContainer.style.display = 'flex';\n                        removeClass([_this.dlgOverlay], 'e-fade');\n                        if (!isNullOrUndefined(_this.targetEle)) {\n                            if (_this.targetEle === document.body) {\n                                _this.dlgContainer.style.position = 'fixed';\n                            }\n                            else {\n                                _this.dlgContainer.style.position = 'absolute';\n                            }\n                            _this.dlgOverlay.style.position = 'absolute';\n                            _this.element.style.position = 'relative';\n                            addClass([_this.targetEle], SCROLL_DISABLED);\n                        }\n                        else {\n                            addClass([document.body], SCROLL_DISABLED);\n                        }\n                    }\n                    var openAnimation = {\n                        name: _this.animationSettings.effect + 'In',\n                        duration: _this.animationSettings.duration,\n                        delay: _this.animationSettings.delay\n                    };\n                    var zIndexElement = (_this.isModal) ? _this.element.parentElement : _this.element;\n                    if (_this.calculatezIndex) {\n                        _this.setzIndex(zIndexElement, true);\n                        setStyleAttribute(_this.element, { 'zIndex': _this.zIndex });\n                        if (_this.isModal) {\n                            _this.setOverlayZindex(_this.zIndex);\n                        }\n                    }\n                    _this.animationSettings.effect === 'None' ? _this.popupObj.show() : _this.popupObj.show(openAnimation);\n                    _this.dialogOpen = true;\n                    var prevOnChange = _this.isProtectedOnChange;\n                    _this.isProtectedOnChange = true;\n                    _this.visible = true;\n                    _this.preventVisibility = true;\n                    _this.isProtectedOnChange = prevOnChange;\n                }\n            });\n        }\n    };\n    /**\n     * Closes the dialog if it is in visible state.\n     * @return {void}\n     */\n    Dialog.prototype.hide = function (event) {\n        var _this = this;\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        if (this.preventVisibility) {\n            var eventArgs = isBlazor() ? {\n                cancel: false,\n                isInteraction: event ? true : false,\n                isInteracted: event ? true : false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                event: event\n            } : {\n                cancel: false,\n                isInteraction: event ? true : false,\n                isInteracted: event ? true : false,\n                element: this.element,\n                target: this.target,\n                container: this.isModal ? this.dlgContainer : this.element,\n                event: event\n            };\n            this.closeArgs = eventArgs;\n            this.trigger('beforeClose', eventArgs, function (beforeCloseArgs) {\n                if (!beforeCloseArgs.cancel) {\n                    if (_this.isModal) {\n                        !isNullOrUndefined(_this.targetEle) ? removeClass([_this.targetEle], SCROLL_DISABLED) :\n                            removeClass([document.body], SCROLL_DISABLED);\n                    }\n                    var closeAnimation = {\n                        name: _this.animationSettings.effect + 'Out',\n                        duration: _this.animationSettings.duration,\n                        delay: _this.animationSettings.delay\n                    };\n                    _this.animationSettings.effect === 'None' ? _this.popupObj.hide() : _this.popupObj.hide(closeAnimation);\n                    _this.dialogOpen = false;\n                    var prevOnChange = _this.isProtectedOnChange;\n                    _this.isProtectedOnChange = true;\n                    _this.visible = false;\n                    _this.preventVisibility = false;\n                    _this.isProtectedOnChange = prevOnChange;\n                }\n            });\n        }\n    };\n    /**\n     * Specifies to view the Full screen Dialog.\n     * @private\n     */\n    Dialog.prototype.fullScreen = function (args) {\n        var top = this.element.offsetTop;\n        var left = this.element.offsetLeft;\n        if (args) {\n            addClass([this.element], FULLSCREEN);\n            var display = this.element.style.display;\n            this.element.style.display = 'none';\n            this.element.style.maxHeight = (!isNullOrUndefined(this.target)) ?\n                (this.targetEle.offsetHeight) + 'px' : (window.innerHeight) + 'px';\n            this.element.style.display = display;\n            addClass([document.body], SCROLL_DISABLED);\n            if (this.allowDragging && !isNullOrUndefined(this.dragObj)) {\n                this.dragObj.destroy();\n            }\n        }\n        else {\n            removeClass([this.element], FULLSCREEN);\n            removeClass([document.body], SCROLL_DISABLED);\n            if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n                this.setAllowDragging();\n            }\n        }\n        return args;\n    };\n    /**\n     * Returns the dialog button instances.\n     * Based on that, you can dynamically change the button states.\n     * @param { number } index - Index of the button.\n     * @return {Button}\n     */\n    Dialog.prototype.getButtons = function (index) {\n        if (!isNullOrUndefined(index)) {\n            return this.btnObj[index];\n        }\n        return this.btnObj;\n    };\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"content\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"showCloseIcon\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"isModal\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"header\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"visible\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"enableResize\", void 0);\n    __decorate([\n        Property('auto')\n    ], Dialog.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"minHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], Dialog.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(1000)\n    ], Dialog.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(null)\n    ], Dialog.prototype, \"target\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"allowDragging\", void 0);\n    __decorate([\n        Collection([{}], ButtonProps)\n    ], Dialog.prototype, \"buttons\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"closeOnEscape\", void 0);\n    __decorate([\n        Complex({}, AnimationSettings)\n    ], Dialog.prototype, \"animationSettings\", void 0);\n    __decorate([\n        Complex({ X: 'center', Y: 'center' }, PositionData)\n    ], Dialog.prototype, \"position\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeSanitizeHtml\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"dragStop\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"overlayClick\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"resizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"resizing\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"resizeStop\", void 0);\n    Dialog = __decorate([\n        NotifyPropertyChanges\n    ], Dialog);\n    return Dialog;\n}(Component));\nexport { Dialog };\n/**\n * Base for creating Alert and Confirmation Dialog through util method.\n */\nexport var DialogUtility;\n(function (DialogUtility) {\n    /**\n     * An alert dialog box is used to display warning like messages to the users.\n     * ```\n     * Eg : DialogUtility.alert('Alert message');\n     *\n     * ```\n     */\n    /* istanbul ignore next */\n    function alert(args) {\n        var dialogComponent;\n        var dialogElement = createElement('div', { 'className': DLG_UTIL_ALERT });\n        document.body.appendChild(dialogElement);\n        var alertDialogObj;\n        var okButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (typeof (args) === 'string') {\n            alertDialogObj = createDialog({ content: args,\n                position: { X: 'center', Y: 'top' },\n                isModal: true, header: DLG_UTIL_DEFAULT_TITLE,\n                buttons: okButtonModel }, dialogElement);\n        }\n        else {\n            alertDialogObj = createDialog(alertOptions(args), dialogElement);\n        }\n        alertDialogObj.close = function () {\n            if (args && args.close) {\n                args.close.apply(alertDialogObj);\n            }\n            alertDialogObj.destroy();\n            if (alertDialogObj.element.classList.contains('e-dlg-modal')) {\n                alertDialogObj.element.parentElement.remove();\n                alertDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n            }\n            else {\n                alertDialogObj.element.remove();\n            }\n        };\n        return alertDialogObj;\n    }\n    DialogUtility.alert = alert;\n    /**\n     * A confirm dialog displays a specified message along with OK and Cancel button.\n     * ```\n     * Eg : DialogUtility.confirm('Confirm dialog message');\n     *\n     * ```\n     */\n    /* istanbul ignore next */\n    function confirm(args) {\n        var dialogComponent;\n        var dialogElement = createElement('div', { 'className': DLG_UTIL_CONFIRM });\n        document.body.appendChild(dialogElement);\n        var confirmDialogObj;\n        var okCancelButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }, {\n                buttonModel: { content: 'Cancel' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (typeof (args) === 'string') {\n            confirmDialogObj = createDialog({ position: { X: 'center', Y: 'top' }, content: args, isModal: true,\n                header: DLG_UTIL_DEFAULT_TITLE, buttons: okCancelButtonModel\n            }, dialogElement);\n        }\n        else {\n            confirmDialogObj = createDialog(confirmOptions(args), dialogElement);\n        }\n        confirmDialogObj.close = function () {\n            if (args && args.close) {\n                args.close.apply(confirmDialogObj);\n            }\n            confirmDialogObj.destroy();\n            if (confirmDialogObj.element.classList.contains('e-dlg-modal')) {\n                confirmDialogObj.element.parentElement.remove();\n                confirmDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n            }\n            else {\n                confirmDialogObj.element.remove();\n            }\n        };\n        return confirmDialogObj;\n    }\n    DialogUtility.confirm = confirm;\n    function createDialog(options, element) {\n        var dialogObject = new Dialog(options);\n        dialogObject.appendTo(element);\n        return dialogObject;\n    }\n    function alertOptions(option) {\n        var options = {};\n        options.buttons = [];\n        options = formOptions(options, option);\n        options = setAlertButtonModel(options, option);\n        return options;\n    }\n    function confirmOptions(option) {\n        var options = {};\n        options.buttons = [];\n        options = formOptions(options, option);\n        options = setConfirmButtonModel(options, option);\n        return options;\n    }\n    function formOptions(options, option) {\n        options.header = !isNullOrUndefined(option.title) ? option.title : DLG_UTIL_DEFAULT_TITLE;\n        options.content = !isNullOrUndefined(option.content) ? option.content : '';\n        options.isModal = !isNullOrUndefined(option.isModal) ? option.isModal : true;\n        options.showCloseIcon = !isNullOrUndefined(option.showCloseIcon) ? option.showCloseIcon : false;\n        options.allowDragging = !isNullOrUndefined(option.isDraggable) ? option.isDraggable : false;\n        options.closeOnEscape = !isNullOrUndefined(option.closeOnEscape) ? option.closeOnEscape : false;\n        options.position = !isNullOrUndefined(option.position) ? option.position : { X: 'center', Y: 'top' };\n        options.animationSettings = !isNullOrUndefined(option.animationSettings) ? option.animationSettings :\n            { effect: 'Fade', duration: 400, delay: 0 };\n        options.cssClass = !isNullOrUndefined(option.cssClass) ? option.cssClass : '';\n        options.zIndex = !isNullOrUndefined(option.zIndex) ? option.zIndex : 1000;\n        options.open = !isNullOrUndefined(option.open) ? option.open : null;\n        return options;\n    }\n    function setAlertButtonModel(options, option) {\n        var alertButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (!isNullOrUndefined(option.okButton)) {\n            options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, alertButtonModel[0]);\n        }\n        else {\n            options.buttons = alertButtonModel;\n        }\n        return options;\n    }\n    function setConfirmButtonModel(options, option) {\n        var okButtonModel = {\n            buttonModel: { isPrimary: true, content: 'OK' },\n            click: function () {\n                this.hide();\n            }\n        };\n        var cancelButtonModel = {\n            buttonModel: { content: 'Cancel' },\n            click: function () {\n                this.hide();\n            }\n        };\n        if (!isNullOrUndefined(option.okButton)) {\n            options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, okButtonModel);\n        }\n        else {\n            options.buttons[0] = okButtonModel;\n        }\n        if (!isNullOrUndefined(option.cancelButton)) {\n            options.buttons[1] = formButtonModel(options.buttons[1], option.cancelButton, cancelButtonModel);\n        }\n        else {\n            options.buttons[1] = cancelButtonModel;\n        }\n        return options;\n    }\n    function formButtonModel(buttonModel, option, buttonPropModel) {\n        var buttonProps = buttonPropModel;\n        if (!isNullOrUndefined(option.text)) {\n            buttonProps.buttonModel.content = option.text;\n        }\n        if (!isNullOrUndefined(option.icon)) {\n            buttonProps.buttonModel.iconCss = option.icon;\n        }\n        if (!isNullOrUndefined(option.cssClass)) {\n            buttonProps.buttonModel.cssClass = option.cssClass;\n        }\n        if (!isNullOrUndefined(option.click)) {\n            buttonProps.click = option.click;\n        }\n        return buttonProps;\n    }\n})(DialogUtility || (DialogUtility = {}));\n"]},"metadata":{},"sourceType":"module"}