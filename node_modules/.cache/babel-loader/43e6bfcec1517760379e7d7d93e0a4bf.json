{"ast":null,"code":"import { closest, isNullOrUndefined, EventHandler } from '@syncfusion/ej2-base';\nimport { remove } from '@syncfusion/ej2-base';\nimport { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\nimport * as events from '../base/constant';\nimport { Resize } from '../actions/resize';\nimport { Page } from '../actions/page';\nimport { parentsUntil, applyBiggerTheme } from '../base/util';\nimport { Group } from '../actions/group';\nimport { Sort } from '../actions/sort';\nimport { PdfExport } from '../actions/pdf-export';\nimport { ExcelExport } from '../actions/excel-export';\nexport var menuClass = {\n  header: '.e-gridheader',\n  content: '.e-gridcontent',\n  edit: '.e-inline-edit',\n  batchEdit: '.e-editedbatchcell',\n  editIcon: 'e-edit',\n  pager: '.e-gridpager',\n  delete: 'e-delete',\n  save: 'e-save',\n  cancel: 'e-cancel',\n  copy: 'e-copy',\n  pdf: 'e-pdfexport',\n  group: 'e-icon-group',\n  ungroup: 'e-icon-ungroup',\n  csv: 'e-csvexport',\n  excel: 'e-excelexport',\n  fPage: 'e-icon-first',\n  nPage: 'e-icon-next',\n  lPage: 'e-icon-last',\n  pPage: 'e-icon-prev',\n  ascending: 'e-icon-ascending',\n  descending: 'e-icon-descending',\n  groupHeader: 'e-groupdroparea',\n  touchPop: 'e-gridpopup'\n};\n/**\n * The `ContextMenu` module is used to handle context menu actions.\n */\n\nvar ContextMenu =\n/** @class */\nfunction () {\n  function ContextMenu(parent, serviceLocator) {\n    this.defaultItems = {};\n    this.disableItems = [];\n    this.hiddenItems = [];\n    this.localeText = this.setLocaleKey();\n    this.parent = parent;\n    this.gridID = parent.element.id;\n    this.serviceLocator = serviceLocator;\n    this.addEventListener();\n  }\n  /**\n   * @hidden\n   */\n\n\n  ContextMenu.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.on(events.uiUpdate, this.enableAfterRenderMenu, this);\n    this.parent.on(events.initialLoad, this.render, this);\n  };\n  /**\n   * @hidden\n   */\n\n\n  ContextMenu.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.off(events.initialLoad, this.render);\n    this.parent.off(events.uiUpdate, this.enableAfterRenderMenu);\n    EventHandler.remove(this.element, 'keydown', this.keyDownHandler.bind(this));\n  };\n\n  ContextMenu.prototype.keyDownHandler = function (e) {\n    if (e.code === 'Tab' || e.which === 9) {\n      this.contextMenu.close();\n    }\n  };\n\n  ContextMenu.prototype.render = function () {\n    this.parent.element.classList.add('e-noselect');\n    this.l10n = this.serviceLocator.getService('localization');\n    this.element = this.parent.createElement('ul', {\n      id: this.gridID + '_cmenu'\n    });\n    EventHandler.add(this.element, 'keydown', this.keyDownHandler.bind(this));\n    this.parent.element.appendChild(this.element);\n    var target = '#' + this.gridID;\n    this.contextMenu = new Menu({\n      items: this.getMenuItems(),\n      enableRtl: this.parent.enableRtl,\n      enablePersistence: this.parent.enablePersistence,\n      locale: this.parent.locale,\n      target: target,\n      select: this.contextMenuItemClick.bind(this),\n      beforeOpen: this.contextMenuBeforeOpen.bind(this),\n      onOpen: this.contextMenuOpen.bind(this),\n      onClose: this.contextMenuOnClose.bind(this),\n      cssClass: 'e-grid-menu'\n    });\n    this.contextMenu.appendTo(this.element);\n  };\n\n  ContextMenu.prototype.enableAfterRenderMenu = function (e) {\n    if (e.module === this.getModuleName() && e.enable) {\n      if (this.contextMenu) {\n        this.contextMenu.destroy();\n        remove(this.element);\n        this.parent.element.classList.remove('e-noselect');\n      }\n\n      this.render();\n    }\n  };\n\n  ContextMenu.prototype.getMenuItems = function () {\n    var menuItems = [];\n    var exportItems = [];\n\n    for (var _i = 0, _a = this.parent.contextMenuItems; _i < _a.length; _i++) {\n      var item = _a[_i];\n\n      if (typeof item === 'string' && this.getDefaultItems().indexOf(item) !== -1) {\n        if (item.toLocaleLowerCase().indexOf('export') !== -1) {\n          exportItems.push(this.buildDefaultItems(item));\n        } else {\n          menuItems.push(this.buildDefaultItems(item));\n        }\n      } else if (typeof item !== 'string') {\n        menuItems.push(item);\n      }\n    }\n\n    if (exportItems.length > 0) {\n      var exportGroup = this.buildDefaultItems('export');\n      exportGroup.items = exportItems;\n      menuItems.push(exportGroup);\n    }\n\n    return menuItems;\n  };\n\n  ContextMenu.prototype.getLastPage = function () {\n    var totalpage = Math.floor(this.parent.pageSettings.totalRecordsCount / this.parent.pageSettings.pageSize);\n\n    if (this.parent.pageSettings.totalRecordsCount % this.parent.pageSettings.pageSize) {\n      totalpage += 1;\n    }\n\n    return totalpage;\n  };\n\n  ContextMenu.prototype.contextMenuOpen = function () {\n    this.isOpen = true;\n  };\n  /**\n   * @hidden\n   */\n\n\n  ContextMenu.prototype.contextMenuItemClick = function (args) {\n    var item = this.getKeyFromId(args.item.id);\n\n    switch (item) {\n      case 'AutoFitAll':\n        this.parent.autoFitColumns([]);\n        break;\n\n      case 'AutoFit':\n        this.parent.autoFitColumns(this.targetColumn.field);\n        break;\n\n      case 'Group':\n        this.parent.groupColumn(this.targetColumn.field);\n        break;\n\n      case 'Ungroup':\n        this.parent.ungroupColumn(this.targetColumn.field);\n        break;\n\n      case 'Edit':\n        if (this.parent.editModule) {\n          if (this.parent.editSettings.mode === 'Batch') {\n            if (this.row && this.cell && !isNaN(parseInt(this.cell.getAttribute('aria-colindex'), 10))) {\n              this.parent.editModule.editCell(parseInt(this.row.getAttribute('aria-rowindex'), 10), this.parent.getColumns()[parseInt(this.cell.getAttribute('aria-colindex'), 10)].field);\n            }\n          } else {\n            this.parent.editModule.endEdit();\n            this.parent.editModule.startEdit(this.row);\n          }\n        }\n\n        break;\n\n      case 'Delete':\n        if (this.parent.editModule) {\n          if (this.parent.editSettings.mode !== 'Batch') {\n            this.parent.editModule.endEdit();\n          }\n\n          if (this.parent.getSelectedRecords().length === 1) {\n            this.parent.editModule.deleteRow(this.row);\n          } else {\n            this.parent.deleteRecord();\n          }\n        }\n\n        break;\n\n      case 'Save':\n        if (this.parent.editModule) {\n          this.parent.editModule.endEdit();\n        }\n\n        break;\n\n      case 'Cancel':\n        if (this.parent.editModule) {\n          this.parent.editModule.closeEdit();\n        }\n\n        break;\n\n      case 'Copy':\n        this.parent.copy();\n        break;\n\n      case 'PdfExport':\n        this.parent.pdfExport();\n        break;\n\n      case 'ExcelExport':\n        this.parent.excelExport();\n        break;\n\n      case 'CsvExport':\n        this.parent.csvExport();\n        break;\n\n      case 'SortAscending':\n        this.isOpen = false;\n        this.parent.sortColumn(this.targetColumn.field, 'Ascending');\n        break;\n\n      case 'SortDescending':\n        this.isOpen = false;\n        this.parent.sortColumn(this.targetColumn.field, 'Descending');\n        break;\n\n      case 'FirstPage':\n        this.parent.goToPage(1);\n        break;\n\n      case 'PrevPage':\n        this.parent.goToPage(this.parent.pageSettings.currentPage - 1);\n        break;\n\n      case 'LastPage':\n        this.parent.goToPage(this.getLastPage());\n        break;\n\n      case 'NextPage':\n        this.parent.goToPage(this.parent.pageSettings.currentPage + 1);\n        break;\n    }\n\n    args.column = this.targetColumn;\n    args.rowInfo = this.targetRowdata;\n    this.parent.trigger(events.contextMenuClick, args);\n  };\n\n  ContextMenu.prototype.contextMenuOnClose = function (args) {\n    var parent = 'parentObj';\n\n    if (args.items.length > 0 && args.items[0][parent] instanceof Menu) {\n      this.updateItemStatus();\n    }\n  };\n\n  ContextMenu.prototype.getLocaleText = function (item) {\n    return this.l10n.getConstant(this.localeText[item]);\n  };\n\n  ContextMenu.prototype.updateItemStatus = function () {\n    this.contextMenu.showItems(this.hiddenItems);\n    this.contextMenu.enableItems(this.disableItems);\n    this.hiddenItems = [];\n    this.disableItems = [];\n    this.isOpen = false;\n  };\n\n  ContextMenu.prototype.contextMenuBeforeOpen = function (args) {\n    var changedRecords = 'changedRecords';\n    var addedRecords = 'addedRecords';\n    var deletedRecords = 'deletedRecords';\n    var closestGrid = closest(args.event.target, '.e-grid');\n\n    if (args.event && closestGrid && closestGrid !== this.parent.element) {\n      args.cancel = true;\n    } else if (args.event && (closest(args.event.target, '.' + menuClass.groupHeader) || closest(args.event.target, '.' + menuClass.touchPop) || closest(args.event.target, '.e-summarycell') || closest(args.event.target, '.e-groupcaption') || closest(args.event.target, '.e-filterbarcell'))) {\n      args.cancel = true;\n    } else {\n      this.targetColumn = this.getColumn(args.event);\n      this.targetRowdata = this.parent.getRowInfo(args.event.target);\n\n      if (isNullOrUndefined(args.parentItem) && this.targetColumn) {\n        if (this.targetRowdata.cell) {\n          this.selectRow(args.event, this.targetRowdata.cell.classList.contains('e-selectionbackground') && this.parent.selectionSettings.type === 'Multiple' ? false : true);\n        }\n      }\n\n      var hideSepItems = [];\n      var showSepItems = [];\n\n      for (var _i = 0, _a = args.items; _i < _a.length; _i++) {\n        var item = _a[_i];\n        var key = this.getKeyFromId(item.id);\n        var dItem = this.defaultItems[key];\n\n        if (this.getDefaultItems().indexOf(key) !== -1) {\n          if (this.ensureDisabledStatus(key)) {\n            this.disableItems.push(item.text);\n          }\n\n          if (args.event && (this.ensureTarget(args.event.target, menuClass.edit) || this.ensureTarget(args.event.target, menuClass.batchEdit))) {\n            if (key !== 'Save' && key !== 'Cancel') {\n              this.hiddenItems.push(item.text);\n            }\n          } else if (this.parent.editModule && this.parent.editSettings.mode === 'Batch' && (closest(args.event.target, '.e-gridform') || this.parent.editModule.getBatchChanges()[changedRecords].length || this.parent.editModule.getBatchChanges()[addedRecords].length || this.parent.editModule.getBatchChanges()[deletedRecords].length) && (key === 'Save' || key === 'Cancel')) {\n            continue;\n          } else if (isNullOrUndefined(args.parentItem) && args.event && !this.ensureTarget(args.event.target, dItem.target)) {\n            this.hiddenItems.push(item.text);\n          }\n        } else if (item.target && args.event && !this.ensureTarget(args.event.target, item.target)) {\n          if (item.separator) {\n            hideSepItems.push(item.id);\n          } else {\n            this.hiddenItems.push(item.text);\n          }\n        } else if (this.ensureTarget(args.event.target, item.target) && item.separator) {\n          showSepItems.push(item.id);\n        }\n      }\n\n      if (showSepItems.length > 0) {\n        this.contextMenu.showItems(showSepItems, true);\n      }\n\n      this.contextMenu.enableItems(this.disableItems, false);\n      this.contextMenu.hideItems(this.hiddenItems);\n\n      if (hideSepItems.length > 0) {\n        this.contextMenu.hideItems(hideSepItems, true);\n      }\n\n      this.eventArgs = args.event;\n      args.column = this.targetColumn;\n      args.rowInfo = this.targetRowdata;\n      this.parent.trigger(events.contextMenuOpen, args);\n\n      if (args.cancel || this.hiddenItems.length === args.items.length && !args.parentItem) {\n        this.updateItemStatus();\n        args.cancel = true;\n      }\n    }\n\n    applyBiggerTheme(this.parent.element, this.contextMenu.element.parentElement);\n  };\n\n  ContextMenu.prototype.ensureTarget = function (targetElement, selector) {\n    var target = targetElement;\n\n    if (this.ensureFrozenHeader(targetElement) && (selector === menuClass.header || selector === menuClass.content)) {\n      target = closest(targetElement, selector === menuClass.header ? 'thead' : 'tbody');\n    } else if (selector === menuClass.content || selector === menuClass.header) {\n      target = parentsUntil(closest(targetElement, '.e-table'), selector.substr(1, selector.length));\n    } else {\n      target = closest(targetElement, selector);\n    }\n\n    return target && parentsUntil(target, 'e-grid') === this.parent.element;\n  };\n\n  ContextMenu.prototype.ensureFrozenHeader = function (targetElement) {\n    return (this.parent.getFrozenColumns() || this.parent.frozenRows) && closest(targetElement, menuClass.header) ? true : false;\n  };\n\n  ContextMenu.prototype.ensureDisabledStatus = function (item) {\n    var _this = this;\n\n    var status = false;\n\n    switch (item) {\n      case 'AutoFitAll':\n      case 'AutoFit':\n        status = !(this.parent.ensureModuleInjected(Resize) && !this.parent.isEdit) || this.targetColumn && !this.targetColumn.field && item === 'AutoFit';\n        break;\n\n      case 'Group':\n        if (!this.parent.allowGrouping || this.parent.ensureModuleInjected(Group) && this.targetColumn && this.parent.groupSettings.columns.indexOf(this.targetColumn.field) >= 0 || this.targetColumn && !this.targetColumn.field) {\n          status = true;\n        }\n\n        break;\n\n      case 'Ungroup':\n        if (!this.parent.allowGrouping || !this.parent.ensureModuleInjected(Group) || this.parent.ensureModuleInjected(Group) && this.targetColumn && this.parent.groupSettings.columns.indexOf(this.targetColumn.field) < 0) {\n          status = true;\n        }\n\n        break;\n\n      case 'Edit':\n      case 'Delete':\n      case 'Save':\n      case 'Cancel':\n        if (!this.parent.editModule || this.parent.getDataRows().length === 0) {\n          status = true;\n        }\n\n        break;\n\n      case 'Copy':\n        if (this.parent.getSelectedRowIndexes().length === 0 || this.parent.getCurrentViewRecords().length === 0) {\n          status = true;\n        }\n\n        break;\n\n      case 'export':\n        if (!this.parent.allowExcelExport || !this.parent.excelExport || !this.parent.ensureModuleInjected(PdfExport) && !this.parent.ensureModuleInjected(ExcelExport)) {\n          status = true;\n        }\n\n        break;\n\n      case 'PdfExport':\n        if (!this.parent.allowPdfExport || !this.parent.ensureModuleInjected(PdfExport)) {\n          status = true;\n        }\n\n        break;\n\n      case 'ExcelExport':\n      case 'CsvExport':\n        if (!this.parent.allowExcelExport || !this.parent.ensureModuleInjected(ExcelExport)) {\n          status = true;\n        }\n\n        break;\n\n      case 'SortAscending':\n      case 'SortDescending':\n        if (!this.parent.allowSorting || !this.parent.ensureModuleInjected(Sort) || this.targetColumn && !this.targetColumn.field) {\n          status = true;\n        } else if (this.parent.ensureModuleInjected(Sort) && this.parent.sortSettings.columns.length > 0 && this.targetColumn) {\n          this.parent.sortSettings.columns.forEach(function (element) {\n            if (element.field === _this.targetColumn.field && element.direction.toLowerCase() === item.toLowerCase().replace('sort', '').toLocaleLowerCase()) {\n              status = true;\n            }\n          });\n        }\n\n        break;\n\n      case 'FirstPage':\n      case 'PrevPage':\n        if (!this.parent.allowPaging || !this.parent.ensureModuleInjected(Page) || this.parent.getCurrentViewRecords().length === 0 || this.parent.ensureModuleInjected(Page) && this.parent.pageSettings.currentPage === 1) {\n          status = true;\n        }\n\n        break;\n\n      case 'LastPage':\n      case 'NextPage':\n        if (!this.parent.allowPaging || !this.parent.ensureModuleInjected(Page) || this.parent.getCurrentViewRecords().length === 0 || this.parent.ensureModuleInjected(Page) && this.parent.pageSettings.currentPage === this.getLastPage()) {\n          status = true;\n        }\n\n        break;\n    }\n\n    return status;\n  };\n  /**\n   * Gets the context menu element from the Grid.\n   * @return {Element}\n   */\n\n\n  ContextMenu.prototype.getContextMenu = function () {\n    return this.element;\n  };\n  /**\n   * Destroys the context menu component in the Grid.\n   * @method destroy\n   * @return {void}\n   * @hidden\n   */\n\n\n  ContextMenu.prototype.destroy = function () {\n    var gridElement = this.parent.element;\n\n    if (!gridElement || !gridElement.querySelector('.e-gridheader') && !gridElement.querySelector('.e-gridcontent')) {\n      return;\n    }\n\n    this.contextMenu.destroy();\n    remove(this.element);\n    this.removeEventListener();\n    this.parent.element.classList.remove('e-noselect');\n  };\n\n  ContextMenu.prototype.getModuleName = function () {\n    return 'contextMenu';\n  };\n\n  ContextMenu.prototype.generateID = function (item) {\n    return this.gridID + '_cmenu_' + item;\n  };\n\n  ContextMenu.prototype.getKeyFromId = function (id) {\n    return id.replace(this.gridID + '_cmenu_', '');\n  };\n\n  ContextMenu.prototype.buildDefaultItems = function (item) {\n    var menuItem;\n\n    switch (item) {\n      case 'AutoFitAll':\n      case 'AutoFit':\n        menuItem = {\n          target: menuClass.header\n        };\n        break;\n\n      case 'Group':\n        menuItem = {\n          target: menuClass.header,\n          iconCss: menuClass.group\n        };\n        break;\n\n      case 'Ungroup':\n        menuItem = {\n          target: menuClass.header,\n          iconCss: menuClass.ungroup\n        };\n        break;\n\n      case 'Edit':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.editIcon\n        };\n        break;\n\n      case 'Delete':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.delete\n        };\n        break;\n\n      case 'Save':\n        menuItem = {\n          target: menuClass.edit,\n          iconCss: menuClass.save\n        };\n        break;\n\n      case 'Cancel':\n        menuItem = {\n          target: menuClass.edit,\n          iconCss: menuClass.cancel\n        };\n        break;\n\n      case 'Copy':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.copy\n        };\n        break;\n\n      case 'export':\n        menuItem = {\n          target: menuClass.content\n        };\n        break;\n\n      case 'PdfExport':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.pdf\n        };\n        break;\n\n      case 'ExcelExport':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.excel\n        };\n        break;\n\n      case 'CsvExport':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.csv\n        };\n        break;\n\n      case 'SortAscending':\n        menuItem = {\n          target: menuClass.header,\n          iconCss: menuClass.ascending\n        };\n        break;\n\n      case 'SortDescending':\n        menuItem = {\n          target: menuClass.header,\n          iconCss: menuClass.descending\n        };\n        break;\n\n      case 'FirstPage':\n        menuItem = {\n          target: menuClass.pager,\n          iconCss: menuClass.fPage\n        };\n        break;\n\n      case 'PrevPage':\n        menuItem = {\n          target: menuClass.pager,\n          iconCss: menuClass.pPage\n        };\n        break;\n\n      case 'LastPage':\n        menuItem = {\n          target: menuClass.pager,\n          iconCss: menuClass.lPage\n        };\n        break;\n\n      case 'NextPage':\n        menuItem = {\n          target: menuClass.pager,\n          iconCss: menuClass.nPage\n        };\n        break;\n    }\n\n    this.defaultItems[item] = {\n      text: this.getLocaleText(item),\n      id: this.generateID(item),\n      target: menuItem.target,\n      iconCss: menuItem.iconCss ? 'e-icons ' + menuItem.iconCss : ''\n    };\n    return this.defaultItems[item];\n  };\n\n  ContextMenu.prototype.getDefaultItems = function () {\n    return ['AutoFitAll', 'AutoFit', 'Group', 'Ungroup', 'Edit', 'Delete', 'Save', 'Cancel', 'Copy', 'export', 'PdfExport', 'ExcelExport', 'CsvExport', 'SortAscending', 'SortDescending', 'FirstPage', 'PrevPage', 'LastPage', 'NextPage'];\n  };\n\n  ContextMenu.prototype.setLocaleKey = function () {\n    return {\n      'AutoFitAll': 'autoFitAll',\n      'AutoFit': 'autoFit',\n      'Copy': 'Copy',\n      'Group': 'Group',\n      'Ungroup': 'Ungroup',\n      'Edit': 'EditRecord',\n      'Delete': 'DeleteRecord',\n      'Save': 'Save',\n      'Cancel': 'CancelButton',\n      'PdfExport': 'Pdfexport',\n      'ExcelExport': 'Excelexport',\n      'CsvExport': 'Csvexport',\n      'export': 'Export',\n      'SortAscending': 'SortAscending',\n      'SortDescending': 'SortDescending',\n      'FirstPage': 'FirstPage',\n      'LastPage': 'LastPage',\n      'PrevPage': 'PreviousPage',\n      'NextPage': 'NextPage'\n    };\n  };\n\n  ContextMenu.prototype.getColumn = function (e) {\n    var cell = closest(e.target, 'th.e-headercell');\n\n    if (cell) {\n      var uid = cell.querySelector('.e-headercelldiv, .e-stackedheadercelldiv').getAttribute('e-mappinguid');\n      return this.parent.getColumnByUid(uid);\n    } else {\n      var ele = this.parent.getRowInfo(e.target).column;\n      return ele || null;\n    }\n  };\n\n  ContextMenu.prototype.selectRow = function (e, isSelectable) {\n    this.cell = e.target;\n    this.row = closest(e.target, 'tr.e-row') || this.row;\n\n    if (this.row && isSelectable && !parentsUntil(e.target, 'e-gridpager')) {\n      this.parent.selectRow(parseInt(this.row.getAttribute('aria-rowindex'), 10));\n    }\n  };\n\n  return ContextMenu;\n}();\n\nexport { ContextMenu };","map":{"version":3,"sources":["C:/CN2/workspace-trunk/kain-front-end/node_modules/@syncfusion/ej2-grids/src/grid/actions/context-menu.js"],"names":["closest","isNullOrUndefined","EventHandler","remove","ContextMenu","Menu","events","Resize","Page","parentsUntil","applyBiggerTheme","Group","Sort","PdfExport","ExcelExport","menuClass","header","content","edit","batchEdit","editIcon","pager","delete","save","cancel","copy","pdf","group","ungroup","csv","excel","fPage","nPage","lPage","pPage","ascending","descending","groupHeader","touchPop","parent","serviceLocator","defaultItems","disableItems","hiddenItems","localeText","setLocaleKey","gridID","element","id","addEventListener","prototype","isDestroyed","on","uiUpdate","enableAfterRenderMenu","initialLoad","render","removeEventListener","off","keyDownHandler","bind","e","code","which","contextMenu","close","classList","add","l10n","getService","createElement","appendChild","target","items","getMenuItems","enableRtl","enablePersistence","locale","select","contextMenuItemClick","beforeOpen","contextMenuBeforeOpen","onOpen","contextMenuOpen","onClose","contextMenuOnClose","cssClass","appendTo","module","getModuleName","enable","destroy","menuItems","exportItems","_i","_a","contextMenuItems","length","item","getDefaultItems","indexOf","toLocaleLowerCase","push","buildDefaultItems","exportGroup","getLastPage","totalpage","Math","floor","pageSettings","totalRecordsCount","pageSize","isOpen","args","getKeyFromId","autoFitColumns","targetColumn","field","groupColumn","ungroupColumn","editModule","editSettings","mode","row","cell","isNaN","parseInt","getAttribute","editCell","getColumns","endEdit","startEdit","getSelectedRecords","deleteRow","deleteRecord","closeEdit","pdfExport","excelExport","csvExport","sortColumn","goToPage","currentPage","column","rowInfo","targetRowdata","trigger","contextMenuClick","updateItemStatus","getLocaleText","getConstant","showItems","enableItems","changedRecords","addedRecords","deletedRecords","closestGrid","event","getColumn","getRowInfo","parentItem","selectRow","contains","selectionSettings","type","hideSepItems","showSepItems","key","dItem","ensureDisabledStatus","text","ensureTarget","getBatchChanges","separator","hideItems","eventArgs","parentElement","targetElement","selector","ensureFrozenHeader","substr","getFrozenColumns","frozenRows","_this","status","ensureModuleInjected","isEdit","allowGrouping","groupSettings","columns","getDataRows","getSelectedRowIndexes","getCurrentViewRecords","allowExcelExport","allowPdfExport","allowSorting","sortSettings","forEach","direction","toLowerCase","replace","allowPaging","getContextMenu","gridElement","querySelector","generateID","menuItem","iconCss","uid","getColumnByUid","ele","isSelectable"],"mappings":"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","sourcesContent":["import { closest, isNullOrUndefined, EventHandler } from '@syncfusion/ej2-base';\nimport { remove } from '@syncfusion/ej2-base';\nimport { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\nimport * as events from '../base/constant';\nimport { Resize } from '../actions/resize';\nimport { Page } from '../actions/page';\nimport { parentsUntil, applyBiggerTheme } from '../base/util';\nimport { Group } from '../actions/group';\nimport { Sort } from '../actions/sort';\nimport { PdfExport } from '../actions/pdf-export';\nimport { ExcelExport } from '../actions/excel-export';\nexport var menuClass = {\n    header: '.e-gridheader',\n    content: '.e-gridcontent',\n    edit: '.e-inline-edit',\n    batchEdit: '.e-editedbatchcell',\n    editIcon: 'e-edit',\n    pager: '.e-gridpager',\n    delete: 'e-delete',\n    save: 'e-save',\n    cancel: 'e-cancel',\n    copy: 'e-copy',\n    pdf: 'e-pdfexport',\n    group: 'e-icon-group',\n    ungroup: 'e-icon-ungroup',\n    csv: 'e-csvexport',\n    excel: 'e-excelexport',\n    fPage: 'e-icon-first',\n    nPage: 'e-icon-next',\n    lPage: 'e-icon-last',\n    pPage: 'e-icon-prev',\n    ascending: 'e-icon-ascending',\n    descending: 'e-icon-descending',\n    groupHeader: 'e-groupdroparea',\n    touchPop: 'e-gridpopup'\n};\n/**\n * The `ContextMenu` module is used to handle context menu actions.\n */\nvar ContextMenu = /** @class */ (function () {\n    function ContextMenu(parent, serviceLocator) {\n        this.defaultItems = {};\n        this.disableItems = [];\n        this.hiddenItems = [];\n        this.localeText = this.setLocaleKey();\n        this.parent = parent;\n        this.gridID = parent.element.id;\n        this.serviceLocator = serviceLocator;\n        this.addEventListener();\n    }\n    /**\n     * @hidden\n     */\n    ContextMenu.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.uiUpdate, this.enableAfterRenderMenu, this);\n        this.parent.on(events.initialLoad, this.render, this);\n    };\n    /**\n     * @hidden\n     */\n    ContextMenu.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initialLoad, this.render);\n        this.parent.off(events.uiUpdate, this.enableAfterRenderMenu);\n        EventHandler.remove(this.element, 'keydown', this.keyDownHandler.bind(this));\n    };\n    ContextMenu.prototype.keyDownHandler = function (e) {\n        if (e.code === 'Tab' || e.which === 9) {\n            this.contextMenu.close();\n        }\n    };\n    ContextMenu.prototype.render = function () {\n        this.parent.element.classList.add('e-noselect');\n        this.l10n = this.serviceLocator.getService('localization');\n        this.element = this.parent.createElement('ul', { id: this.gridID + '_cmenu' });\n        EventHandler.add(this.element, 'keydown', this.keyDownHandler.bind(this));\n        this.parent.element.appendChild(this.element);\n        var target = '#' + this.gridID;\n        this.contextMenu = new Menu({\n            items: this.getMenuItems(),\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            locale: this.parent.locale,\n            target: target,\n            select: this.contextMenuItemClick.bind(this),\n            beforeOpen: this.contextMenuBeforeOpen.bind(this),\n            onOpen: this.contextMenuOpen.bind(this),\n            onClose: this.contextMenuOnClose.bind(this),\n            cssClass: 'e-grid-menu'\n        });\n        this.contextMenu.appendTo(this.element);\n    };\n    ContextMenu.prototype.enableAfterRenderMenu = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            if (this.contextMenu) {\n                this.contextMenu.destroy();\n                remove(this.element);\n                this.parent.element.classList.remove('e-noselect');\n            }\n            this.render();\n        }\n    };\n    ContextMenu.prototype.getMenuItems = function () {\n        var menuItems = [];\n        var exportItems = [];\n        for (var _i = 0, _a = this.parent.contextMenuItems; _i < _a.length; _i++) {\n            var item = _a[_i];\n            if (typeof item === 'string' && this.getDefaultItems().indexOf(item) !== -1) {\n                if (item.toLocaleLowerCase().indexOf('export') !== -1) {\n                    exportItems.push(this.buildDefaultItems(item));\n                }\n                else {\n                    menuItems.push(this.buildDefaultItems(item));\n                }\n            }\n            else if (typeof item !== 'string') {\n                menuItems.push(item);\n            }\n        }\n        if (exportItems.length > 0) {\n            var exportGroup = this.buildDefaultItems('export');\n            exportGroup.items = exportItems;\n            menuItems.push(exportGroup);\n        }\n        return menuItems;\n    };\n    ContextMenu.prototype.getLastPage = function () {\n        var totalpage = Math.floor(this.parent.pageSettings.totalRecordsCount / this.parent.pageSettings.pageSize);\n        if (this.parent.pageSettings.totalRecordsCount % this.parent.pageSettings.pageSize) {\n            totalpage += 1;\n        }\n        return totalpage;\n    };\n    ContextMenu.prototype.contextMenuOpen = function () {\n        this.isOpen = true;\n    };\n    /**\n     * @hidden\n     */\n    ContextMenu.prototype.contextMenuItemClick = function (args) {\n        var item = this.getKeyFromId(args.item.id);\n        switch (item) {\n            case 'AutoFitAll':\n                this.parent.autoFitColumns([]);\n                break;\n            case 'AutoFit':\n                this.parent.autoFitColumns(this.targetColumn.field);\n                break;\n            case 'Group':\n                this.parent.groupColumn(this.targetColumn.field);\n                break;\n            case 'Ungroup':\n                this.parent.ungroupColumn(this.targetColumn.field);\n                break;\n            case 'Edit':\n                if (this.parent.editModule) {\n                    if (this.parent.editSettings.mode === 'Batch') {\n                        if (this.row && this.cell && !isNaN(parseInt(this.cell.getAttribute('aria-colindex'), 10))) {\n                            this.parent.editModule.editCell(parseInt(this.row.getAttribute('aria-rowindex'), 10), this.parent.getColumns()[parseInt(this.cell.getAttribute('aria-colindex'), 10)].field);\n                        }\n                    }\n                    else {\n                        this.parent.editModule.endEdit();\n                        this.parent.editModule.startEdit(this.row);\n                    }\n                }\n                break;\n            case 'Delete':\n                if (this.parent.editModule) {\n                    if (this.parent.editSettings.mode !== 'Batch') {\n                        this.parent.editModule.endEdit();\n                    }\n                    if (this.parent.getSelectedRecords().length === 1) {\n                        this.parent.editModule.deleteRow(this.row);\n                    }\n                    else {\n                        this.parent.deleteRecord();\n                    }\n                }\n                break;\n            case 'Save':\n                if (this.parent.editModule) {\n                    this.parent.editModule.endEdit();\n                }\n                break;\n            case 'Cancel':\n                if (this.parent.editModule) {\n                    this.parent.editModule.closeEdit();\n                }\n                break;\n            case 'Copy':\n                this.parent.copy();\n                break;\n            case 'PdfExport':\n                this.parent.pdfExport();\n                break;\n            case 'ExcelExport':\n                this.parent.excelExport();\n                break;\n            case 'CsvExport':\n                this.parent.csvExport();\n                break;\n            case 'SortAscending':\n                this.isOpen = false;\n                this.parent.sortColumn(this.targetColumn.field, 'Ascending');\n                break;\n            case 'SortDescending':\n                this.isOpen = false;\n                this.parent.sortColumn(this.targetColumn.field, 'Descending');\n                break;\n            case 'FirstPage':\n                this.parent.goToPage(1);\n                break;\n            case 'PrevPage':\n                this.parent.goToPage(this.parent.pageSettings.currentPage - 1);\n                break;\n            case 'LastPage':\n                this.parent.goToPage(this.getLastPage());\n                break;\n            case 'NextPage':\n                this.parent.goToPage(this.parent.pageSettings.currentPage + 1);\n                break;\n        }\n        args.column = this.targetColumn;\n        args.rowInfo = this.targetRowdata;\n        this.parent.trigger(events.contextMenuClick, args);\n    };\n    ContextMenu.prototype.contextMenuOnClose = function (args) {\n        var parent = 'parentObj';\n        if (args.items.length > 0 && args.items[0][parent] instanceof Menu) {\n            this.updateItemStatus();\n        }\n    };\n    ContextMenu.prototype.getLocaleText = function (item) {\n        return this.l10n.getConstant(this.localeText[item]);\n    };\n    ContextMenu.prototype.updateItemStatus = function () {\n        this.contextMenu.showItems(this.hiddenItems);\n        this.contextMenu.enableItems(this.disableItems);\n        this.hiddenItems = [];\n        this.disableItems = [];\n        this.isOpen = false;\n    };\n    ContextMenu.prototype.contextMenuBeforeOpen = function (args) {\n        var changedRecords = 'changedRecords';\n        var addedRecords = 'addedRecords';\n        var deletedRecords = 'deletedRecords';\n        var closestGrid = closest(args.event.target, '.e-grid');\n        if (args.event && closestGrid && closestGrid !== this.parent.element) {\n            args.cancel = true;\n        }\n        else if (args.event && (closest(args.event.target, '.' + menuClass.groupHeader)\n            || closest(args.event.target, '.' + menuClass.touchPop) ||\n            closest(args.event.target, '.e-summarycell') ||\n            closest(args.event.target, '.e-groupcaption') ||\n            closest(args.event.target, '.e-filterbarcell'))) {\n            args.cancel = true;\n        }\n        else {\n            this.targetColumn = this.getColumn(args.event);\n            this.targetRowdata = this.parent.getRowInfo(args.event.target);\n            if ((isNullOrUndefined(args.parentItem)) && this.targetColumn) {\n                if (this.targetRowdata.cell) {\n                    this.selectRow(args.event, (this.targetRowdata.cell.classList.contains('e-selectionbackground')\n                        && this.parent.selectionSettings.type === 'Multiple') ? false : true);\n                }\n            }\n            var hideSepItems = [];\n            var showSepItems = [];\n            for (var _i = 0, _a = args.items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                var key = this.getKeyFromId(item.id);\n                var dItem = this.defaultItems[key];\n                if (this.getDefaultItems().indexOf(key) !== -1) {\n                    if (this.ensureDisabledStatus(key)) {\n                        this.disableItems.push(item.text);\n                    }\n                    if (args.event && (this.ensureTarget(args.event.target, menuClass.edit) ||\n                        this.ensureTarget(args.event.target, menuClass.batchEdit))) {\n                        if (key !== 'Save' && key !== 'Cancel') {\n                            this.hiddenItems.push(item.text);\n                        }\n                    }\n                    else if (this.parent.editModule && this.parent.editSettings.mode === 'Batch' &&\n                        ((closest(args.event.target, '.e-gridform')) ||\n                            this.parent.editModule.getBatchChanges()[changedRecords].length ||\n                            this.parent.editModule.getBatchChanges()[addedRecords].length ||\n                            this.parent.editModule.getBatchChanges()[deletedRecords].length) && (key === 'Save' || key === 'Cancel')) {\n                        continue;\n                    }\n                    else if (isNullOrUndefined(args.parentItem) && args.event\n                        && !this.ensureTarget(args.event.target, dItem.target)) {\n                        this.hiddenItems.push(item.text);\n                    }\n                }\n                else if (item.target && args.event &&\n                    !this.ensureTarget(args.event.target, item.target)) {\n                    if (item.separator) {\n                        hideSepItems.push(item.id);\n                    }\n                    else {\n                        this.hiddenItems.push(item.text);\n                    }\n                }\n                else if (this.ensureTarget(args.event.target, item.target) && item.separator) {\n                    showSepItems.push(item.id);\n                }\n            }\n            if (showSepItems.length > 0) {\n                this.contextMenu.showItems(showSepItems, true);\n            }\n            this.contextMenu.enableItems(this.disableItems, false);\n            this.contextMenu.hideItems(this.hiddenItems);\n            if (hideSepItems.length > 0) {\n                this.contextMenu.hideItems(hideSepItems, true);\n            }\n            this.eventArgs = args.event;\n            args.column = this.targetColumn;\n            args.rowInfo = this.targetRowdata;\n            this.parent.trigger(events.contextMenuOpen, args);\n            if (args.cancel || (this.hiddenItems.length === args.items.length && !args.parentItem)) {\n                this.updateItemStatus();\n                args.cancel = true;\n            }\n        }\n        applyBiggerTheme(this.parent.element, this.contextMenu.element.parentElement);\n    };\n    ContextMenu.prototype.ensureTarget = function (targetElement, selector) {\n        var target = targetElement;\n        if (this.ensureFrozenHeader(targetElement) && (selector === menuClass.header || selector === menuClass.content)) {\n            target = closest(targetElement, selector === menuClass.header ? 'thead' : 'tbody');\n        }\n        else if (selector === menuClass.content || selector === menuClass.header) {\n            target = parentsUntil(closest(targetElement, '.e-table'), selector.substr(1, selector.length));\n        }\n        else {\n            target = closest(targetElement, selector);\n        }\n        return target && parentsUntil(target, 'e-grid') === this.parent.element;\n    };\n    ContextMenu.prototype.ensureFrozenHeader = function (targetElement) {\n        return (this.parent.getFrozenColumns() || this.parent.frozenRows)\n            && closest(targetElement, menuClass.header) ? true : false;\n    };\n    ContextMenu.prototype.ensureDisabledStatus = function (item) {\n        var _this = this;\n        var status = false;\n        switch (item) {\n            case 'AutoFitAll':\n            case 'AutoFit':\n                status = !(this.parent.ensureModuleInjected(Resize) && !this.parent.isEdit)\n                    || (this.targetColumn && !this.targetColumn.field && item === 'AutoFit');\n                break;\n            case 'Group':\n                if (!this.parent.allowGrouping || (this.parent.ensureModuleInjected(Group) && this.targetColumn\n                    && this.parent.groupSettings.columns.indexOf(this.targetColumn.field) >= 0) ||\n                    (this.targetColumn && !this.targetColumn.field)) {\n                    status = true;\n                }\n                break;\n            case 'Ungroup':\n                if (!this.parent.allowGrouping || !this.parent.ensureModuleInjected(Group)\n                    || (this.parent.ensureModuleInjected(Group) && this.targetColumn\n                        && this.parent.groupSettings.columns.indexOf(this.targetColumn.field) < 0)) {\n                    status = true;\n                }\n                break;\n            case 'Edit':\n            case 'Delete':\n            case 'Save':\n            case 'Cancel':\n                if (!this.parent.editModule || (this.parent.getDataRows().length === 0)) {\n                    status = true;\n                }\n                break;\n            case 'Copy':\n                if (this.parent.getSelectedRowIndexes().length === 0 ||\n                    this.parent.getCurrentViewRecords().length === 0) {\n                    status = true;\n                }\n                break;\n            case 'export':\n                if ((!this.parent.allowExcelExport || !this.parent.excelExport) ||\n                    !this.parent.ensureModuleInjected(PdfExport) && !this.parent.ensureModuleInjected(ExcelExport)) {\n                    status = true;\n                }\n                break;\n            case 'PdfExport':\n                if (!(this.parent.allowPdfExport) || !this.parent.ensureModuleInjected(PdfExport)) {\n                    status = true;\n                }\n                break;\n            case 'ExcelExport':\n            case 'CsvExport':\n                if (!(this.parent.allowExcelExport) || !this.parent.ensureModuleInjected(ExcelExport)) {\n                    status = true;\n                }\n                break;\n            case 'SortAscending':\n            case 'SortDescending':\n                if ((!this.parent.allowSorting) || !this.parent.ensureModuleInjected(Sort) ||\n                    (this.targetColumn && !this.targetColumn.field)) {\n                    status = true;\n                }\n                else if (this.parent.ensureModuleInjected(Sort) && this.parent.sortSettings.columns.length > 0 && this.targetColumn) {\n                    this.parent.sortSettings.columns.forEach(function (element) {\n                        if (element.field === _this.targetColumn.field\n                            && element.direction.toLowerCase() === item.toLowerCase().replace('sort', '').toLocaleLowerCase()) {\n                            status = true;\n                        }\n                    });\n                }\n                break;\n            case 'FirstPage':\n            case 'PrevPage':\n                if (!this.parent.allowPaging || !this.parent.ensureModuleInjected(Page) ||\n                    this.parent.getCurrentViewRecords().length === 0 ||\n                    (this.parent.ensureModuleInjected(Page) && this.parent.pageSettings.currentPage === 1)) {\n                    status = true;\n                }\n                break;\n            case 'LastPage':\n            case 'NextPage':\n                if (!this.parent.allowPaging || !this.parent.ensureModuleInjected(Page) ||\n                    this.parent.getCurrentViewRecords().length === 0 ||\n                    (this.parent.ensureModuleInjected(Page) && this.parent.pageSettings.currentPage === this.getLastPage())) {\n                    status = true;\n                }\n                break;\n        }\n        return status;\n    };\n    /**\n     * Gets the context menu element from the Grid.\n     * @return {Element}\n     */\n    ContextMenu.prototype.getContextMenu = function () {\n        return this.element;\n    };\n    /**\n     * Destroys the context menu component in the Grid.\n     * @method destroy\n     * @return {void}\n     * @hidden\n     */\n    ContextMenu.prototype.destroy = function () {\n        var gridElement = this.parent.element;\n        if (!gridElement || (!gridElement.querySelector('.e-gridheader') && !gridElement.querySelector('.e-gridcontent'))) {\n            return;\n        }\n        this.contextMenu.destroy();\n        remove(this.element);\n        this.removeEventListener();\n        this.parent.element.classList.remove('e-noselect');\n    };\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextMenu';\n    };\n    ContextMenu.prototype.generateID = function (item) {\n        return this.gridID + '_cmenu_' + item;\n    };\n    ContextMenu.prototype.getKeyFromId = function (id) {\n        return id.replace(this.gridID + '_cmenu_', '');\n    };\n    ContextMenu.prototype.buildDefaultItems = function (item) {\n        var menuItem;\n        switch (item) {\n            case 'AutoFitAll':\n            case 'AutoFit':\n                menuItem = { target: menuClass.header };\n                break;\n            case 'Group':\n                menuItem = { target: menuClass.header, iconCss: menuClass.group };\n                break;\n            case 'Ungroup':\n                menuItem = { target: menuClass.header, iconCss: menuClass.ungroup };\n                break;\n            case 'Edit':\n                menuItem = { target: menuClass.content, iconCss: menuClass.editIcon };\n                break;\n            case 'Delete':\n                menuItem = { target: menuClass.content, iconCss: menuClass.delete };\n                break;\n            case 'Save':\n                menuItem = { target: menuClass.edit, iconCss: menuClass.save };\n                break;\n            case 'Cancel':\n                menuItem = { target: menuClass.edit, iconCss: menuClass.cancel };\n                break;\n            case 'Copy':\n                menuItem = { target: menuClass.content, iconCss: menuClass.copy };\n                break;\n            case 'export':\n                menuItem = { target: menuClass.content };\n                break;\n            case 'PdfExport':\n                menuItem = { target: menuClass.content, iconCss: menuClass.pdf };\n                break;\n            case 'ExcelExport':\n                menuItem = { target: menuClass.content, iconCss: menuClass.excel };\n                break;\n            case 'CsvExport':\n                menuItem = { target: menuClass.content, iconCss: menuClass.csv };\n                break;\n            case 'SortAscending':\n                menuItem = { target: menuClass.header, iconCss: menuClass.ascending };\n                break;\n            case 'SortDescending':\n                menuItem = { target: menuClass.header, iconCss: menuClass.descending };\n                break;\n            case 'FirstPage':\n                menuItem = { target: menuClass.pager, iconCss: menuClass.fPage };\n                break;\n            case 'PrevPage':\n                menuItem = { target: menuClass.pager, iconCss: menuClass.pPage };\n                break;\n            case 'LastPage':\n                menuItem = { target: menuClass.pager, iconCss: menuClass.lPage };\n                break;\n            case 'NextPage':\n                menuItem = { target: menuClass.pager, iconCss: menuClass.nPage };\n                break;\n        }\n        this.defaultItems[item] = {\n            text: this.getLocaleText(item), id: this.generateID(item),\n            target: menuItem.target, iconCss: menuItem.iconCss ? 'e-icons ' + menuItem.iconCss : ''\n        };\n        return this.defaultItems[item];\n    };\n    ContextMenu.prototype.getDefaultItems = function () {\n        return ['AutoFitAll', 'AutoFit',\n            'Group', 'Ungroup', 'Edit', 'Delete', 'Save', 'Cancel', 'Copy', 'export',\n            'PdfExport', 'ExcelExport', 'CsvExport', 'SortAscending', 'SortDescending',\n            'FirstPage', 'PrevPage', 'LastPage', 'NextPage'];\n    };\n    ContextMenu.prototype.setLocaleKey = function () {\n        return {\n            'AutoFitAll': 'autoFitAll',\n            'AutoFit': 'autoFit',\n            'Copy': 'Copy',\n            'Group': 'Group',\n            'Ungroup': 'Ungroup',\n            'Edit': 'EditRecord',\n            'Delete': 'DeleteRecord',\n            'Save': 'Save',\n            'Cancel': 'CancelButton',\n            'PdfExport': 'Pdfexport',\n            'ExcelExport': 'Excelexport',\n            'CsvExport': 'Csvexport',\n            'export': 'Export',\n            'SortAscending': 'SortAscending',\n            'SortDescending': 'SortDescending',\n            'FirstPage': 'FirstPage',\n            'LastPage': 'LastPage',\n            'PrevPage': 'PreviousPage',\n            'NextPage': 'NextPage'\n        };\n    };\n    ContextMenu.prototype.getColumn = function (e) {\n        var cell = closest(e.target, 'th.e-headercell');\n        if (cell) {\n            var uid = cell.querySelector('.e-headercelldiv, .e-stackedheadercelldiv').getAttribute('e-mappinguid');\n            return this.parent.getColumnByUid(uid);\n        }\n        else {\n            var ele = (this.parent.getRowInfo(e.target).column);\n            return ele || null;\n        }\n    };\n    ContextMenu.prototype.selectRow = function (e, isSelectable) {\n        this.cell = e.target;\n        this.row = closest(e.target, 'tr.e-row') || this.row;\n        if (this.row && isSelectable && !parentsUntil(e.target, 'e-gridpager')) {\n            this.parent.selectRow(parseInt(this.row.getAttribute('aria-rowindex'), 10));\n        }\n    };\n    return ContextMenu;\n}());\nexport { ContextMenu };\n"]},"metadata":{},"sourceType":"module"}