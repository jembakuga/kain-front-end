{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}; /// <reference path='../calendar/calendar-model.d.ts'/>\n\n\nimport { Property, EventHandler, Internationalization, NotifyPropertyChanges, detach, getUniqueID } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, Event, Browser, L10n, ChildProperty } from '@syncfusion/ej2-base';\nimport { addClass, createElement, remove, closest, select, prepend, removeClass, attributes, Collection } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, isUndefined, formatUnit, setValue, rippleEffect, merge, extend } from '@syncfusion/ej2-base';\nimport { CalendarBase } from '../calendar/calendar';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { ListBase, cssClass as ListBaseClasses } from '@syncfusion/ej2-lists';\nvar DATERANGEWRAPPER = 'e-date-range-wrapper';\nvar INPUTCONTAINER = 'e-input-group';\nvar DATERANGEICON = 'e-input-group-icon e-range-icon e-icons';\nvar POPUP = 'e-popup';\nvar LEFTCALENDER = 'e-left-calendar';\nvar RIGHTCALENDER = 'e-right-calendar';\nvar LEFTCONTAINER = 'e-left-container';\nvar RIGHTCONTAINER = 'e-right-container';\nvar ROOT = 'e-daterangepicker';\nvar LIBRARY = 'e-lib';\nvar CONTROL = 'e-control';\nvar ERROR = 'e-error';\nvar ACTIVE = 'e-active';\nvar STARTENDCONTAINER = 'e-start-end';\nvar STARTDATE = 'e-start-date';\nvar ENDDATE = 'e-end-date';\nvar STARTBUTTON = 'e-start-btn';\nvar INPUTFOCUS = 'e-input-focus';\nvar ENDBUTTON = 'e-end-btn';\nvar RANGEHOVER = 'e-range-hover';\nvar OTHERMONTH = 'e-other-month';\nvar STARTLABEL = 'e-start-label';\nvar ENDLABEL = 'e-end-label';\nvar DISABLED = 'e-disabled';\nvar SELECTED = 'e-selected';\nvar CALENDAR = 'e-calendar';\nvar NEXTICON = 'e-next';\nvar PREVICON = 'e-prev';\nvar HEADER = 'e-header';\nvar TITLE = 'e-title';\nvar ICONCONTAINER = 'e-icon-container';\nvar RANGECONTAINER = 'e-date-range-container';\nvar RANGEHEADER = 'e-range-header';\nvar PRESETS = 'e-presets';\nvar FOOTER = 'e-footer';\nvar RANGEBORDER = 'e-range-border';\nvar TODAY = 'e-today';\nvar FOCUSDATE = 'e-focused-date';\nvar CONTENT = 'e-content';\nvar DAYSPAN = 'e-day-span';\nvar WEEKNUMBER = 'e-week-number';\nvar DATEDISABLED = 'e-date-disabled';\nvar ICONDISABLED = 'e-icon-disabled';\nvar CALENDARCONTAINER = 'e-calendar-container';\nvar SEPARATOR = 'e-separator';\nvar APPLY = 'e-apply';\nvar CANCEL = 'e-cancel';\nvar DEVICE = 'e-device';\nvar OVERLAY = 'e-overlay';\nvar CHANGEICON = 'e-change-icon e-icons';\nvar LISTCLASS = ListBaseClasses.li;\nvar RTL = 'e-rtl';\nvar HOVER = 'e-hover';\nvar OVERFLOW = 'e-range-overflow';\nvar OFFSETVALUE = 4;\nvar PRIMARY = 'e-primary';\nvar FLAT = 'e-flat';\nvar CSS = 'e-css';\nvar ZOOMIN = 'e-zoomin';\nvar NONEDITABLE = 'e-non-edit';\nvar DAYHEADERLONG = 'e-daterange-day-header-lg';\nvar HIDDENELEMENT = 'e-daterange-hidden';\nvar wrapperAttr = ['title', 'class', 'style'];\n\nvar Presets =\n/** @class */\nfunction (_super) {\n  __extends(Presets, _super);\n\n  function Presets() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property()], Presets.prototype, \"label\", void 0);\n\n  __decorate([Property()], Presets.prototype, \"start\", void 0);\n\n  __decorate([Property()], Presets.prototype, \"end\", void 0);\n\n  return Presets;\n}(ChildProperty);\n\nexport { Presets };\n/**\n * Represents the DateRangePicker component that allows user to select the date range from the calendar\n * or entering the range through the input element.\n * ```html\n * <input id=\"daterangepicker\"/>\n * ```\n * ```typescript\n * <script>\n *   var dateRangePickerObj = new DateRangePicker({ startDate: new Date(\"05/07/2017\"), endDate: new Date(\"10/07/2017\") });\n *   dateRangePickerObj.appendTo(\"#daterangepicker\");\n * </script>\n * ```\n */\n\nvar DateRangePicker =\n/** @class */\nfunction (_super) {\n  __extends(DateRangePicker, _super);\n  /**\n   * Constructor for creating the widget\n   */\n\n\n  function DateRangePicker(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.isCustomRange = false;\n    _this.isCustomWindow = false;\n    _this.presetsItem = [];\n    _this.liCollections = [];\n    _this.previousEleValue = '';\n    _this.isKeyPopup = false;\n    _this.dateDisabled = false;\n    _this.isRangeIconClicked = false;\n    _this.isMaxDaysClicked = false;\n    _this.disabledDays = [];\n    _this.preventBlur = false;\n    _this.preventFocus = false;\n    _this.invalidValueString = null;\n    _this.dateRangeOptions = options;\n    return _this;\n  }\n  /**\n   * To Initialize the control rendering.\n   * @return void\n   * @private\n   */\n\n\n  DateRangePicker.prototype.render = function () {\n    this.initialize();\n    this.setProperties({\n      startDate: this.startValue\n    }, true);\n    this.setProperties({\n      endDate: this.endValue\n    }, true);\n    this.setModelValue();\n    this.setDataAttribute(false);\n    this.renderComplete();\n  };\n  /**\n   * Initialize the event handler\n   * @returns void\n   * @private\n   */\n\n\n  DateRangePicker.prototype.preRender = function () {\n    this.keyInputConfigs = {\n      altDownArrow: 'alt+downarrow',\n      escape: 'escape',\n      enter: 'enter',\n      tab: 'tab',\n      altRightArrow: 'alt+rightarrow',\n      altLeftArrow: 'alt+leftarrow',\n      moveUp: 'uparrow',\n      moveDown: 'downarrow',\n      spacebar: 'space'\n    };\n    this.defaultConstant = {\n      placeholder: this.placeholder,\n      startLabel: 'Start Date',\n      endLabel: 'End Date',\n      customRange: 'Custom Range',\n      applyText: 'Apply',\n      cancelText: 'Cancel',\n      selectedDays: 'Selected Days',\n      days: 'days'\n    };\n    /**\n     * Mobile View\n     */\n\n    this.isMobile = window.matchMedia('(max-width:550px)').matches;\n    this.inputElement = this.element;\n    this.angularTag = null;\n\n    if (this.element.tagName === 'EJS-DATERANGEPICKER') {\n      this.angularTag = this.element.tagName;\n      this.inputElement = this.createElement('input');\n      this.element.appendChild(this.inputElement);\n    }\n\n    this.cloneElement = this.element.cloneNode(true);\n    removeClass([this.cloneElement], [ROOT, CONTROL, LIBRARY]);\n    this.updateHtmlAttributeToElement();\n\n    if (this.element.getAttribute('id')) {\n      if (this.angularTag !== null) {\n        this.inputElement.id = this.element.getAttribute('id') + '_input';\n      }\n    } else {\n      this.element.id = getUniqueID('ej2-datetimepicker');\n\n      if (this.angularTag !== null) {\n        attributes(this.inputElement, {\n          'id': this.element.id + '_input'\n        });\n      }\n    }\n\n    this.checkInvalidRange(this.value);\n\n    if (!this.invalidValueString && typeof this.value === 'string') {\n      var rangeArray = this.value.split(' ' + this.separator + ' ');\n      this.value = [new Date(rangeArray[0]), new Date(rangeArray[1])];\n    }\n\n    this.initProperty();\n    this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n    this.element.removeAttribute('tabindex');\n\n    _super.prototype.preRender.call(this);\n\n    this.navNextFunction = this.navNextMonth.bind(this);\n    this.navPrevFunction = this.navPrevMonth.bind(this);\n    this.deviceNavNextFunction = this.deviceNavNext.bind(this);\n    this.deviceNavPrevFunction = this.deviceNavPrevious.bind(this);\n    this.initStartDate = this.checkDateValue(this.startValue);\n    this.initEndDate = this.checkDateValue(this.endValue);\n    this.formElement = closest(this.element, 'form');\n  };\n\n  ;\n\n  DateRangePicker.prototype.updateValue = function () {\n    var dateOptions = {\n      format: this.formatString,\n      type: 'date',\n      skeleton: 'yMd'\n    };\n\n    if (this.value && this.value.length > 0) {\n      if (this.value[0] instanceof Date && !isNaN(+this.value[0])) {\n        this.setProperties({\n          startDate: this.value[0]\n        }, true);\n        this.startValue = this.value[0];\n      } else if (typeof this.value[0] === 'string') {\n        if (+this.value[0] === 0 || isNaN(+new Date(this.checkValue(this.value[0])))) {\n          this.startValue = null;\n          this.setValue();\n        } else {\n          this.setProperties({\n            startDate: new Date(this.checkValue(this.value[0]))\n          }, true);\n          this.startValue = new Date(this.checkValue(this.value[0]));\n        }\n      } else {\n        this.startValue = null;\n        this.setValue();\n      }\n\n      if (this.value[1] instanceof Date && !isNaN(+this.value[1])) {\n        this.setProperties({\n          endDate: this.value[1]\n        }, true);\n        this.endValue = this.value[1];\n      } else if (typeof this.value[1] === 'string') {\n        if (+this.value[0] === 0 || isNaN(+new Date(this.checkValue(this.value[0])))) {\n          this.setProperties({\n            endDate: null\n          }, true);\n          this.endValue = null;\n          this.setValue();\n        } else {\n          this.setProperties({\n            endDate: new Date(this.checkValue(this.value[1]))\n          }, true);\n          this.endValue = new Date(this.checkValue(this.value[1]));\n          this.setValue();\n        }\n      } else {\n        this.setProperties({\n          endDate: null\n        }, true);\n        this.endValue = null;\n        this.setValue();\n      }\n    } else if (this.value && this.value.start) {\n      if (this.value.start instanceof Date && !isNaN(+this.value.start)) {\n        this.setProperties({\n          startDate: this.value.start\n        }, true);\n        this.startValue = this.value.start;\n      } else if (typeof this.value.start === 'string') {\n        this.setProperties({\n          startDate: new Date(this.checkValue(this.value.start))\n        }, true);\n        this.startValue = new Date(this.checkValue(this.value.start));\n      } else {\n        this.startValue = null;\n        this.setValue();\n      }\n\n      if (this.value.end instanceof Date && !isNaN(+this.value.end)) {\n        this.setProperties({\n          endDate: this.value.end\n        }, true);\n        this.endValue = this.value.end;\n      } else if (typeof this.value.end === 'string') {\n        this.setProperties({\n          endDate: new Date(this.checkValue(this.value.end))\n        }, true);\n        this.endValue = new Date(this.checkValue(this.value.end));\n        this.setValue();\n      } else {\n        this.setProperties({\n          endDate: null\n        }, true);\n        this.endValue = null;\n        this.setValue();\n      }\n    } else if (isNullOrUndefined(this.value)) {\n      this.endValue = this.checkDateValue(new Date(this.checkValue(this.endDate)));\n      this.startValue = this.checkDateValue(new Date(this.checkValue(this.startDate)));\n      this.setValue();\n    }\n  };\n\n  DateRangePicker.prototype.initProperty = function () {\n    this.globalize = new Internationalization(this.locale);\n    this.checkFormat();\n    this.checkView();\n\n    if (isNullOrUndefined(this.firstDayOfWeek) || this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n      this.setProperties({\n        firstDayOfWeek: this.globalize.getFirstDayOfWeek()\n      }, true);\n    }\n\n    this.updateValue();\n  };\n\n  DateRangePicker.prototype.checkFormat = function () {\n    if (this.format) {\n      if (typeof this.format === 'string') {\n        this.formatString = this.format;\n      } else if (this.format.skeleton !== '' && !isNullOrUndefined(this.format.skeleton)) {\n        var skeletonString = this.format.skeleton;\n        this.formatString = this.globalize.getDatePattern({\n          skeleton: skeletonString,\n          type: 'date'\n        });\n      } else {\n        this.formatString = null;\n      }\n    } else {\n      this.formatString = null;\n    }\n  };\n\n  DateRangePicker.prototype.initialize = function () {\n    if (this.angularTag !== null) {\n      this.validationAttribute(this.element, this.inputElement);\n    }\n\n    this.checkHtmlAttributes(false);\n    merge(this.defaultKeyConfigs, {\n      shiftTab: 'shift+tab'\n    });\n    var start = this.checkDateValue(new Date(this.checkValue(this.startValue)));\n    this.setProperties({\n      startDate: start\n    }, true); // persist the value propeerty.\n\n    this.setProperties({\n      endValue: this.checkDateValue(new Date(this.checkValue(this.endValue)))\n    }, true);\n    this.setValue();\n    this.setProperties({\n      min: this.checkDateValue(new Date(this.checkValue(this.min)))\n    }, true);\n    this.setProperties({\n      max: this.checkDateValue(new Date(this.checkValue(this.max)))\n    }, true);\n    this.l10n = new L10n('daterangepicker', this.defaultConstant, this.locale);\n    this.l10n.setLocale(this.locale);\n    this.setProperties({\n      placeholder: this.placeholder || this.l10n.getConstant('placeholder')\n    }, true);\n    this.processPresets();\n    this.createInput();\n    this.updateHtmlAttributeToWrapper();\n    this.setRangeAllowEdit();\n    this.bindEvents();\n  };\n\n  DateRangePicker.prototype.setDataAttribute = function (isDynamic) {\n    var attributes = {};\n\n    if (!isDynamic) {\n      for (var i = 0; i < this.element.attributes.length; i++) {\n        attributes[this.element.attributes[i].name] = this.element.getAttribute(this.element.attributes[i].name);\n      }\n    } else {\n      attributes = this.htmlAttributes;\n    }\n\n    for (var _i = 0, _a = Object.keys(attributes); _i < _a.length; _i++) {\n      var pro = _a[_i];\n\n      if (pro.indexOf('data') === 0) {\n        this.firstHiddenChild.setAttribute(pro, attributes[pro]);\n        this.secondHiddenChild.setAttribute(pro, attributes[pro]);\n      }\n    }\n  };\n\n  DateRangePicker.prototype.setRangeAllowEdit = function () {\n    if (this.allowEdit) {\n      if (!this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n    } else {\n      attributes(this.inputElement, {\n        'readonly': ''\n      });\n    }\n\n    this.updateClearIconState();\n  };\n\n  DateRangePicker.prototype.updateClearIconState = function () {\n    if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n      if (this.inputElement.value === '') {\n        removeClass([this.inputWrapper.container], [NONEDITABLE]);\n      } else {\n        addClass([this.inputWrapper.container], [NONEDITABLE]);\n      }\n    } else if (this.inputWrapper) {\n      removeClass([this.inputWrapper.container], [NONEDITABLE]);\n    }\n  };\n\n  DateRangePicker.prototype.validationAttribute = function (element, input) {\n    var name = element.getAttribute('name') ? element.getAttribute('name') : element.getAttribute('id');\n    input.setAttribute('name', name);\n    element.removeAttribute('name');\n    var attributes = ['required', 'aria-required', 'form'];\n\n    for (var i = 0; i < attributes.length; i++) {\n      if (isNullOrUndefined(element.getAttribute(attributes[i]))) {\n        continue;\n      }\n\n      var attr = element.getAttribute(attributes[i]);\n      input.setAttribute(attributes[i], attr);\n      element.removeAttribute(attributes[i]);\n    }\n  };\n\n  DateRangePicker.prototype.updateHtmlAttributeToWrapper = function () {\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n        var key = _a[_i];\n\n        if (wrapperAttr.indexOf(key) > -1) {\n          if (key === 'class') {\n            addClass([this.inputWrapper.container], this.htmlAttributes[key].split(' '));\n          } else if (key === 'style') {\n            var dateRangeStyle = this.inputWrapper.container.getAttribute(key);\n            dateRangeStyle = !isNullOrUndefined(dateRangeStyle) ? dateRangeStyle + this.htmlAttributes[key] : this.htmlAttributes[key];\n            this.inputWrapper.container.setAttribute(key, dateRangeStyle);\n          } else {\n            this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n          }\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.updateHtmlAttributeToElement = function () {\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n        var key = _a[_i];\n\n        if (wrapperAttr.indexOf(key) < 0) {\n          this.inputElement.setAttribute(key, this.htmlAttributes[key]);\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.processPresets = function () {\n    this.presetsItem = [];\n    var i = 0;\n\n    if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n      for (var _i = 0, _a = this.presets; _i < _a.length; _i++) {\n        var range = _a[_i];\n        var id = range.label.replace(/\\s+/g, '') + '_' + ++i;\n\n        if (typeof range.end === 'string') {\n          this.presetsItem.push({\n            id: id,\n            text: range.label,\n            end: new Date(this.checkValue(range.end)),\n            start: new Date(this.checkValue(range.start))\n          });\n        } else {\n          this.presetsItem.push({\n            id: id,\n            text: range.label,\n            start: range.start,\n            end: range.end\n          });\n        }\n      }\n\n      var startDate = isNullOrUndefined(this.startValue) ? null : new Date(+this.startValue);\n      var endDate = isNullOrUndefined(this.endValue) ? null : new Date(+this.endValue);\n      this.presetsItem.push({\n        id: 'custom_range',\n        text: this.l10n.getConstant('customRange'),\n        start: startDate,\n        end: endDate\n      });\n\n      if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n        this.isCustomRange = true;\n        this.activeIndex = this.presetsItem.length - 1;\n      }\n    }\n  };\n\n  DateRangePicker.prototype.bindEvents = function () {\n    if (this.enabled) {\n      EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler, this);\n      EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n      EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n      EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n\n      if (this.showClearButton && this.inputWrapper.clearButton) {\n        EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n      }\n\n      if (!this.isMobile) {\n        this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n        this.inputKeyboardModule = new KeyboardEvents(this.inputElement, {\n          eventName: 'keydown',\n          keyAction: this.inputHandler.bind(this),\n          keyConfigs: this.keyInputConfigs\n        });\n      }\n\n      if (this.formElement) {\n        EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n      }\n\n      this.inputElement.setAttribute('tabindex', this.tabIndex);\n    } else {\n      EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler);\n      EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n      EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n      EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n\n      if (this.showClearButton && this.inputWrapper.clearButton) {\n        EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler);\n      }\n\n      if (!this.isMobile) {\n        if (!isNullOrUndefined(this.inputKeyboardModule)) {\n          this.inputKeyboardModule.destroy();\n        }\n      }\n\n      if (this.formElement) {\n        EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n      }\n\n      this.inputElement.tabIndex = -1;\n    }\n  };\n\n  DateRangePicker.prototype.updateHiddenInput = function () {\n    if (this.firstHiddenChild && this.secondHiddenChild) {\n      var format = {\n        type: 'datetime',\n        skeleton: 'yMd'\n      };\n\n      if (typeof this.startDate === 'string') {\n        this.startDate = this.globalize.parseDate(this.startDate, format);\n      }\n\n      if (typeof this.endDate === 'string') {\n        this.endDate = this.globalize.parseDate(this.endDate, format);\n      }\n\n      this.firstHiddenChild.value = this.startDate && this.globalize.formatDate(this.startDate, format) || this.inputElement.value;\n      this.secondHiddenChild.value = this.endDate && this.globalize.formatDate(this.endDate, format) || this.inputElement.value;\n      this.dispatchEvent(this.firstHiddenChild, 'focusout');\n      this.dispatchEvent(this.firstHiddenChild, 'change');\n    }\n  };\n\n  DateRangePicker.prototype.inputChangeHandler = function (e) {\n    e.stopPropagation();\n    this.updateHiddenInput();\n  };\n\n  DateRangePicker.prototype.bindClearEvent = function () {\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n    }\n  };\n\n  DateRangePicker.prototype.resetHandler = function (e) {\n    this.valueType = this.value;\n    e.preventDefault();\n    this.clear();\n    var clearedArgs = {\n      event: e\n    };\n    this.setProperties({\n      endDate: this.checkDateValue(this.endValue)\n    }, true);\n    this.setProperties({\n      startDate: this.checkDateValue(this.startValue)\n    }, true);\n    this.trigger('cleared', clearedArgs);\n    this.changeTrigger(e);\n    this.clearRange();\n    this.hide(e);\n  };\n\n  DateRangePicker.prototype.restoreValue = function () {\n    this.previousEleValue = this.inputElement.value;\n    this.previousStartValue = this.startValue;\n    this.previousEndValue = this.endValue;\n    this.valueType = null;\n    this.initStartDate = this.checkDateValue(this.startValue);\n    this.initEndDate = this.checkDateValue(this.endValue);\n    this.setValue();\n    this.setModelValue();\n  };\n\n  DateRangePicker.prototype.formResetHandler = function (e) {\n    if (this.formElement && e.target === this.formElement && !this.inputElement.disabled) {\n      var val = this.inputElement.getAttribute('value');\n\n      if (!isNullOrUndefined(this.startCopy)) {\n        if (!isNullOrUndefined(this.value) && !isNullOrUndefined(this.value.start)) {\n          this.setProperties({\n            value: {\n              start: this.startCopy,\n              end: this.endCopy\n            }\n          }, true);\n          this.startValue = this.value.start;\n          this.endValue = this.value.end;\n        } else {\n          this.setProperties({\n            value: [this.startCopy, this.endCopy]\n          }, true);\n          this.startValue = this.value[0];\n          this.endValue = this.value[1];\n        }\n\n        this.setProperties({\n          startDate: this.startValue,\n          endDate: this.endValue\n        }, true);\n      } else {\n        this.setProperties({\n          value: null,\n          startDate: null,\n          endDate: null\n        }, true);\n        this.startValue = this.endValue = null;\n      }\n\n      if (this.element.tagName === 'EJS-DATERANGEPICKER') {\n        this.setProperties({\n          value: null,\n          startDate: null,\n          endDate: null\n        }, true);\n        val = '';\n        this.startValue = this.endValue = null;\n        this.inputElement.setAttribute('value', '');\n      }\n\n      this.restoreValue();\n\n      if (this.inputElement) {\n        Input.setValue(val, this.inputElement, this.floatLabelType, this.showClearButton);\n        this.errorClass();\n      }\n    }\n  };\n\n  DateRangePicker.prototype.clear = function () {\n    if (this.startValue !== null) {\n      this.startValue = null;\n    }\n\n    if (this.endValue !== null) {\n      this.endValue = null;\n    }\n\n    if (this.value && this.value.start) {\n      this.setProperties({\n        value: {\n          start: null,\n          end: null\n        }\n      }, true);\n    }\n\n    if (this.value !== null && this.value.length > 0) {\n      this.setProperties({\n        value: null\n      }, true);\n    }\n\n    Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n\n    if (!isNullOrUndefined(this.applyButton)) {\n      this.applyButton.disabled = this.applyButton.element.disabled = true;\n    }\n\n    this.removeSelection();\n  };\n\n  DateRangePicker.prototype.rangeIconHandler = function (e) {\n    if (this.isMobile) {\n      this.inputElement.setAttribute('readonly', '');\n    }\n\n    e.preventDefault();\n    this.targetElement = null;\n\n    if (this.isPopupOpen()) {\n      this.applyFunction(e);\n    } else {\n      this.isRangeIconClicked = true;\n      this.inputWrapper.container.children[0].focus();\n      this.show(null, e);\n\n      if (!this.isMobile) {\n        if (!isNullOrUndefined(this.leftCalendar)) {\n          this.isRangeIconClicked = false;\n          this.calendarFocus();\n          this.isRangeIconClicked = true;\n        }\n      }\n\n      addClass([this.inputWrapper.container], [INPUTFOCUS]);\n    }\n  };\n\n  DateRangePicker.prototype.checkHtmlAttributes = function (isDynamic) {\n    this.globalize = new Internationalization(this.locale);\n    var attributes = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) : ['startDate', 'endDate', 'minDays', 'maxDays', 'min', 'max', 'disabled', 'readonly', 'style', 'name', 'placeholder', 'type', 'value'];\n    var format = {\n      format: this.formatString,\n      type: 'date',\n      skeleton: 'yMd'\n    };\n\n    for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n      var prop = attributes_1[_i];\n\n      if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n        switch (prop) {\n          case 'disabled':\n            // tslint:disable-next-line\n            if (isNullOrUndefined(this.dateRangeOptions) || this.dateRangeOptions['enabled'] === undefined || isDynamic) {\n              var disabled = this.inputElement.getAttribute(prop) === 'disabled' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n              this.setProperties({\n                enabled: !disabled\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'readonly':\n            // tslint:disable-next-line\n            if (isNullOrUndefined(this.dateRangeOptions) || this.dateRangeOptions['readonly'] === undefined || isDynamic) {\n              var readonly = this.inputElement.getAttribute(prop) === 'readonly' || this.inputElement.getAttribute(prop) === 'true' || this.inputElement.getAttribute(prop) === '' ? true : false;\n              this.setProperties({\n                readonly: readonly\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'placeholder':\n            // tslint:disable-next-line\n            if (isNullOrUndefined(this.dateRangeOptions) || this.dateRangeOptions['placeholder'] === undefined || isDynamic) {\n              this.setProperties({\n                placeholder: this.inputElement.getAttribute(prop)\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'value':\n            // tslint:disable-next-line\n            if (isNullOrUndefined(this.dateRangeOptions) || this.dateRangeOptions['value'] === undefined || isDynamic) {\n              var value = this.inputElement.getAttribute(prop);\n              this.setProperties(setValue(prop, value, {}), !isDynamic);\n            }\n\n            break;\n\n          case 'style':\n            this.inputElement.setAttribute('style', '' + this.inputElement.getAttribute(prop));\n            break;\n\n          case 'min':\n            if (isNullOrUndefined(this.min) || +this.min === +new Date(1900, 0, 1) || isDynamic) {\n              var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n              this.setProperties(setValue(prop, dateValue, {}), !isDynamic);\n            }\n\n            break;\n\n          case 'name':\n            this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute(prop));\n            break;\n\n          case 'max':\n            if (isNullOrUndefined(this.max) || +this.max === +new Date(2099, 11, 31) || isDynamic) {\n              var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n              this.setProperties(setValue(prop, dateValue, {}), !isDynamic);\n            }\n\n            break;\n\n          case 'startDate':\n            if (isNullOrUndefined(this.startDate)) {\n              var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n              this.startValue = dateValue;\n              this.setValue();\n            }\n\n            break;\n\n          case 'endDate':\n            if (isNullOrUndefined(this.endDate)) {\n              var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n              this.endValue = dateValue;\n              this.setValue();\n            }\n\n            break;\n\n          case 'minDays':\n            if (isNullOrUndefined(this.minDays)) {\n              this.setProperties(setValue(prop, parseInt(this.inputElement.getAttribute(prop), 10), {}), true);\n            }\n\n            break;\n\n          case 'maxDays':\n            if (isNullOrUndefined(this.maxDays)) {\n              this.setProperties(setValue(prop, parseInt(this.inputElement.getAttribute(prop), 10), {}), true);\n            }\n\n            break;\n\n          case 'type':\n            if (this.inputElement.getAttribute(prop) !== 'text') {\n              this.inputElement.setAttribute('type', 'text');\n            }\n\n            break;\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.createPopup = function () {\n    for (var i = 0; i < this.presetsItem.length; i++) {\n      if (i !== this.presetsItem.length - 1 && this.presetsItem[i].id === 'custom_range') {\n        this.presetsItem.splice(i, 1);\n      }\n    }\n\n    this.activeIndex = this.presetsItem.length - 1;\n    this.isCustomRange = true;\n\n    for (var i = 0; i <= this.presetsItem.length - 2; i++) {\n      var startDate = this.presetsItem[i].start;\n      var endDate = this.presetsItem[i].end;\n\n      if (this.startValue && this.endValue) {\n        if (+startDate.setMilliseconds(0) === +this.startValue.setMilliseconds(0) && +endDate.setMilliseconds(0) === +this.endValue.setMilliseconds(0)) {\n          this.activeIndex = i;\n          this.isCustomRange = false;\n        }\n      }\n    }\n\n    this.popupWrapper = createElement('div', {\n      id: this.element.id + '_popup',\n      className: ROOT + ' ' + POPUP\n    });\n    this.adjustLongHeaderWidth();\n    var isPreset = !this.isCustomRange || this.isMobile;\n\n    if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && isPreset) {\n      this.isCustomWindow = false;\n      this.createPresets();\n      this.listRippleEffect();\n      this.renderPopup();\n    } else {\n      this.isCustomWindow = true;\n      this.renderControl();\n    }\n  };\n\n  DateRangePicker.prototype.renderControl = function () {\n    this.createControl();\n    this.bindCalendarEvents();\n    this.updateRange(this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]);\n\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n      this.disabledDateRender();\n    }\n\n    this.updateHeader();\n  };\n\n  DateRangePicker.prototype.clearCalendarEvents = function () {\n    EventHandler.clearEvents(this.leftCalPrevIcon);\n    EventHandler.clearEvents(this.leftCalNextIcon);\n    EventHandler.clearEvents(this.rightCalPrevIcon);\n    EventHandler.clearEvents(this.rightCalNextIcon);\n  };\n\n  DateRangePicker.prototype.updateNavIcons = function () {\n    if (this.isPopupOpen() && this.depth === this.currentView()) {\n      var leftDate = new Date(this.checkValue(this.leftCalCurrentDate));\n      var iconState = false;\n\n      if (this.currentView() === 'Year') {\n        iconState = this.compareYears(leftDate, this.rightCalCurrentDate) < 1;\n      } else if (this.currentView() === 'Decade') {\n        iconState = this.compareDecades(leftDate, this.rightCalCurrentDate) < 1;\n      } else if (this.currentView() === 'Month') {\n        iconState = this.compareMonths(leftDate, this.rightCalCurrentDate) < 1;\n      }\n\n      this.previousIcon = this.rightCalPrevIcon;\n      this.nextIcon = this.leftCalNextIcon;\n      this.nextIconHandler(iconState);\n      this.previousIconHandler(iconState);\n    }\n  };\n\n  DateRangePicker.prototype.calendarIconEvent = function () {\n    this.clearCalendarEvents();\n\n    if (this.leftCalPrevIcon && !this.leftCalPrevIcon.classList.contains(DISABLED)) {\n      EventHandler.add(this.leftCalPrevIcon, 'mousedown', this.navPrevFunction);\n    }\n\n    if (this.leftCalNextIcon && !this.leftCalNextIcon.classList.contains(DISABLED)) {\n      EventHandler.add(this.leftCalNextIcon, 'mousedown', this.navNextFunction);\n    }\n\n    if (this.rightCalPrevIcon && !this.rightCalPrevIcon.classList.contains(DISABLED)) {\n      EventHandler.add(this.rightCalPrevIcon, 'mousedown', this.navPrevFunction);\n    }\n\n    if (this.rightCalNextIcon && !this.rightCalNextIcon.classList.contains(DISABLED)) {\n      EventHandler.add(this.rightCalNextIcon, 'mousedown', this.navNextFunction);\n    }\n  };\n\n  DateRangePicker.prototype.bindCalendarEvents = function () {\n    if (!this.isMobile) {\n      this.updateNavIcons();\n      this.calendarIconEvent();\n      this.calendarIconRipple();\n      this.headerTitleElement = this.popupObj.element.querySelector('.' + RIGHTCALENDER + ' .' + HEADER + ' .' + TITLE);\n      this.headerTitleElement = this.popupObj.element.querySelector('.' + LEFTCALENDER + ' .' + HEADER + ' .' + TITLE);\n      this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n      this.leftKeyboardModule = new KeyboardEvents(this.leftCalendar, {\n        eventName: 'keydown',\n        keyAction: this.keyInputHandler.bind(this),\n        keyConfigs: this.defaultKeyConfigs\n      });\n      this.rightKeyboardModule = new KeyboardEvents(this.rightCalendar, {\n        eventName: 'keydown',\n        keyAction: this.keyInputHandler.bind(this),\n        keyConfigs: this.defaultKeyConfigs\n      });\n    } else {\n      this.deviceCalendarEvent();\n      EventHandler.add(this.startButton.element, 'click', this.deviceHeaderClick, this);\n      EventHandler.add(this.endButton.element, 'click', this.deviceHeaderClick, this);\n    }\n\n    if (this.start === this.depth) {\n      this.bindCalendarCellEvents();\n    }\n\n    this.removeFocusedDate();\n  };\n\n  DateRangePicker.prototype.calendarIconRipple = function () {\n    rippleEffect(this.leftCalPrevIcon, {\n      selector: '.e-prev',\n      duration: 400,\n      isCenterRipple: true\n    });\n    rippleEffect(this.leftCalNextIcon, {\n      selector: '.e-next',\n      duration: 400,\n      isCenterRipple: true\n    });\n    rippleEffect(this.rightCalPrevIcon, {\n      selector: '.e-prev',\n      duration: 400,\n      isCenterRipple: true\n    });\n    rippleEffect(this.rightCalNextIcon, {\n      selector: '.e-next',\n      duration: 400,\n      isCenterRipple: true\n    });\n  };\n\n  DateRangePicker.prototype.deviceCalendarEvent = function () {\n    EventHandler.clearEvents(this.nextIcon);\n    EventHandler.clearEvents(this.previousIcon);\n    rippleEffect(this.nextIcon, {\n      selector: '.e-prev',\n      duration: 400,\n      isCenterRipple: true\n    });\n    rippleEffect(this.previousIcon, {\n      selector: '.e-next',\n      duration: 400,\n      isCenterRipple: true\n    });\n\n    if (this.nextIcon && !this.nextIcon.classList.contains(DISABLED)) {\n      EventHandler.add(this.nextIcon, 'mousedown', this.deviceNavNextFunction);\n    }\n\n    if (this.previousIcon && !this.previousIcon.classList.contains(DISABLED)) {\n      EventHandler.add(this.previousIcon, 'mousedown', this.deviceNavPrevFunction);\n    }\n  };\n\n  DateRangePicker.prototype.deviceNavNext = function (e) {\n    var calendar = closest(e.target, '.' + CALENDAR);\n    this.updateDeviceCalendar(calendar);\n    this.navigateNext(e);\n    this.deviceNavigation();\n  };\n\n  DateRangePicker.prototype.deviceNavPrevious = function (e) {\n    var calendar = closest(e.target, '.' + CALENDAR);\n    this.updateDeviceCalendar(calendar);\n    this.navigatePrevious(e);\n    this.deviceNavigation();\n  };\n\n  DateRangePicker.prototype.updateDeviceCalendar = function (calendar) {\n    if (calendar) {\n      this.previousIcon = calendar.querySelector('.' + PREVICON);\n      this.nextIcon = calendar.querySelector('.' + NEXTICON);\n      this.calendarElement = calendar;\n      this.deviceCalendar = calendar;\n      this.contentElement = calendar.querySelector('.' + CONTENT);\n      this.tableBodyElement = select('.' + CONTENT + ' tbody', calendar);\n      this.table = calendar.querySelector('.' + CONTENT).getElementsByTagName('table')[0];\n      this.headerTitleElement = calendar.querySelector('.' + HEADER + ' .' + TITLE);\n      this.headerElement = calendar.querySelector('.' + HEADER);\n    }\n  };\n\n  DateRangePicker.prototype.deviceHeaderClick = function (event) {\n    var element = event.currentTarget;\n\n    if (element.classList.contains(STARTBUTTON) && !isNullOrUndefined(this.startValue)) {\n      this.endButton.element.classList.remove(ACTIVE);\n      this.startButton.element.classList.add(ACTIVE);\n      var calendar = this.popupObj.element.querySelector('.' + CALENDAR);\n      this.updateDeviceCalendar(calendar);\n\n      if (isNullOrUndefined(this.calendarElement.querySelector('.' + STARTDATE + ':not(.e-other-month)'))) {\n        this.currentDate = new Date(+this.startValue);\n        remove(this.tableBodyElement);\n        this.createContentBody();\n        this.deviceNavigation();\n      }\n\n      this.removeClassDisabled();\n    } else if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n      this.startButton.element.classList.remove(ACTIVE);\n      this.endButton.element.classList.add(ACTIVE);\n      var calendar = this.popupObj.element.querySelector('.' + CALENDAR);\n      this.updateDeviceCalendar(calendar);\n\n      if (isNullOrUndefined(this.calendarElement.querySelector('.' + ENDDATE + ':not(.e-other-month)'))) {\n        this.currentDate = new Date(+this.endValue);\n        remove(this.tableBodyElement);\n        this.createContentBody();\n        this.deviceNavigation();\n      }\n\n      this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n      this.selectableDates();\n    }\n  };\n\n  DateRangePicker.prototype.inputFocusHandler = function () {\n    this.preventBlur = false;\n    var focusArguments = {\n      model: this\n    };\n\n    if (!this.preventFocus) {\n      this.preventFocus = true;\n      this.trigger('focus', focusArguments);\n    }\n\n    this.updateClearIconState();\n    this.updateHiddenInput();\n  };\n\n  DateRangePicker.prototype.inputBlurHandler = function (e) {\n    if (!this.preventBlur) {\n      var value = this.inputElement.value;\n\n      if (!isNullOrUndefined(this.presetsItem)) {\n        if (this.presetsItem.length > 0 && this.previousEleValue !== this.inputElement.value) {\n          this.activeIndex = this.presetsItem.length - 1;\n          this.isCustomRange = true;\n        }\n      }\n\n      if (!isNullOrUndefined(value) && value.trim() !== '') {\n        var range = value.split(' ' + this.separator + ' ');\n\n        if (range.length > 1) {\n          this.invalidValueString = null;\n          var dateOptions = {\n            format: this.formatString,\n            type: 'date',\n            skeleton: 'yMd'\n          };\n          var startDate = this.globalize.parseDate(range[0].trim(), dateOptions);\n          var endDate = this.globalize.parseDate(range[1].trim(), dateOptions);\n\n          if (!isNullOrUndefined(startDate) && !isNaN(+startDate) && !isNullOrUndefined(endDate) && !isNaN(+endDate)) {\n            this.startValue = startDate;\n            this.endValue = endDate;\n            this.setValue();\n            this.refreshControl();\n\n            if (value !== this.previousEleValue) {\n              this.changeTrigger(e);\n            }\n\n            if (!this.preventBlur && document.activeElement !== this.inputElement) {\n              this.preventFocus = false;\n              var blurArguments = {\n                model: this\n              };\n              this.trigger('blur', blurArguments);\n            }\n\n            this.updateHiddenInput();\n            return;\n          } else {\n            if (!this.strictMode) {\n              this.startValue = null;\n              this.endValue = null;\n              this.setValue();\n            }\n          }\n        } else {\n          if (!this.strictMode) {\n            this.startValue = null;\n            this.endValue = null;\n            this.setValue();\n          }\n        }\n      }\n\n      if (!this.strictMode) {\n        if (isNullOrUndefined(this.popupObj)) {\n          this.currentDate = null;\n        }\n\n        this.previousStartValue = this.previousEndValue = null;\n        this.startValue = null;\n        this.endValue = null;\n        this.setValue();\n      } else {\n        if (!isNullOrUndefined(value) && value.trim() === '') {\n          this.startValue = null;\n          this.endValue = null;\n        }\n\n        Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n        this.updateInput();\n      }\n\n      this.errorClass();\n      this.changeTrigger(e);\n\n      if (!this.preventBlur && document.activeElement !== this.inputElement) {\n        this.preventFocus = false;\n        var blurArguments = {\n          model: this\n        };\n        this.trigger('blur', blurArguments);\n      }\n    }\n\n    this.updateHiddenInput();\n  };\n\n  DateRangePicker.prototype.clearRange = function () {\n    this.previousStartValue = this.previousEndValue = null;\n    this.currentDate = null;\n  };\n\n  DateRangePicker.prototype.errorClass = function () {\n    var inputStr = this.inputElement.value.trim();\n\n    if ((isNullOrUndefined(this.endValue) && isNullOrUndefined(this.startValue) && inputStr !== '' || !isNullOrUndefined(this.startValue) && +this.startValue < +this.min || !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue || !isNullOrUndefined(this.endValue) && +this.endValue > +this.max || this.startValue && this.isDateDisabled(this.startValue) || this.endValue && this.isDateDisabled(this.endValue)) && inputStr !== '') {\n      addClass([this.inputWrapper.container], ERROR);\n      attributes(this.inputElement, {\n        'aria-invalid': 'true'\n      });\n    } else {\n      if (this.inputWrapper) {\n        removeClass([this.inputWrapper.container], ERROR);\n        attributes(this.inputElement, {\n          'aria-invalid': 'false'\n        });\n      }\n    }\n  };\n\n  DateRangePicker.prototype.keyCalendarUpdate = function (isLeftCalendar, ele) {\n    this.removeFocusedDate();\n\n    if (isLeftCalendar) {\n      this.leftCalCurrentDate = new Date(+this.currentDate);\n      ele = this.leftCalendar;\n    } else {\n      this.rightCalCurrentDate = new Date(+this.currentDate);\n      ele = this.rightCalendar;\n    }\n\n    this.updateCalendarElement(ele);\n    this.table.focus();\n    return ele;\n  };\n\n  DateRangePicker.prototype.navInCalendar = function (e, isLeftCalendar, leftLimit, rightLimit, ele) {\n    var view = this.getViewNumber(this.currentView());\n    var date;\n    var min = this.min;\n    var max;\n\n    if (!isNullOrUndefined(this.maxDays) && this.isMaxDaysClicked && !isNullOrUndefined(this.startValue)) {\n      max = new Date(new Date(+this.startValue).setDate(this.startValue.getDate() + (this.maxDays - 1)));\n    } else {\n      max = this.max;\n    }\n\n    switch (e.action) {\n      case 'moveRight':\n        date = new Date(+this.currentDate);\n        this.addDay(date, 1, e, max, min);\n\n        if (isLeftCalendar && +date === +rightLimit) {\n          ele = this.keyCalendarUpdate(false, ele);\n        }\n\n        this.KeyboardNavigate(1, view, e, max, min);\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'moveLeft':\n        date = new Date(+this.currentDate);\n        this.addDay(date, -1, e, max, min);\n\n        if (!isLeftCalendar) {\n          if (+date === +leftLimit) {\n            ele = this.keyCalendarUpdate(true, ele);\n          }\n        }\n\n        this.KeyboardNavigate(-1, view, e, max, min);\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'moveUp':\n        if (view === 0) {\n          date = new Date(+this.currentDate);\n          this.addDay(date, -7, e, max, min);\n\n          if (+date <= +leftLimit && !isLeftCalendar) {\n            ele = this.keyCalendarUpdate(true, ele);\n          }\n\n          this.KeyboardNavigate(-7, view, e, max, min);\n        } else {\n          this.KeyboardNavigate(-4, view, e, this.max, this.min); // move the current year to the previous four days.\n        }\n\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'moveDown':\n        if (view === 0) {\n          date = new Date(+this.currentDate);\n          this.addDay(date, 7, e, max, min);\n\n          if (isLeftCalendar && +date >= +rightLimit) {\n            ele = this.keyCalendarUpdate(false, ele);\n          }\n\n          this.KeyboardNavigate(7, view, e, max, min);\n        } else {\n          this.KeyboardNavigate(4, view, e, this.max, this.min);\n        }\n\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'home':\n        this.currentDate = this.firstDay(this.currentDate);\n        remove(this.tableBodyElement);\n        view === 0 ? this.renderMonths(e) : view === 1 ? this.renderYears(e) : this.renderDecades(e);\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'end':\n        this.currentDate = this.lastDay(this.currentDate, view);\n        remove(this.tableBodyElement);\n        view === 0 ? this.renderMonths(e) : view === 1 ? this.renderYears(e) : this.renderDecades(e);\n        this.keyNavigation(ele, e);\n        break;\n    }\n  }; // tslint:disable-next-line:max-func-body-length\n\n\n  DateRangePicker.prototype.keyInputHandler = function (e, value) {\n    var date;\n    var view = this.getViewNumber(this.currentView());\n    var rightDateLimit = new Date(this.rightCalCurrentDate.getFullYear(), this.rightCalCurrentDate.getMonth(), 1);\n    var leftDateLimit = new Date(this.leftCalCurrentDate.getFullYear(), this.leftCalCurrentDate.getMonth() + 1, 0);\n    var ele = closest(e.target, '.' + RIGHTCALENDER);\n    ele = isNullOrUndefined(ele) ? this.leftCalendar : ele;\n    var isLeftCalendar = ele.classList.contains(LEFTCALENDER);\n    this.updateCalendarElement(ele);\n    var selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n    var focusedDate = ele.querySelector('tr td.' + FOCUSDATE);\n    var startDate = ele.querySelector('tr td.' + STARTDATE);\n    var endDate = ele.querySelector('tr td.' + ENDDATE);\n    var depthValue = this.getViewNumber(this.depth);\n    var levelRestrict = view === depthValue && this.getViewNumber(this.start) >= depthValue;\n    var leftCalendar = closest(e.target, '.' + LEFTCALENDER);\n    var rightCalendar = closest(e.target, '.' + RIGHTCALENDER);\n    var presetElement = closest(e.target, '.' + PRESETS);\n\n    if (!isNullOrUndefined(focusedDate)) {\n      this.currentDate = this.currentDate;\n    } else if (!isNullOrUndefined(endDate) && !this.dateDisabled) {\n      this.currentDate = new Date(+this.endValue);\n    } else if (!isNullOrUndefined(startDate) && !this.dateDisabled) {\n      this.currentDate = new Date(+this.startValue);\n    } else if (!this.dateDisabled) {\n      this.currentDate.setDate(1);\n    }\n\n    this.effect = '';\n\n    switch (e.action) {\n      case 'altUpArrow':\n        if (this.isPopupOpen()) {\n          this.hide(e);\n          this.preventFocus = true;\n          this.inputElement.focus();\n          addClass([this.inputWrapper.container], [INPUTFOCUS]);\n        }\n\n        break;\n\n      case 'select':\n        if (levelRestrict) {\n          var element = !isNullOrUndefined(focusedDate) ? focusedDate : startDate;\n\n          if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED)) {\n            this.selectRange(null, element);\n          }\n        } else {\n          if (!isNullOrUndefined(selectedDate) && !levelRestrict || !isNullOrUndefined(focusedDate)) {\n            if (!isNullOrUndefined(this.value)) {\n              if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n                value = this.startDate;\n              } else {\n                value = this.endDate;\n              }\n            }\n\n            this.controlDown = e;\n            this.contentClick(null, --view, focusedDate || selectedDate, value);\n          }\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'controlHome':\n        var yearDate = new Date(this.currentDate.getFullYear(), 0, 1);\n\n        if (!isLeftCalendar && +yearDate < +leftDateLimit) {\n          ele = this.keyCalendarUpdate(true, ele);\n        }\n\n        _super.prototype.navigateTo.call(this, 'Month', new Date(this.currentDate.getFullYear(), 0, 1));\n\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'altRightArrow':\n        if (!isNullOrUndefined(leftCalendar)) {\n          this.rightCalendar.children[1].firstElementChild.focus();\n        } else if (!isNullOrUndefined(rightCalendar)) {\n          if (!isNullOrUndefined(this.presetElement)) {\n            this.presetElement.focus();\n            this.removeFocusedDate();\n          } else {\n            this.cancelButton.element.focus();\n          }\n        } else {\n          if (!isNullOrUndefined(presetElement)) {\n            this.cancelButton.element.focus();\n          }\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'altLeftArrow':\n        if (!isNullOrUndefined(leftCalendar)) {\n          if (this.applyButton.element.disabled !== true) {\n            this.applyButton.element.focus();\n          } else {\n            this.cancelButton.element.focus();\n          }\n        } else {\n          if (!isNullOrUndefined(rightCalendar)) {\n            this.leftCalendar.children[1].firstElementChild.focus();\n          }\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'controlUp':\n        if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n          this.calendarNavigation(e, this.calendarElement);\n        } else {\n          this.calendarNavigation(e, this.calendarElement);\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'controlDown':\n        if ((!isNullOrUndefined(selectedDate) || !isNullOrUndefined(focusedDate)) && !levelRestrict) {\n          if (!isNullOrUndefined(this.value)) {\n            if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n              value = this.startDate;\n            } else {\n              value = this.endDate;\n            }\n          }\n\n          this.controlDown = e;\n          this.contentClick(null, --view, selectedDate || focusedDate, value);\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'controlEnd':\n        yearDate = new Date(this.currentDate.getFullYear(), 11, 31);\n\n        if (isLeftCalendar && +yearDate > +rightDateLimit) {\n          ele = this.keyCalendarUpdate(false, ele);\n        }\n\n        _super.prototype.navigateTo.call(this, 'Month', new Date(this.currentDate.getFullYear(), 11, 31));\n\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'pageUp':\n        date = new Date(+this.currentDate);\n        this.addMonths(date, -1);\n\n        if (!isLeftCalendar && +date <= +leftDateLimit) {\n          ele = this.keyCalendarUpdate(true, ele);\n        }\n\n        this.addMonths(this.currentDate, -1);\n\n        _super.prototype.navigateTo.call(this, 'Month', this.currentDate);\n\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'pageDown':\n        date = new Date(+this.currentDate);\n        this.addMonths(date, 1);\n\n        if (isLeftCalendar && +date >= +rightDateLimit) {\n          ele = this.keyCalendarUpdate(false, ele);\n        }\n\n        this.addMonths(this.currentDate, 1);\n\n        _super.prototype.navigateTo.call(this, 'Month', this.currentDate);\n\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'shiftPageUp':\n        date = new Date(+this.currentDate);\n        this.addYears(date, -1);\n\n        if (!isLeftCalendar && +date <= +leftDateLimit) {\n          ele = this.keyCalendarUpdate(true, ele);\n        }\n\n        this.addYears(this.currentDate, -1);\n\n        _super.prototype.navigateTo.call(this, 'Month', this.currentDate);\n\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'shiftPageDown':\n        date = new Date(+this.currentDate);\n        this.addYears(date, 1);\n\n        if (isLeftCalendar && +date >= +rightDateLimit) {\n          ele = this.keyCalendarUpdate(false, ele);\n        }\n\n        this.addYears(this.currentDate, 1);\n\n        _super.prototype.navigateTo.call(this, 'Month', this.currentDate);\n\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'shiftTab':\n        if (!isNullOrUndefined(this.presetElement)) {\n          this.presetElement.setAttribute('tabindex', '0');\n          this.presetElement.focus();\n          this.removeFocusedDate();\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'spacebar':\n        if (this.applyButton && !this.applyButton.disabled) {\n          this.applyFunction(e);\n        }\n\n        break;\n\n      default:\n        this.navInCalendar(e, isLeftCalendar, leftDateLimit, rightDateLimit, ele);\n        this.checkMinMaxDays();\n    }\n\n    this.presetHeight();\n  };\n\n  DateRangePicker.prototype.keyNavigation = function (calendar, e) {\n    this.bindCalendarCellEvents(calendar);\n\n    if (calendar.classList.contains(LEFTCALENDER)) {\n      this.leftCalCurrentDate = new Date(+this.currentDate);\n    } else {\n      this.rightCalCurrentDate = new Date(+this.currentDate);\n    }\n\n    this.updateNavIcons();\n    this.calendarIconEvent();\n    this.updateRange([calendar]);\n    this.dateDisabled = this.isDateDisabled(this.currentDate);\n    e.preventDefault();\n  };\n\n  DateRangePicker.prototype.inputHandler = function (e) {\n    switch (e.action) {\n      case 'altDownArrow':\n        if (!this.isPopupOpen()) {\n          if (this.inputElement.value === '') {\n            this.clear();\n            this.changeTrigger(e);\n            this.clearRange();\n          }\n\n          this.show(null, e);\n          this.isRangeIconClicked = false;\n\n          if (!this.isMobile) {\n            if (!isNullOrUndefined(this.leftCalendar)) {\n              this.calendarFocus();\n            }\n          }\n\n          this.isKeyPopup = true;\n        }\n\n        break;\n\n      case 'escape':\n        if (this.isPopupOpen()) {\n          this.hide(e);\n        }\n\n        break;\n\n      case 'enter':\n        if (document.activeElement === this.inputElement) {\n          this.inputBlurHandler(e);\n          this.hide(e);\n        }\n\n        break;\n\n      case 'tab':\n        if (document.activeElement === this.inputElement && this.isPopupOpen()) {\n          this.hide(e);\n          e.preventDefault();\n        }\n\n        break;\n    }\n  };\n\n  DateRangePicker.prototype.bindCalendarCellEvents = function (calendar) {\n    var tdCells;\n\n    if (calendar) {\n      tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n    } else {\n      tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td');\n    }\n\n    for (var _i = 0, tdCells_1 = tdCells; _i < tdCells_1.length; _i++) {\n      var cell = tdCells_1[_i];\n      EventHandler.clearEvents(cell);\n      var disabledCell = void 0;\n      disabledCell = cell.classList.contains(DISABLED) || cell.classList.contains(DATEDISABLED);\n\n      if (!disabledCell && !cell.classList.contains(WEEKNUMBER)) {\n        if (!this.isMobile) {\n          EventHandler.add(cell, 'mouseover', this.hoverSelection, this);\n        }\n\n        EventHandler.add(cell, 'mousedown', this.selectRange, this);\n      }\n    }\n  };\n\n  DateRangePicker.prototype.removeFocusedDate = function () {\n    var isDate = !isNullOrUndefined(this.startValue) || !isNullOrUndefined(this.endValue);\n    var focusedDate;\n    focusedDate = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' .' + FOCUSDATE);\n\n    for (var _i = 0, focusedDate_1 = focusedDate; _i < focusedDate_1.length; _i++) {\n      var ele = focusedDate_1[_i];\n      var today = new Date();\n      var eleDate = this.getIdValue(null, ele);\n\n      if (this.depth === 'Month' && this.currentView() === 'Month' && (!ele.classList.contains(TODAY) || ele.classList.contains(TODAY) && isDate) || this.depth === 'Year' && this.currentView() === 'Year' && (!this.isSameMonth(today, eleDate) && !this.isSameYear(today, eleDate) || isDate) || this.depth === 'Decade' && this.currentView() === 'Decade' && (!this.isSameYear(today, eleDate) || isDate)) {\n        ele.classList.remove(FOCUSDATE);\n\n        if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(ENDDATE)) {\n          ele.removeAttribute('aria-label');\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.hoverSelection = function (event, element) {\n    var currentElement = element || event.currentTarget;\n    var currentDate = this.getIdValue(null, currentElement);\n\n    if (!isNullOrUndefined(this.startValue) && +this.startValue >= +this.min && +this.startValue <= +this.max) {\n      if (!this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue) && isNullOrUndefined(this.endValue) && isNullOrUndefined(this.startValue) || !isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n        var tdCells = void 0;\n        tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td');\n\n        for (var _i = 0, tdCells_2 = tdCells; _i < tdCells_2.length; _i++) {\n          var ele = tdCells_2[_i];\n          var isDisabledCell = !ele.classList.contains(DISABLED) || ele.classList.contains(DATEDISABLED);\n\n          if (!ele.classList.contains(WEEKNUMBER) && isDisabledCell) {\n            var eleDate = this.getIdValue(null, ele);\n            var startDateValue = new Date(+this.startValue);\n            var eleDateValue = new Date(+eleDate);\n\n            if (eleDateValue.setHours(0, 0, 0, 0) >= startDateValue.setHours(0, 0, 0, 0) && +eleDate <= +currentDate) {\n              addClass([ele], RANGEHOVER);\n            } else {\n              removeClass([ele], [RANGEHOVER]);\n            }\n          }\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.isSameStartEnd = function (startVal, endVal) {\n    var isSame = false;\n\n    if (this.depth === 'Month') {\n      if (startVal.setHours(0, 0, 0, 0) === endVal.setHours(0, 0, 0, 0)) {\n        isSame = true;\n      }\n    } else if (this.depth === 'Year') {\n      if (startVal.getFullYear() === endVal.getFullYear() && startVal.getMonth() === endVal.getMonth()) {\n        isSame = true;\n      }\n    } else if (this.depth === 'Decade') {\n      if (startVal.getFullYear() === endVal.getFullYear()) {\n        isSame = true;\n      }\n    }\n\n    return isSame;\n  };\n\n  DateRangePicker.prototype.updateRange = function (elementCollection) {\n    if (!isNullOrUndefined(this.startValue)) {\n      for (var _i = 0, elementCollection_1 = elementCollection; _i < elementCollection_1.length; _i++) {\n        var calendar = elementCollection_1[_i];\n        var tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n\n        for (var _a = 0, tdCells_3 = tdCells; _a < tdCells_3.length; _a++) {\n          var ele = tdCells_3[_a];\n\n          if (!ele.classList.contains(WEEKNUMBER) && !ele.classList.contains(DISABLED)) {\n            var eleDate = this.getIdValue(null, ele);\n            var eleDateValue = this.getIdValue(null, ele);\n\n            if (!isNullOrUndefined(this.endValue)) {\n              if (this.currentView() === this.depth && +eleDateValue.setHours(0, 0, 0, 0) >= +new Date(+this.startValue).setHours(0, 0, 0, 0) && +eleDateValue.setHours(0, 0, 0, 0) <= +new Date(+this.endValue).setHours(0, 0, 0, 0) && !this.isSameStartEnd(new Date(+this.startValue), new Date(+this.endValue)) && +new Date(+this.startValue).setHours(0, 0, 0, 0) >= +this.min && +new Date(+this.endValue).setHours(0, 0, 0, 0) <= +this.max && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                addClass([ele], RANGEHOVER);\n              }\n            } else {\n              removeClass([ele], [RANGEHOVER]);\n            }\n\n            if (!ele.classList.contains(OTHERMONTH)) {\n              var startDateValue = new Date(+this.startValue);\n              var eleDateValue_1 = new Date(+eleDate);\n\n              if (this.currentView() === this.depth && +eleDateValue_1.setHours(0, 0, 0, 0) === +startDateValue.setHours(0, 0, 0, 0) && +eleDateValue_1.setHours(0, 0, 0, 0) >= +startDateValue.setHours(0, 0, 0, 0) && +this.startValue >= +this.min && !this.inputWrapper.container.classList.contains('e-error') && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                addClass([ele], [STARTDATE, SELECTED]);\n                this.addSelectedAttributes(ele, this.startValue, true);\n              }\n\n              var endDateValue = new Date(+this.endValue);\n\n              if (this.currentView() === 'Year') {\n                eleDateValue_1 = new Date(eleDateValue_1.getFullYear(), eleDateValue_1.getMonth() + 1, 0);\n              } else if (this.currentView() === 'Decade') {\n                eleDateValue_1 = new Date(eleDateValue_1.getFullYear(), 11, 31);\n              }\n\n              if (this.currentView() === this.depth && !isNullOrUndefined(this.endValue) && +eleDateValue_1.setHours(0, 0, 0, 0) === +endDateValue.setHours(0, 0, 0, 0) && +eleDateValue_1.setHours(0, 0, 0, 0) <= +endDateValue.setHours(0, 0, 0, 0) && +this.startValue >= +this.min && !this.inputWrapper.container.classList.contains('e-error') && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                addClass([ele], [ENDDATE, SELECTED]);\n                this.addSelectedAttributes(ele, this.startValue, false);\n              }\n\n              if (+eleDate === +this.startValue && !isNullOrUndefined(this.endValue) && +eleDate === +this.endValue) {\n                this.addSelectedAttributes(ele, this.endValue, false, true);\n              }\n            }\n          }\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.checkMinMaxDays = function () {\n    if (!isNullOrUndefined(this.minDays) && this.minDays > 0 || !isNullOrUndefined(this.maxDays) && this.maxDays > 0) {\n      if (!this.isMobile) {\n        this.updateMinMaxDays(this.popupObj.element.querySelector('.' + LEFTCALENDER));\n        this.updateMinMaxDays(this.popupObj.element.querySelector('.' + RIGHTCALENDER));\n      } else {\n        this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n      }\n    }\n  };\n\n  DateRangePicker.prototype.rangeArgs = function (e) {\n    var inputValue;\n    var range;\n    var startDate = !isNullOrUndefined(this.startValue) ? this.globalize.formatDate(this.startValue, {\n      format: this.formatString,\n      type: 'date',\n      skeleton: 'yMd'\n    }) : null;\n    var endDate = !isNullOrUndefined(this.endValue) ? this.globalize.formatDate(this.endValue, {\n      format: this.formatString,\n      type: 'date',\n      skeleton: 'yMd'\n    }) : null;\n\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n      inputValue = startDate + ' ' + this.separator + ' ' + endDate;\n      range = Math.round(Math.abs((this.startValue.getTime() - this.endValue.getTime()) / (1000 * 60 * 60 * 24))) + 1;\n    } else {\n      inputValue = '';\n      range = 0;\n    }\n\n    var args = {\n      value: this.value,\n      startDate: this.startValue,\n      endDate: this.endValue,\n      daySpan: range,\n      event: e || null,\n      element: this.element,\n      isInteracted: !isNullOrUndefined(e),\n      text: inputValue\n    };\n    return args;\n  };\n\n  DateRangePicker.prototype.otherMonthSelect = function (ele, isStartDate, sameDate) {\n    var value = +this.getIdValue(null, ele);\n    var dateIdString = '*[id^=\"/id\"]:not(.e-other-month)'.replace('/id', '' + value);\n    var tdCell = this.popupObj && this.popupObj.element.querySelector(dateIdString);\n\n    if (!isNullOrUndefined(tdCell)) {\n      if (isStartDate) {\n        addClass([tdCell], [STARTDATE, SELECTED]);\n        this.addSelectedAttributes(tdCell, this.startValue, true);\n      } else {\n        addClass([tdCell], [ENDDATE, SELECTED]);\n        this.addSelectedAttributes(tdCell, this.endValue, true);\n      }\n\n      if (sameDate) {\n        this.addSelectedAttributes(ele, this.endValue, false, true);\n      }\n    }\n  }; // tslint:disable-next-line:max-func-body-length\n\n\n  DateRangePicker.prototype.selectRange = function (event, element) {\n    var leftCalendar;\n    var rightCalendar;\n\n    if (event) {\n      event.preventDefault();\n    }\n\n    var date;\n    date = isNullOrUndefined(event) ? this.getIdValue(null, element) : this.getIdValue(event, null);\n    var y = date.getFullYear();\n    var m = date.getMonth();\n    var firstDay = new Date(y, m, 1);\n    var lastDay = new Date(y, m + 1, 0);\n    var firstMonth = new Date(y, 0, 1);\n    var lastMonth = new Date(y, 11, 31);\n\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n      if (!this.isMobile || this.isMobile && !this.endButton.element.classList.contains(ACTIVE)) {\n        this.removeSelection();\n      }\n    } else if (this.isMobile && this.startButton.element.classList.contains(ACTIVE)) {\n      this.removeSelection();\n    }\n\n    var ele = element || event.currentTarget;\n\n    if (isNullOrUndefined(this.startValue)) {\n      if (!isNullOrUndefined(this.previousStartValue)) {\n        date.setHours(this.previousStartValue.getHours());\n        date.setMinutes(this.previousStartValue.getMinutes());\n        date.setSeconds(this.previousStartValue.getSeconds());\n      }\n\n      this.startValue = this.depth === 'Month' ? new Date(this.checkValue(date)) : this.depth === 'Year' ? firstDay : firstMonth;\n      this.endValue = null;\n      this.setValue();\n      addClass([ele], STARTDATE);\n      this.addSelectedAttributes(ele, this.startValue, true);\n\n      if (ele.classList.contains(OTHERMONTH)) {\n        this.otherMonthSelect(ele, true);\n      }\n\n      this.checkMinMaxDays();\n      this.applyButton.disabled = true;\n      this.applyButton.element.disabled = true;\n\n      if (this.isMobile) {\n        this.endButton.element.classList.add(ACTIVE);\n        this.startButton.element.classList.remove(ACTIVE);\n        this.endButton.element.removeAttribute('disabled');\n        this.selectableDates();\n      }\n\n      this.trigger('select', this.rangeArgs(event));\n    } else {\n      if (+date === +this.startValue || +date > +this.startValue) {\n        if (+date === +this.startValue && !isNullOrUndefined(this.minDays) && this.minDays > 1) {\n          return;\n        }\n\n        this.endValue = null;\n        this.setValue();\n\n        if (this.isMobile || element) {\n          this.hoverSelection(event, element);\n        }\n\n        if (!isNullOrUndefined(this.previousEndValue)) {\n          date.setHours(this.previousEndValue.getHours());\n          date.setMinutes(this.previousEndValue.getMinutes());\n          date.setSeconds(this.previousEndValue.getSeconds());\n        }\n\n        this.endValue = this.depth === 'Month' ? new Date(this.checkValue(date)) : this.depth === 'Year' ? lastDay : lastMonth;\n        this.setValue();\n        var endEle = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n\n        if (this.isMobile) {\n          this.startButton.element.classList.remove(ACTIVE);\n          this.endButton.element.classList.add(ACTIVE);\n\n          for (var _i = 0, endEle_1 = endEle; _i < endEle_1.length; _i++) {\n            var ele_1 = endEle_1[_i];\n            ele_1.removeAttribute('aria-label');\n\n            if (!ele_1.classList.contains(STARTDATE)) {\n              ele_1.setAttribute('aria-selected', 'false');\n              removeClass([ele_1], [ENDDATE, SELECTED]);\n            } else {\n              this.addSelectedAttributes(ele_1, this.startValue, true);\n              removeClass([ele_1], [ENDDATE]);\n            }\n          }\n        }\n\n        addClass([ele], ENDDATE);\n\n        if (+this.endValue === +this.startValue) {\n          this.addSelectedAttributes(ele, this.endValue, false, true);\n        } else {\n          this.addSelectedAttributes(ele, this.endValue, false);\n        }\n\n        if (ele.classList.contains(OTHERMONTH)) {\n          if (+this.endValue === +this.startValue) {\n            this.otherMonthSelect(ele, false, true);\n          } else {\n            this.otherMonthSelect(ele, false);\n          }\n        }\n\n        endEle = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n\n        for (var _a = 0, endEle_2 = endEle; _a < endEle_2.length; _a++) {\n          var ele_2 = endEle_2[_a];\n\n          if (ele_2.classList.contains(STARTDATE)) {\n            removeClass([ele_2], [RANGEHOVER]);\n          }\n        }\n\n        this.applyButton.disabled = false;\n        this.applyButton.element.disabled = false;\n\n        if (!this.isMobile) {\n          this.removeClassDisabled();\n        }\n\n        this.disabledDateRender();\n        this.trigger('select', this.rangeArgs(event));\n      } else if (+date < +this.startValue) {\n        this.removeClassDisabled();\n        this.startValue = this.depth === 'Month' ? new Date(this.checkValue(date)) : this.depth === 'Year' ? firstDay : firstMonth;\n        this.setValue();\n        this.removeSelectedAttributes();\n        removeClass(this.popupObj.element.querySelectorAll('.' + STARTDATE), [STARTDATE, SELECTED]);\n        addClass([ele], STARTDATE);\n        this.addSelectedAttributes(ele, this.startValue, true);\n\n        if (ele.classList.contains(OTHERMONTH)) {\n          this.otherMonthSelect(ele, true);\n        }\n\n        this.checkMinMaxDays();\n      }\n    }\n\n    if (event) {\n      leftCalendar = closest(event.target, '.' + LEFTCALENDER);\n    }\n\n    if (!isNullOrUndefined(leftCalendar)) {\n      this.leftCalendar.children[1].firstElementChild.focus();\n    } else {\n      if (event) {\n        rightCalendar = event && closest(event.target, '.' + RIGHTCALENDER);\n      }\n\n      if (!isNullOrUndefined(rightCalendar)) {\n        this.rightCalendar.children[1].firstElementChild.focus();\n      }\n    }\n\n    addClass([ele], SELECTED);\n    this.updateHeader();\n    this.removeFocusedDate();\n  };\n\n  DateRangePicker.prototype.selectableDates = function () {\n    if (!isNullOrUndefined(this.startValue)) {\n      var tdCells = this.calendarElement.querySelectorAll('.' + CALENDAR + ' td');\n      var isStartDate = false;\n\n      if (this.currentView() === this.depth) {\n        for (var _i = 0, tdCells_4 = tdCells; _i < tdCells_4.length; _i++) {\n          var ele = tdCells_4[_i];\n\n          if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(WEEKNUMBER)) {\n            if (!ele.classList.contains(DISABLED)) {\n              var eleDate = this.getIdValue(null, ele);\n\n              if (+eleDate < +this.startValue) {\n                addClass([ele], [DATEDISABLED, DISABLED, OVERLAY]);\n                EventHandler.clearEvents(ele);\n                continue;\n              } else {\n                break;\n              }\n            }\n          }\n\n          if (ele.classList.contains(STARTDATE) && !ele.classList.contains(OTHERMONTH)) {\n            isStartDate = true;\n            break;\n          }\n        }\n\n        if (isStartDate) {\n          if (!this.previousIcon.classList.contains(DISABLED)) {\n            addClass([this.previousIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n          }\n        }\n      } else {\n        for (var _a = 0, tdCells_5 = tdCells; _a < tdCells_5.length; _a++) {\n          var ele = tdCells_5[_a];\n          var startMonth = this.startValue.getMonth();\n          var startYear = this.startValue.getFullYear();\n          var element = this.getIdValue(null, ele);\n\n          if (!this.startButton.element.classList.contains(ACTIVE) && (this.currentView() === 'Year' && element.getMonth() < startMonth && element.getFullYear() <= startYear || this.currentView() === 'Decade' && element.getMonth() <= startMonth && element.getFullYear() < startYear)) {\n            addClass([ele], [DISABLED]);\n          } else {\n            break;\n          }\n        }\n\n        if (tdCells[0].classList.contains(DISABLED)) {\n          this.previousIconHandler(true);\n        } else if (tdCells[tdCells.length - 1].classList.contains(DISABLED)) {\n          this.nextIconHandler(true);\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.updateMinMaxDays = function (calendar) {\n    if (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue) || this.isMobile && this.endButton.element.classList.contains(ACTIVE)) {\n      if (!isNullOrUndefined(this.minDays) && this.minDays > 0 || !isNullOrUndefined(this.maxDays) && this.maxDays > 0) {\n        var minDate = new Date(new Date(+this.startValue).setDate(this.startValue.getDate() + (this.minDays - 1)));\n        var maxDate = new Date(new Date(+this.startValue).setDate(this.startValue.getDate() + (this.maxDays - 1)));\n        minDate = !isNullOrUndefined(this.minDays) && this.minDays > 0 ? minDate : null;\n        maxDate = !isNullOrUndefined(this.maxDays) && this.maxDays > 0 ? maxDate : null;\n\n        if (this.currentView() === 'Year') {\n          minDate = isNullOrUndefined(minDate) ? null : new Date(minDate.getFullYear(), minDate.getMonth(), 0);\n          maxDate = isNullOrUndefined(maxDate) ? null : new Date(maxDate.getFullYear(), maxDate.getMonth(), 1);\n        } else if (this.currentView() === 'Decade') {\n          minDate = isNullOrUndefined(minDate) ? null : new Date(minDate.getFullYear() - 1, 11, 1);\n          maxDate = isNullOrUndefined(maxDate) ? null : new Date(maxDate.getFullYear(), 0, 1);\n        }\n\n        var tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n        var maxEle = void 0;\n\n        for (var _i = 0, tdCells_6 = tdCells; _i < tdCells_6.length; _i++) {\n          var ele = tdCells_6[_i];\n\n          if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(WEEKNUMBER)) {\n            var eleDate = this.getIdValue(null, ele);\n\n            if (!isNullOrUndefined(minDate) && +eleDate === +minDate && ele.classList.contains(DISABLED)) {\n              minDate.setDate(minDate.getDate() + 1);\n            }\n\n            if (!ele.classList.contains(DISABLED)) {\n              if (+eleDate <= +this.startValue) {\n                continue;\n              }\n\n              if (!isNullOrUndefined(minDate) && +eleDate < +minDate) {\n                addClass([ele], [DATEDISABLED, DISABLED, OVERLAY]);\n                EventHandler.clearEvents(ele);\n              }\n\n              if (!isNullOrUndefined(maxDate) && +eleDate > +maxDate) {\n                addClass([ele], [DATEDISABLED, DISABLED, OVERLAY]);\n                this.isMaxDaysClicked = true;\n                EventHandler.clearEvents(ele);\n\n                if (isNullOrUndefined(maxEle) && !ele.classList.contains(OTHERMONTH)) {\n                  maxEle = ele;\n                }\n              }\n            }\n          }\n        }\n\n        if (!isNullOrUndefined(maxEle)) {\n          if (this.isMobile) {\n            if (!this.nextIcon.classList.contains(DISABLED)) {\n              addClass([this.nextIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n            }\n          } else {\n            var calendar_1 = closest(maxEle, '.' + RIGHTCALENDER);\n            calendar_1 = isNullOrUndefined(calendar_1) ? this.leftCalendar : calendar_1;\n            var isLeftCalendar = calendar_1.classList.contains(LEFTCALENDER);\n\n            if (!isLeftCalendar) {\n              if (!this.rightCalNextIcon.classList.contains(DISABLED)) {\n                addClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n              }\n            } else {\n              if (!this.rightCalNextIcon.classList.contains(DISABLED)) {\n                addClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n              }\n\n              if (!this.leftCalNextIcon.classList.contains(DISABLED)) {\n                addClass([this.leftCalNextIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n              }\n\n              if (!this.rightCalPrevIcon.classList.contains(DISABLED)) {\n                addClass([this.rightCalPrevIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n              }\n            }\n          }\n        }\n      }\n    } else {\n      this.isMaxDaysClicked = false;\n    }\n  };\n\n  DateRangePicker.prototype.removeClassDisabled = function () {\n    var tdCells;\n    tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td' + '.' + DATEDISABLED);\n\n    for (var _i = 0, tdCells_7 = tdCells; _i < tdCells_7.length; _i++) {\n      var ele = tdCells_7[_i];\n\n      if (ele.classList.contains(DATEDISABLED)) {\n        removeClass([ele], [DATEDISABLED, DISABLED, OVERLAY]);\n        EventHandler.add(ele, 'click', this.selectRange, this);\n\n        if (!this.isMobile) {\n          EventHandler.add(ele, 'mouseover', this.hoverSelection, this);\n        }\n      }\n    }\n\n    if (this.isMobile) {\n      if (this.nextIcon.classList.contains(ICONDISABLED)) {\n        removeClass([this.nextIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n      }\n\n      if (this.previousIcon.classList.contains(ICONDISABLED)) {\n        removeClass([this.previousIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n      }\n    } else {\n      if (this.rightCalNextIcon.classList.contains(ICONDISABLED)) {\n        removeClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n      }\n\n      if (this.rightCalPrevIcon.classList.contains(ICONDISABLED)) {\n        removeClass([this.rightCalPrevIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n      }\n\n      if (this.leftCalNextIcon.classList.contains(ICONDISABLED)) {\n        removeClass([this.leftCalNextIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n      }\n    }\n  };\n\n  DateRangePicker.prototype.updateHeader = function () {\n    var format = {\n      type: 'date',\n      skeleton: 'yMMMd'\n    };\n\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n      var range = Math.round(Math.abs((this.startValue.getTime() - this.endValue.getTime()) / (1000 * 60 * 60 * 24))) + 1;\n\n      if (!isNullOrUndefined(this.disabledDayCnt)) {\n        range = range - this.disabledDayCnt;\n        this.disabledDayCnt = null;\n      }\n\n      this.popupObj.element.querySelector('.' + DAYSPAN).textContent = range.toString() + ' ' + this.l10n.getConstant('days');\n    } else {\n      this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n    }\n\n    if (!this.isMobile) {\n      if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n        this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.globalize.formatDate(this.endValue, format);\n      } else {\n        this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.l10n.getConstant('endLabel');\n      }\n\n      if (!isNullOrUndefined(this.startValue)) {\n        this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.globalize.formatDate(this.startValue, format);\n      } else {\n        this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.l10n.getConstant('startLabel');\n      }\n    } else {\n      if (!isNullOrUndefined(this.startValue)) {\n        this.startButton.element.textContent = this.globalize.formatDate(this.startValue, format);\n      } else {\n        this.startButton.element.textContent = this.l10n.getConstant('startLabel');\n      }\n\n      if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n        this.endButton.element.textContent = this.globalize.formatDate(this.endValue, format);\n      } else {\n        this.endButton.element.textContent = this.l10n.getConstant('endLabel');\n      }\n    }\n\n    if (this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue) || !isNullOrUndefined(this.startValue) && +this.startValue < +this.min || !isNullOrUndefined(this.endValue) && +this.endValue > +this.max || !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue) {\n      if (!this.isMobile) {\n        this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n        this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.l10n.getConstant('startLabel');\n        this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.l10n.getConstant('endLabel');\n      } else {\n        this.startButton.element.textContent = this.l10n.getConstant('startLabel');\n        this.endButton.element.textContent = this.l10n.getConstant('endLabel');\n        this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n      }\n    }\n\n    if (this.popupObj.element.querySelector('#custom_range')) {\n      this.popupObj.element.querySelector('#custom_range').textContent = this.l10n.getConstant('customRange') !== '' ? this.l10n.getConstant('customRange') : 'Custom Range';\n    }\n  };\n\n  DateRangePicker.prototype.removeSelection = function () {\n    this.startValue = null;\n    this.endValue = null;\n    this.setValue();\n    this.removeSelectedAttributes();\n\n    if (this.popupObj) {\n      if (this.popupObj.element.querySelectorAll('.' + SELECTED).length > 0) {\n        removeClass(this.popupObj.element.querySelectorAll('.' + SELECTED), [STARTDATE, ENDDATE, SELECTED]);\n      }\n\n      if (this.popupObj.element.querySelectorAll('.' + FOCUSDATE).length > 0) {\n        removeClass(this.popupObj.element.querySelectorAll('.' + FOCUSDATE), FOCUSDATE);\n      }\n\n      if (this.popupObj.element.querySelectorAll('.' + RANGEHOVER).length > 0) {\n        removeClass(this.popupObj.element.querySelectorAll('.' + RANGEHOVER), [RANGEHOVER]);\n      }\n    }\n  };\n\n  DateRangePicker.prototype.addSelectedAttributes = function (ele, date, isStartDate, sameDate) {\n    if (ele) {\n      var title = this.globalize.formatDate(date, {\n        type: 'date',\n        skeleton: 'full'\n      });\n\n      if (!isNullOrUndefined(sameDate) && sameDate) {\n        ele.setAttribute('aria-label', 'The current start and end date is ' + '' + title);\n      } else {\n        ele.setAttribute('aria-label', 'The current ' + (isStartDate ? 'start' : 'end') + ' date is ' + '' + title);\n      }\n\n      ele.setAttribute('aria-selected', 'true');\n    }\n  };\n\n  DateRangePicker.prototype.removeSelectedAttributes = function () {\n    if (this.popupObj) {\n      var start = this.popupObj.element.querySelectorAll('.' + STARTDATE);\n\n      for (var _i = 0, start_1 = start; _i < start_1.length; _i++) {\n        var ele = start_1[_i];\n        ele.setAttribute('aria-selected', 'false');\n        ele.removeAttribute('aria-label');\n      }\n\n      var end = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n\n      for (var _a = 0, end_1 = end; _a < end_1.length; _a++) {\n        var ele = end_1[_a];\n        ele.setAttribute('aria-selected', 'false');\n        ele.removeAttribute('aria-label');\n      }\n    }\n  };\n\n  DateRangePicker.prototype.updateCalendarElement = function (calendar) {\n    if (calendar.classList.contains(LEFTCALENDER)) {\n      this.calendarElement = this.leftCalendar;\n      this.currentDate = this.leftCalCurrentDate;\n      this.previousIcon = this.leftCalPrevIcon;\n      this.nextIcon = this.leftCalNextIcon;\n    } else {\n      this.calendarElement = this.rightCalendar;\n      this.currentDate = this.rightCalCurrentDate;\n      this.previousIcon = this.rightCalPrevIcon;\n      this.nextIcon = this.rightCalNextIcon;\n    }\n\n    this.contentElement = calendar.querySelector('.' + CONTENT);\n    this.tableBodyElement = select('.' + CONTENT + ' tbody', calendar);\n    this.table = calendar.querySelector('.' + CONTENT).getElementsByTagName('table')[0];\n    this.headerTitleElement = calendar.querySelector('.' + HEADER + ' .' + TITLE);\n    this.headerElement = calendar.querySelector('.' + HEADER);\n  };\n\n  DateRangePicker.prototype.navPrevMonth = function (e) {\n    e.preventDefault();\n    var ele = closest(e.target, '.' + LEFTCALENDER);\n    ele = isNullOrUndefined(ele) ? closest(e.target, '.' + RIGHTCALENDER) : ele;\n    this.updateCalendarElement(ele);\n    this.navigatePrevious(e);\n\n    if (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n      this.updateMinMaxDays(ele);\n    }\n\n    this.updateControl(ele);\n  };\n\n  DateRangePicker.prototype.deviceNavigation = function (ele) {\n    this.deviceCalendarEvent();\n    this.updateRange([this.popupObj.element.querySelector('.' + CALENDAR)]);\n\n    if (this.endButton.element.classList.contains(ACTIVE)) {\n      this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n    }\n\n    if (this.endButton.element.classList.contains(ACTIVE)) {\n      this.selectableDates();\n    }\n\n    if (this.currentView() === this.depth) {\n      this.bindCalendarCellEvents();\n    }\n\n    this.removeFocusedDate();\n  };\n\n  DateRangePicker.prototype.updateControl = function (calendar) {\n    if (calendar.classList.contains(RIGHTCALENDER)) {\n      this.rightCalCurrentDate = new Date(+this.currentDate);\n    } else {\n      this.leftCalCurrentDate = new Date(+this.currentDate);\n    }\n\n    this.updateNavIcons();\n    this.calendarIconEvent();\n\n    if (this.depth === 'Month' && this.leftCalendar.querySelector('.e-content').classList.contains('e-month') && this.rightCalendar.querySelector('.e-content').classList.contains('e-month') || this.depth === 'Year' && this.leftCalendar.querySelector('.e-content').classList.contains('e-year') && this.rightCalendar.querySelector('.e-content').classList.contains('e-year') || this.depth === 'Decade' && this.leftCalendar.querySelector('.e-content').classList.contains('e-decade') && this.rightCalendar.querySelector('.e-content').classList.contains('e-decade') || this.isMobile) {\n      this.bindCalendarCellEvents();\n    }\n\n    this.removeFocusedDate();\n    this.updateRange([calendar]);\n  };\n\n  DateRangePicker.prototype.navNextMonth = function (event) {\n    event.preventDefault();\n    var ele = closest(event.target, '.' + LEFTCALENDER);\n    ele = isNullOrUndefined(ele) ? closest(event.target, '.' + RIGHTCALENDER) : ele;\n    this.updateCalendarElement(ele);\n    this.navigateNext(event);\n\n    if (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n      this.updateMinMaxDays(ele);\n    }\n\n    this.updateControl(ele);\n  };\n\n  DateRangePicker.prototype.compareMonths = function (start, end) {\n    var result;\n\n    if (start.getFullYear() === end.getFullYear() && (this.currentView() === 'Year' || this.currentView() === 'Decade')) {\n      result = -1;\n    } else if (start.getFullYear() > end.getFullYear()) {\n      result = -1;\n    } else if (start.getFullYear() < end.getFullYear()) {\n      if (start.getFullYear() + 1 === end.getFullYear() && start.getMonth() === 11 && end.getMonth() === 0) {\n        result = -1;\n      } else {\n        result = 1;\n      }\n    } else {\n      result = start.getMonth() === end.getMonth() ? 0 : start.getMonth() + 1 === end.getMonth() ? -1 : 1;\n    }\n\n    return result;\n  };\n\n  DateRangePicker.prototype.compareYears = function (start, end) {\n    var result;\n\n    if (start.getFullYear() === end.getFullYear()) {\n      result = -1;\n    } else if (start.getFullYear() > end.getFullYear()) {\n      result = -1;\n    } else {\n      if (start.getFullYear() + 1 === end.getFullYear()) {\n        result = -1;\n      } else {\n        result = 1;\n      }\n    }\n\n    return result;\n  };\n\n  DateRangePicker.prototype.compareDecades = function (start, end) {\n    var result;\n\n    if (start.getFullYear() === end.getFullYear()) {\n      result = -1;\n    } else if (start.getFullYear() > end.getFullYear()) {\n      result = -1;\n    } else {\n      var strtFullYr = start.getFullYear();\n      var enFullYr = end.getFullYear();\n\n      if (strtFullYr - strtFullYr % 10 + 10 === enFullYr - enFullYr % 10) {\n        result = -1;\n      } else {\n        result = 1;\n      }\n    }\n\n    return result;\n  };\n\n  DateRangePicker.prototype.isPopupOpen = function () {\n    if (!isNullOrUndefined(this.popupObj) && this.popupObj.element.classList.contains(POPUP)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  DateRangePicker.prototype.createRangeHeader = function () {\n    var labelContainer = this.createElement('div', {\n      className: STARTENDCONTAINER\n    });\n\n    if (!this.isMobile) {\n      var startLabel = this.createElement('a', {\n        className: STARTLABEL\n      });\n      var endLabel = this.createElement('a', {\n        className: ENDLABEL\n      });\n      var changeIcon = this.createElement('span', {\n        className: CHANGEICON\n      });\n      attributes(startLabel, {\n        'aria-atomic': 'true',\n        'aria-live': 'assertive',\n        'aria-label': 'Start Date',\n        'role': 'button'\n      });\n      attributes(endLabel, {\n        'aria-atomic': 'true',\n        'aria-live': 'assertive',\n        'aria-label': 'End Date',\n        'role': 'button'\n      });\n      labelContainer.appendChild(startLabel);\n      labelContainer.appendChild(changeIcon);\n      labelContainer.appendChild(endLabel);\n      startLabel.textContent = this.l10n.getConstant('startLabel');\n      endLabel.textContent = this.l10n.getConstant('endLabel');\n    } else {\n      var endBtn = this.createElement('button', {\n        className: ENDBUTTON\n      });\n      var startBtn = this.createElement('button', {\n        className: STARTBUTTON\n      });\n      this.startButton = new Button({\n        content: this.l10n.getConstant('startLabel')\n      }, startBtn);\n      this.endButton = new Button({\n        content: this.l10n.getConstant('endLabel')\n      }, endBtn);\n      labelContainer.appendChild(startBtn);\n      labelContainer.appendChild(endBtn);\n    }\n\n    return labelContainer;\n  };\n\n  DateRangePicker.prototype.disableInput = function () {\n    if (this.strictMode) {\n      if (!isNullOrUndefined(this.previousStartValue) && !isNullOrUndefined(this.previousEndValue)) {\n        this.startValue = this.previousStartValue;\n        this.endValue = this.previousEndValue;\n        this.setValue();\n        this.updateInput();\n      }\n    } else {\n      this.updateInput();\n      this.clearRange();\n      this.setProperties({\n        startDate: null\n      }, true);\n      this.setProperties({\n        endDate: null\n      }, true);\n      this.startValue = null;\n      this.endValue = null;\n      this.setValue();\n      this.errorClass();\n    }\n\n    this.setProperties({\n      enabled: false\n    }, true);\n    Input.setEnabled(this.enabled, this.inputElement);\n    this.bindEvents();\n  };\n\n  DateRangePicker.prototype.validateMinMax = function () {\n    this.min = isNullOrUndefined(this.min) || !+this.min ? this.min = new Date(1900, 0, 1) : this.min;\n    this.max = isNullOrUndefined(this.max) || !+this.max ? this.max = new Date(2099, 11, 31) : this.max;\n\n    if (!(this.min <= this.max)) {\n      this.disableInput();\n      return;\n    }\n\n    if (!isNullOrUndefined(this.minDays) && !isNullOrUndefined(this.maxDays)) {\n      if (this.maxDays > 0 && this.minDays > 0 && this.minDays > this.maxDays) {\n        this.maxDays = null;\n      }\n    }\n\n    if (!isNullOrUndefined(this.minDays) && this.minDays < 0) {\n      this.minDays = null;\n    }\n\n    if (!isNullOrUndefined(this.maxDays) && this.maxDays < 0) {\n      this.maxDays = null;\n    }\n  };\n\n  DateRangePicker.prototype.validateRangeStrict = function () {\n    if (!isNullOrUndefined(this.startValue)) {\n      if (+this.startValue <= +this.min) {\n        this.startValue = this.min;\n        this.setValue();\n      } else if (+this.startValue >= +this.min && +this.startValue >= +this.max) {\n        this.startValue = this.max;\n      }\n    }\n\n    if (!isNullOrUndefined(this.endValue)) {\n      if (+this.endValue > +this.max) {\n        this.endValue = this.max;\n        this.setValue();\n      } else if (+this.endValue < +this.min) {\n        this.endValue = this.min;\n        this.setValue();\n      }\n    }\n\n    this.validateMinMaxDays();\n  };\n\n  DateRangePicker.prototype.validateRange = function () {\n    this.validateMinMaxDays();\n  };\n\n  DateRangePicker.prototype.validateMinMaxDays = function () {\n    if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n      var range = Math.round(Math.abs((this.startValue.getTime() - this.endValue.getTime()) / (1000 * 60 * 60 * 24))) + 1;\n\n      if (!isNullOrUndefined(this.minDays) && this.minDays > 0 && !(range >= this.minDays)) {\n        if (this.strictMode) {\n          var date = new Date(+this.startValue);\n          date.setDate(date.getDate() + (this.minDays - 1));\n\n          if (+date > +this.max) {\n            this.endValue = this.max;\n            this.setValue();\n          } else {\n            this.endValue = date;\n            this.setValue();\n          }\n        } else {\n          this.startValue = null;\n          this.endValue = null;\n          this.setValue();\n        }\n      }\n\n      if (!isNullOrUndefined(this.maxDays) && this.maxDays > 0 && !(range <= this.maxDays)) {\n        if (this.strictMode) {\n          this.endValue = new Date(+this.startValue);\n          this.endValue.setDate(this.endValue.getDate() + (this.maxDays - 1));\n          this.setValue();\n        } else {\n          this.startValue = null;\n          this.endValue = null;\n          this.setValue();\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.renderCalendar = function () {\n    this.calendarElement = this.createElement('div');\n    this.calendarElement.classList.add(CALENDAR);\n\n    if (this.enableRtl) {\n      this.calendarElement.classList.add(RTL);\n    }\n\n    attributes(this.calendarElement, {\n      'role': 'calendar'\n    });\n\n    _super.prototype.createHeader.call(this);\n\n    _super.prototype.createContent.call(this);\n  };\n\n  DateRangePicker.prototype.isSameMonth = function (start, end) {\n    if (start.getMonth() === end.getMonth() && start.getFullYear() === end.getFullYear()) {\n      return true;\n    }\n\n    return false;\n  };\n\n  DateRangePicker.prototype.isSameYear = function (start, end) {\n    if (start.getFullYear() === end.getFullYear()) {\n      return true;\n    }\n\n    return false;\n  };\n\n  DateRangePicker.prototype.isSameDecade = function (start, end) {\n    var startYear = start.getFullYear();\n    var endYear = end.getFullYear();\n\n    if (startYear - startYear % 10 === endYear - endYear % 10) {\n      return true;\n    }\n\n    return false;\n  };\n\n  DateRangePicker.prototype.startMonthCurrentDate = function () {\n    if (this.isSameMonth(this.min, this.max) || +this.currentDate > +this.max || this.isSameMonth(this.currentDate, this.max)) {\n      this.currentDate = new Date(+this.max);\n      this.currentDate.setDate(1);\n      this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n    } else if (this.currentDate < this.min) {\n      this.currentDate = new Date(this.checkValue(this.min));\n    }\n  };\n\n  DateRangePicker.prototype.selectNextMonth = function () {\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameMonth(this.endValue, this.currentDate) && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n      this.currentDate = new Date(+this.endValue);\n    } else {\n      this.currentDate.setDate(1);\n      this.currentDate.setMonth(this.currentDate.getMonth() + 1);\n      return;\n    }\n\n    if (!isNullOrUndefined(this.startValue) && +this.startValue < +this.min || !isNullOrUndefined(this.endValue) && +this.endValue > +this.max || !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue) {\n      this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n      this.currentDate.setDate(1);\n      var month = this.currentDate.getMonth() + 1;\n      this.currentDate.setMonth(month);\n    }\n  };\n\n  DateRangePicker.prototype.selectNextYear = function () {\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameYear(this.endValue, this.currentDate) && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n      this.currentDate = new Date(+this.endValue);\n    } else {\n      this.currentDate.setMonth(0);\n      var yr = this.currentDate.getFullYear() + 1;\n      this.currentDate.setFullYear(yr);\n      return;\n    }\n\n    if (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max || !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue || !isNullOrUndefined(this.startValue) && +this.startValue < +this.min) {\n      this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n      this.currentDate.setMonth(0);\n      this.currentDate.setFullYear(this.currentDate.getFullYear() + 1);\n    }\n  };\n\n  DateRangePicker.prototype.selectNextDecade = function () {\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameDecade(this.endValue, this.currentDate) && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n      this.currentDate = new Date(+this.endValue);\n    } else {\n      var decyr = this.currentDate.getFullYear() + 10;\n      this.currentDate.setFullYear(decyr);\n      return;\n    }\n\n    if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue || !isNullOrUndefined(this.endValue) && +this.endValue > +this.max || !isNullOrUndefined(this.startValue) && +this.startValue < +this.min) {\n      this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n      this.currentDate.setFullYear(this.currentDate.getFullYear() + 10);\n    }\n  };\n\n  DateRangePicker.prototype.selectStartMonth = function () {\n    if (!isNullOrUndefined(this.startValue)) {\n      if (!isNullOrUndefined(this.max) && this.isSameMonth(this.startValue, this.max)) {\n        this.currentDate = new Date(+this.max);\n        this.currentDate.setDate(1);\n        this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n      } else if (!(this.startValue >= this.min && this.startValue <= this.max) || this.isDateDisabled(this.startValue)) {\n        this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n      } else {\n        this.currentDate = new Date(+this.startValue);\n      }\n    } else {\n      this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n      this.startMonthCurrentDate();\n    }\n\n    if (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max || !isNullOrUndefined(this.startValue) && +this.startValue < +this.min || !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue) {\n      this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n    }\n\n    this.startMonthCurrentDate();\n  };\n\n  DateRangePicker.prototype.createCalendar = function () {\n    var calendarContainer = this.createElement('div', {\n      className: CALENDARCONTAINER\n    });\n\n    if (!this.isMobile) {\n      this.selectStartMonth();\n      this.renderCalendar();\n      this.leftCalCurrentDate = new Date(+this.currentDate);\n      this.calendarElement.classList.add(LEFTCALENDER);\n      this.leftCalPrevIcon = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + PREVICON);\n      this.leftCalNextIcon = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + NEXTICON);\n      this.leftTitle = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + TITLE);\n      remove(this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + ICONCONTAINER));\n      this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER).appendChild(this.leftCalNextIcon);\n      this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER).appendChild(this.leftCalPrevIcon);\n      prepend([this.leftCalPrevIcon], this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER));\n      this.leftCalendar = this.calendarElement;\n      var leftContainer = this.createElement('div', {\n        className: LEFTCONTAINER\n      });\n      var rightContainer = this.createElement('div', {\n        className: RIGHTCONTAINER\n      });\n      leftContainer.appendChild(this.leftCalendar);\n      calendarContainer.appendChild(leftContainer);\n\n      if (!this.isMobile) {\n        EventHandler.add(this.leftTitle, 'click', this.leftNavTitle, this);\n      }\n\n      if (this.start === 'Month') {\n        this.selectNextMonth();\n      }\n\n      if (this.start === 'Year') {\n        this.selectNextYear();\n      }\n\n      if (this.start === 'Decade') {\n        this.selectNextDecade();\n      }\n\n      this.renderCalendar();\n      this.rightCalCurrentDate = new Date(+this.currentDate);\n      addClass([this.calendarElement], RIGHTCALENDER);\n      this.rightCalendar = this.calendarElement;\n      removeClass([this.leftCalendar && this.leftCalendar.querySelector('.e-content tbody')], 'e-zoomin');\n      removeClass([this.rightCalendar && this.rightCalendar.querySelector('.e-content tbody')], 'e-zoomin');\n      this.rightCalPrevIcon = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + PREVICON);\n      this.rightCalNextIcon = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + NEXTICON);\n      this.rightTitle = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + TITLE);\n      remove(this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + ICONCONTAINER));\n      this.calendarElement.querySelector('table').setAttribute('tabindex', '-1');\n      this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER).appendChild(this.rightCalNextIcon);\n      this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER).appendChild(this.rightCalPrevIcon);\n      prepend([this.rightCalPrevIcon], this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER));\n      rightContainer.appendChild(this.rightCalendar);\n      calendarContainer.appendChild(rightContainer);\n\n      if (!this.isMobile) {\n        EventHandler.add(this.rightTitle, 'click', this.rightNavTitle, this);\n      }\n    } else {\n      if (!isNullOrUndefined(this.startValue)) {\n        this.currentDate = new Date(+this.startValue);\n      }\n\n      _super.prototype.validateDate.call(this);\n\n      _super.prototype.minMaxUpdate.call(this);\n\n      _super.prototype.render.call(this);\n\n      var prevIcon = this.calendarElement.querySelector('.' + CALENDAR + ' .' + PREVICON);\n      var nextIcon = this.calendarElement.querySelector('.' + CALENDAR + ' .' + NEXTICON);\n      remove(this.calendarElement.querySelector('.' + CALENDAR + ' .' + ICONCONTAINER));\n      this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER).appendChild(nextIcon);\n      this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER).appendChild(prevIcon);\n      prepend([prevIcon], this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER));\n      this.deviceCalendar = this.calendarElement;\n      calendarContainer.appendChild(this.calendarElement);\n      this.headerTitleElement = this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER + ' .' + TITLE);\n    }\n\n    return calendarContainer;\n  };\n\n  DateRangePicker.prototype.leftNavTitle = function (e) {\n    if (this.isPopupOpen()) {\n      this.calendarElement = this.leftCalendar;\n      this.calendarNavigation(e, this.calendarElement);\n    }\n  };\n\n  DateRangePicker.prototype.calendarNavigation = function (e, element) {\n    this.table = element.querySelector('table');\n    this.headerTitleElement = element.querySelector('.e-title');\n    this.tableBodyElement = element.querySelector('tbody');\n    this.tableHeadElement = element.querySelector('thead');\n    this.contentElement = element.querySelector('.e-content');\n    this.updateCalendarElement(element);\n\n    _super.prototype.navigateTitle.call(this, e);\n\n    this.updateNavIcons();\n  };\n\n  DateRangePicker.prototype.rightNavTitle = function (e) {\n    if (this.isPopupOpen()) {\n      this.calendarElement = this.rightCalendar;\n      this.calendarNavigation(e, this.calendarElement);\n    }\n  };\n\n  DateRangePicker.prototype.clickEventEmitter = function (e) {\n    if (!this.isMobile) {\n      if (closest(e.target, '.e-calendar.e-left-calendar')) {\n        this.calendarElement = this.leftCalendar;\n        this.updateCalendarElement(this.leftCalendar);\n      } else {\n        this.calendarElement = this.rightCalendar;\n        this.updateCalendarElement(this.rightCalendar);\n      }\n    }\n  };\n  /**\n   * Gets the current view of the Calendar.\n   * @returns string\n   * @private\n   * @hidden\n   */\n\n\n  DateRangePicker.prototype.currentView = function () {\n    return _super.prototype.currentView.call(this);\n  };\n\n  DateRangePicker.prototype.getCalendarView = function (view) {\n    if (view === 'Year') {\n      return 'Year';\n    } else if (view === 'Decade') {\n      return 'Decade';\n    } else {\n      return 'Month';\n    }\n  };\n\n  DateRangePicker.prototype.navigatedEvent = function (e) {\n    this.trigger('navigated', this.navigatedArgs);\n\n    if (!isNullOrUndefined(this.popupObj)) {\n      var element = void 0;\n      var view = this.getCalendarView(this.currentView());\n\n      if (this.isMobile) {\n        if (view === this.depth) {\n          this.bindCalendarCellEvents();\n          this.deviceNavigation();\n          this.removeFocusedDate();\n          this.checkMinMaxDays();\n        } else {\n          this.selectableDates();\n        }\n      } else {\n        if (!this.isMobile && view === this.depth) {\n          element = this.calendarElement.classList.contains('e-left-calendar') ? this.leftCalendar : this.rightCalendar;\n\n          if (element === this.leftCalendar && (e && !e.currentTarget.children[0].classList.contains('e-icons') || !isNullOrUndefined(this.controlDown))) {\n            this.leftCalCurrentDate = new Date(+this.currentDate);\n\n            if (view === 'Year') {\n              var year = this.currentDate.getFullYear() + 1;\n              this.rightCalCurrentDate = new Date(new Date(+this.currentDate).setFullYear(year));\n            } else if (view === 'Decade') {\n              var decYear = this.currentDate.getFullYear() + 10;\n              this.rightCalCurrentDate = new Date(new Date(+this.currentDate).setFullYear(decYear));\n            } else {\n              this.rightCalCurrentDate = new Date(new Date(+this.currentDate).setMonth(this.currentDate.getMonth() + 1));\n            }\n\n            this.currentDate = this.leftCalCurrentDate;\n            this.updateCalendarElement(this.leftCalendar);\n            this.updateControl(this.leftCalendar);\n            this.updateCalendarElement(this.rightCalendar);\n\n            _super.prototype.navigateTo.call(this, view, this.rightCalCurrentDate);\n\n            this.updateControl(this.rightCalendar);\n            this.updateNavIcons();\n            this.calendarIconEvent();\n            this.calendarIconRipple();\n            this.controlDown = null;\n          } else if (e && !e.currentTarget.children[0].classList.contains('e-icons') || !isNullOrUndefined(this.controlDown)) {\n            this.rightCalCurrentDate = new Date(+this.currentDate);\n\n            if (view === 'Year') {\n              var yr = this.currentDate.getFullYear() - 1;\n              this.leftCalCurrentDate = new Date(new Date(+this.currentDate).setFullYear(yr));\n            } else if (view === 'Decade') {\n              var decyr = this.currentDate.getFullYear() - 10;\n              this.leftCalCurrentDate = new Date(new Date(+this.currentDate).setFullYear(decyr));\n            } else {\n              this.leftCalCurrentDate = new Date(new Date(+this.currentDate).setMonth(this.currentDate.getMonth() - 1));\n            }\n\n            this.currentDate = this.rightCalCurrentDate;\n            this.updateCalendarElement(this.rightCalendar);\n            this.updateControl(this.rightCalendar);\n            this.updateCalendarElement(this.leftCalendar);\n\n            if (this.startValue && isNullOrUndefined(this.endValue)) {\n              if (view === 'Month' && this.startValue.getMonth() < this.rightCalCurrentDate.getMonth() && this.startValue.getFullYear() <= this.rightCalCurrentDate.getFullYear()) {\n                _super.prototype.navigateTo.call(this, view, new Date(+this.startValue));\n              } else if (view === 'Year' && this.startValue.getFullYear() < this.rightCalCurrentDate.getFullYear()) {\n                _super.prototype.navigateTo.call(this, view, new Date(+this.startValue));\n              } else {\n                _super.prototype.navigateTo.call(this, view, this.leftCalCurrentDate);\n              }\n            } else {\n              _super.prototype.navigateTo.call(this, view, this.leftCalCurrentDate);\n            }\n\n            this.updateControl(this.leftCalendar);\n            this.updateNavIcons();\n            this.calendarIconEvent();\n            this.calendarIconRipple();\n            this.controlDown = null;\n          }\n\n          this.checkMinMaxDays();\n        } else {\n          this.updateNavIcons();\n          this.calendarIconEvent();\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.createControl = function () {\n    var controlContainer = this.createElement('div', {\n      className: RANGECONTAINER\n    });\n    var headerContainer = this.createElement('div', {\n      className: RANGEHEADER\n    });\n    var labelContainer = this.createRangeHeader();\n    headerContainer.appendChild(labelContainer);\n    var daySpan = this.createElement('div', {\n      className: DAYSPAN\n    });\n    attributes(daySpan, {\n      'aria-label': 'Selected Days'\n    });\n    daySpan.textContent = this.l10n.getConstant('selectedDays');\n    headerContainer.appendChild(daySpan);\n    var separator = this.createElement('div', {\n      className: SEPARATOR\n    });\n    var calendarContainer = this.createCalendar();\n    controlContainer.appendChild(headerContainer);\n    controlContainer.appendChild(separator);\n    controlContainer.appendChild(calendarContainer);\n    var footerSection = this.createElement('div', {\n      className: FOOTER\n    });\n    var cancelBtn = this.createElement('button', {\n      className: CANCEL + ' ' + FLAT + ' ' + CSS\n    });\n    var applyBtn = this.createElement('button');\n    addClass([applyBtn], [APPLY, FLAT, PRIMARY, CSS]);\n    footerSection.appendChild(applyBtn);\n    footerSection.appendChild(cancelBtn);\n    var enable = !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue);\n    this.cancelButton = new Button({\n      content: this.l10n.getConstant('cancelText')\n    }, cancelBtn);\n    this.applyButton = new Button({\n      content: this.l10n.getConstant('applyText'),\n      disabled: !enable\n    }, applyBtn);\n    EventHandler.add(applyBtn, 'click', this.applyFunction, this);\n    EventHandler.add(cancelBtn, 'click', this.cancelFunction, this);\n    this.popupWrapper.appendChild(controlContainer);\n\n    if (!this.isMobile) {\n      if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n        this.createPresets();\n        this.listRippleEffect();\n        addClass([controlContainer], RANGEBORDER);\n        addClass([this.popupWrapper], 'e-preset-wrapper');\n        var presets = this.popupWrapper.querySelector('.' + PRESETS);\n        presets.style.height = this.popupWrapper.querySelector('.' + RANGECONTAINER).getBoundingClientRect().height + 'px';\n      }\n    }\n\n    this.popupWrapper.appendChild(footerSection);\n\n    if (this.isMobile) {\n      this.deviceHeaderUpdate();\n    }\n\n    this.renderPopup();\n  };\n\n  DateRangePicker.prototype.cancelFunction = function (eve) {\n    if (document.activeElement !== this.inputElement) {\n      this.preventFocus = true;\n      this.inputElement.focus();\n      addClass([this.inputWrapper.container], [INPUTFOCUS]);\n    }\n\n    eve.preventDefault();\n\n    if (this.isKeyPopup) {\n      this.inputElement.focus();\n      this.isKeyPopup = false;\n    }\n\n    this.startValue = null;\n    this.endValue = null;\n    this.removeSelection();\n    this.hide(eve);\n  };\n\n  DateRangePicker.prototype.deviceHeaderUpdate = function () {\n    if (isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n      this.endButton.element.setAttribute('disabled', '');\n      this.startButton.element.classList.add(ACTIVE);\n    } else if (!isNullOrUndefined(this.startValue)) {\n      this.startButton.element.classList.add(ACTIVE);\n    }\n  };\n\n  DateRangePicker.prototype.applyFunction = function (eve) {\n    var isValueChanged = false;\n\n    if (eve.type !== 'touchstart') {\n      eve.preventDefault();\n    }\n\n    if (this.closeEventArgs && this.closeEventArgs.cancel) {\n      this.startValue = this.popupWrapper.querySelector('.e-start-date') && this.getIdValue(null, this.popupWrapper.querySelector('.e-start-date'));\n      this.endValue = this.popupWrapper.querySelector('.e-end-date') && this.getIdValue(null, this.popupWrapper.querySelector('.e-end-date'));\n      this.setValue();\n    }\n\n    if (document.activeElement !== this.inputElement) {\n      this.preventFocus = true;\n      this.inputElement.focus();\n      addClass([this.inputWrapper.container], [INPUTFOCUS]);\n    }\n\n    if (eve.type !== 'touchstart' && this.closeEventArgs && !this.closeEventArgs.cancel) {\n      eve.preventDefault();\n    }\n\n    if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n      this.previousStartValue = new Date(+this.startValue);\n      this.previousEndValue = new Date(+this.endValue);\n      this.previousEleValue = this.inputElement.value;\n      Input.setValue(this.rangeArgs(eve).text, this.inputElement, this.floatLabelType, this.showClearButton);\n\n      if (+this.initStartDate !== +this.startValue || +this.initEndDate !== +this.endValue) {\n        isValueChanged = true;\n      }\n\n      this.changeTrigger(eve);\n      this.hide(eve ? eve : null);\n      this.errorClass();\n      isValueChanged = true;\n    } else {\n      this.hide(eve ? eve : null);\n    }\n\n    if (!closest(eve.target, '.' + INPUTCONTAINER) && !isValueChanged) {\n      this.focusOut();\n    }\n\n    if (!this.isMobile) {\n      this.isKeyPopup = false;\n\n      if (this.isRangeIconClicked) {\n        this.inputWrapper.container.children[1].focus();\n        this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n        this.popupKeyboardModule = new KeyboardEvents(this.inputWrapper.container.children[1], {\n          eventName: 'keydown',\n          keyConfigs: this.keyInputConfigs,\n          keyAction: this.popupKeyActionHandle.bind(this)\n        });\n      }\n    }\n  };\n\n  DateRangePicker.prototype.onMouseClick = function (event, item) {\n    if (event.type === 'touchstart') {\n      return;\n    }\n\n    var target = item || event.target;\n    var li = closest(target, '.' + LISTCLASS);\n    var isClick = li && li.classList.contains(ACTIVE);\n\n    if (li && li.classList.contains(LISTCLASS)) {\n      this.setListSelection(li, event);\n    }\n\n    this.inputElement.focus();\n\n    if (!this.isMobile) {\n      this.preventFocus = true;\n\n      if (li && li.classList.contains(LISTCLASS) && li.getAttribute('id') === 'custom_range') {\n        this.leftCalendar.children[1].firstElementChild.focus();\n      } else {\n        if (!isClick && event.type === 'keydown') {\n          this.inputElement.focus();\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.onMouseOver = function (event) {\n    var li = closest(event.target, '.' + LISTCLASS);\n\n    if (li && li.classList.contains(LISTCLASS) && !li.classList.contains(HOVER)) {\n      addClass([li], HOVER);\n    }\n  };\n\n  DateRangePicker.prototype.onMouseLeave = function (event) {\n    var item = closest(event.target, '.' + HOVER);\n\n    if (!isNullOrUndefined(item)) {\n      removeClass([item], HOVER);\n    }\n  };\n\n  DateRangePicker.prototype.setListSelection = function (li, event) {\n    if (li && (!li.classList.contains(ACTIVE) || this.isMobile && li.classList.contains(ACTIVE))) {\n      if (this.isMobile && li.classList.contains(ACTIVE)) {\n        this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n        var values_1 = this.presetsItem[this.activeIndex];\n\n        if (values_1.id === 'custom_range') {\n          this.renderCustomPopup();\n          return;\n        }\n\n        return;\n      }\n\n      this.removeListSelection();\n      this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n      addClass([li], ACTIVE);\n      li.setAttribute('aria-selected', 'true');\n      var values = this.presetsItem[this.activeIndex];\n\n      if (values.id === 'custom_range') {\n        this.renderCustomPopup();\n      } else {\n        this.applyPresetRange(values, event);\n      }\n    }\n  };\n\n  DateRangePicker.prototype.removeListSelection = function () {\n    var item = this.presetElement.querySelector('.' + ACTIVE);\n\n    if (!isNullOrUndefined(item)) {\n      removeClass([item], ACTIVE);\n      item.removeAttribute('aria-selected');\n    }\n  };\n\n  DateRangePicker.prototype.setValue = function () {\n    this.modelValue = [this.startValue, this.endValue];\n  };\n\n  DateRangePicker.prototype.applyPresetRange = function (values, e) {\n    this.hide(null);\n    this.presetsItem[this.presetsItem.length - 1].start = null;\n    this.presetsItem[this.presetsItem.length - 1].end = null;\n    this.startValue = values.start;\n    this.endValue = values.end;\n    this.setValue();\n    this.refreshControl();\n    this.trigger('select', this.rangeArgs(e));\n    this.changeTrigger(e);\n    this.previousEleValue = this.inputElement.value;\n    this.isCustomRange = false;\n    this.leftCalendar = this.rightCalendar = null;\n\n    if (this.isKeyPopup) {\n      this.isRangeIconClicked = false;\n      this.inputElement.focus();\n    }\n  };\n\n  DateRangePicker.prototype.showPopup = function (element, event) {\n    this.presetHeight();\n\n    if (this.zIndex === 1000) {\n      this.popupObj.show(null, this.element);\n    } else {\n      this.popupObj.show(null, null);\n    }\n\n    if (this.isMobile) {\n      this.popupObj.refreshPosition();\n    }\n  };\n\n  DateRangePicker.prototype.renderCustomPopup = function () {\n    this.isCustomWindow = true;\n    this.popupObj.hide();\n    this.popupWrapper = this.createElement('div', {\n      id: this.element.id + '_popup',\n      className: ROOT + ' ' + POPUP\n    });\n    this.renderControl();\n    this.openEventArgs.appendTo.appendChild(this.popupWrapper);\n    this.showPopup();\n    this.isCustomRange = true;\n\n    if (!this.isMobile) {\n      this.calendarFocus();\n    }\n  };\n\n  DateRangePicker.prototype.listRippleEffect = function () {\n    for (var _i = 0, _a = this.liCollections; _i < _a.length; _i++) {\n      var li = _a[_i];\n      rippleEffect(li);\n    }\n  };\n\n  DateRangePicker.prototype.createPresets = function () {\n    if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n      this.presetElement = this.createElement('div', {\n        className: PRESETS,\n        attrs: {\n          'tabindex': '0'\n        }\n      });\n      var listTag = ListBase.createList(this.createElement, this.presetsItem, null, true);\n      attributes(listTag, {\n        'role': 'listbox',\n        'aria-hidden': 'false',\n        'id': this.element.id + '_options'\n      });\n      this.presetElement.appendChild(listTag);\n      this.popupWrapper.appendChild(this.presetElement);\n      var customElement = this.presetElement.querySelector('#custom_range');\n\n      if (!isNullOrUndefined(customElement)) {\n        customElement.textContent = this.l10n.getConstant('customRange') !== '' ? this.l10n.getConstant('customRange') : 'Custom Range';\n      }\n\n      this.liCollections = this.presetElement.querySelectorAll('.' + LISTCLASS);\n      this.wireListEvents();\n\n      if (this.isMobile) {\n        this.presetElement.style.width = this.inputWrapper.container.getBoundingClientRect().width + 'px';\n      }\n\n      if (!isNullOrUndefined(this.activeIndex) && this.activeIndex > -1) {\n        addClass([this.liCollections[this.activeIndex]], ACTIVE);\n      }\n    }\n  };\n\n  DateRangePicker.prototype.wireListEvents = function () {\n    EventHandler.add(this.presetElement, 'click', this.onMouseClick, this);\n\n    if (!this.isMobile) {\n      EventHandler.add(this.presetElement, 'mouseover', this.onMouseOver, this);\n      EventHandler.add(this.presetElement, 'mouseout', this.onMouseLeave, this);\n    }\n  };\n\n  DateRangePicker.prototype.unWireListEvents = function () {\n    if (!isNullOrUndefined(this.presetElement)) {\n      EventHandler.remove(this.presetElement, 'click touchstart', this.onMouseClick);\n\n      if (!this.isMobile) {\n        EventHandler.remove(this.presetElement, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.presetElement, 'mouseout', this.onMouseLeave);\n      }\n    }\n  }; // tslint:disable-next-line:max-func-body-length\n\n\n  DateRangePicker.prototype.renderPopup = function () {\n    var _this = this;\n\n    this.popupWrapper.classList.add('e-control');\n    var popupWidth = this.popupWrapper.getBoundingClientRect().width;\n\n    if (!isNullOrUndefined(this.cssClass) && this.cssClass.trim() !== '') {\n      this.popupWrapper.className += ' ' + this.cssClass;\n    }\n\n    if (this.isMobile && this.isCustomWindow) {\n      this.modal = this.createElement('div');\n      document.body.appendChild(this.modal);\n    }\n\n    this.popupObj = new Popup(this.popupWrapper, {\n      relateTo: this.isMobile && this.isCustomWindow ? document.body : !isNullOrUndefined(this.targetElement) ? this.targetElement : this.inputWrapper.container,\n      position: this.isMobile ? !isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && !this.isCustomWindow ? {\n        X: 'left',\n        Y: 'bottom'\n      } : {\n        X: 'center',\n        Y: 'center'\n      } : this.enableRtl ? {\n        X: 'left',\n        Y: 'bottom'\n      } : {\n        X: 'right',\n        Y: 'bottom'\n      },\n      offsetX: this.isMobile || this.enableRtl ? 0 : -popupWidth,\n      offsetY: OFFSETVALUE,\n      collision: this.isMobile ? !isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && !this.isCustomWindow ? {\n        X: 'fit'\n      } : {\n        X: 'fit',\n        Y: 'fit'\n      } : {\n        X: 'fit',\n        Y: 'flip'\n      },\n      targetType: this.isMobile && this.isCustomWindow ? 'container' : 'relative',\n      enableRtl: this.enableRtl,\n      zIndex: this.zIndex,\n      open: function () {\n        attributes(_this.inputElement, {\n          'aria-expanded': 'true'\n        });\n        addClass([_this.inputWrapper.buttons[0]], ACTIVE);\n\n        if (!_this.isMobile) {\n          if (_this.cancelButton) {\n            _this.btnKeyboardModule = new KeyboardEvents(_this.cancelButton.element, {\n              eventName: 'keydown',\n              keyAction: _this.popupKeyActionHandle.bind(_this),\n              keyConfigs: {\n                tab: 'tab',\n                altRightArrow: 'alt+rightarrow',\n                altLeftArrow: 'alt+leftarrow'\n              }\n            });\n            _this.btnKeyboardModule = new KeyboardEvents(_this.applyButton.element, {\n              eventName: 'keydown',\n              keyAction: _this.popupKeyActionHandle.bind(_this),\n              keyConfigs: {\n                altRightArrow: 'alt+rightarrow',\n                altLeftArrow: 'alt+leftarrow'\n              }\n            });\n          }\n\n          if (!isNullOrUndefined(_this.leftCalendar)) {\n            if (!_this.isRangeIconClicked) {\n              _this.calendarFocus();\n            }\n          }\n\n          if (!isNullOrUndefined(_this.presetElement)) {\n            _this.keyInputConfigs = extend(_this.keyInputConfigs, _this.keyConfigs);\n            _this.presetKeyboardModule = new KeyboardEvents(_this.presetElement, {\n              eventName: 'keydown',\n              keyAction: _this.presetKeyActionHandler.bind(_this),\n              keyConfigs: _this.keyInputConfigs\n            });\n            _this.presetKeyboardModule = new KeyboardEvents(_this.presetElement, {\n              eventName: 'keydown',\n              keyAction: _this.popupKeyActionHandle.bind(_this),\n              keyConfigs: {\n                altRightArrow: 'alt+rightarrow',\n                altLeftArrow: 'alt+leftarrow'\n              }\n            });\n\n            if (isNullOrUndefined(_this.leftCalendar)) {\n              _this.preventBlur = true;\n\n              _this.presetElement.focus();\n            } else {\n              _this.presetElement.setAttribute('tabindex', '-1');\n            }\n          }\n\n          _this.popupKeyBoardHandler();\n        }\n\n        if (_this.isMobile && !Browser.isDevice) {\n          EventHandler.add(document, 'keydown', _this.popupCloseHandler, _this);\n        }\n      },\n      close: function () {\n        attributes(_this.inputElement, {\n          'aria-expanded': 'false'\n        });\n        removeClass([_this.inputWrapper.buttons[0]], ACTIVE);\n\n        if (_this.isRangeIconClicked) {\n          _this.inputWrapper.container.children[1].focus();\n        }\n\n        if (!isUndefined(_this.presets[0].start && _this.presets[0].end && _this.presets[0].label)) {\n          _this.unWireListEvents();\n        }\n\n        if (!isNullOrUndefined(_this.popupObj)) {\n          if (!isNullOrUndefined(_this.popupObj.element.parentElement)) {\n            detach(_this.popupObj.element);\n          }\n\n          _this.popupObj.destroy();\n\n          _this.popupObj = null;\n        }\n\n        if (_this.isMobile && !Browser.isDevice) {\n          EventHandler.remove(document, 'keydown', _this.popupCloseHandler);\n        }\n      },\n      targetExitViewport: function () {\n        if (!Browser.isDevice) {\n          _this.hide();\n        }\n      }\n    });\n\n    if (this.isMobile) {\n      this.popupObj.element.classList.add(DEVICE);\n\n      if (!this.isMobile) {\n        this.popupObj.element.classList.add('e-bigger');\n      }\n    }\n\n    if (this.isMobile && this.isCustomWindow) {\n      addClass([this.modal], [DEVICE, ROOT, 'e-range-modal']);\n      document.body.className += ' ' + OVERFLOW;\n      this.modal.style.display = 'block';\n    }\n\n    EventHandler.add(document, 'mousedown touchstart', this.documentHandler, this);\n  };\n\n  DateRangePicker.prototype.popupCloseHandler = function (e) {\n    switch (e.keyCode) {\n      case 27:\n        this.hide(e);\n        break;\n    }\n  };\n\n  DateRangePicker.prototype.calendarFocus = function () {\n    var startDate = this.popupObj && this.popupObj.element.querySelector('.' + STARTDATE);\n\n    if (startDate) {\n      var ele = closest(startDate, '.' + RIGHTCALENDER);\n      ele = isNullOrUndefined(ele) ? this.leftCalendar : ele;\n\n      if (this.isRangeIconClicked) {\n        this.inputWrapper.container.focus();\n      } else {\n        this.preventBlur = true;\n        ele.children[1].firstElementChild.focus();\n      }\n\n      addClass([startDate], FOCUSDATE);\n    } else {\n      if (this.isRangeIconClicked) {\n        this.inputWrapper.container.focus();\n      } else {\n        this.preventBlur = true;\n        this.leftCalendar.children[1].firstElementChild.focus();\n      }\n    }\n  };\n\n  DateRangePicker.prototype.presetHeight = function () {\n    var presets = this.popupObj && this.popupObj.element.querySelector('.' + PRESETS);\n    var rangeContainer = this.popupObj && this.popupObj.element.querySelector('.' + RANGECONTAINER);\n\n    if (!isNullOrUndefined(presets) && !isNullOrUndefined(rangeContainer)) {\n      presets.style.height = rangeContainer.getBoundingClientRect().height + 'px';\n    }\n  };\n\n  DateRangePicker.prototype.presetKeyActionHandler = function (e) {\n    switch (e.action) {\n      case 'moveDown':\n        this.listMoveDown(e);\n        this.setScrollPosition();\n        e.preventDefault();\n        break;\n\n      case 'moveUp':\n        this.listMoveUp(e);\n        this.setScrollPosition();\n        e.preventDefault();\n        break;\n\n      case 'enter':\n        var hvrItem = this.getHoverLI();\n        var actItem = this.getActiveLI();\n\n        if (!isNullOrUndefined(this.leftCalendar) && !isNullOrUndefined(actItem)) {\n          if (isNullOrUndefined(hvrItem) || !isNullOrUndefined(actItem) && actItem === hvrItem) {\n            this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(actItem);\n            var values = this.presetsItem[this.activeIndex];\n\n            if (values.id === 'custom_range') {\n              this.calendarFocus();\n              actItem.classList.remove(HOVER);\n              e.preventDefault();\n              return;\n            }\n          }\n        }\n\n        if (!isNullOrUndefined(hvrItem) || !isNullOrUndefined(actItem)) {\n          this.onMouseClick(e, hvrItem || actItem);\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'tab':\n        if (this.leftCalendar) {\n          var item = this.getHoverLI();\n\n          if (!isNullOrUndefined(item)) {\n            item.classList.remove(HOVER);\n          }\n        } else {\n          this.hide(e);\n          e.preventDefault();\n        }\n\n        break;\n    }\n  };\n\n  DateRangePicker.prototype.listMoveDown = function (e) {\n    var hvrItem = this.getHoverLI();\n    var actItem = this.getActiveLI();\n\n    if (!isNullOrUndefined(hvrItem)) {\n      var li = hvrItem.nextElementSibling;\n\n      if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n        removeClass([hvrItem], HOVER);\n        addClass([li], HOVER);\n      }\n    } else if (!isNullOrUndefined(actItem)) {\n      var li = actItem.nextElementSibling;\n\n      if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n        addClass([li], HOVER);\n      }\n    } else {\n      addClass([this.liCollections[0]], HOVER);\n    }\n  };\n\n  DateRangePicker.prototype.listMoveUp = function (e) {\n    var hvrItem = this.getHoverLI();\n    var actItem = this.getActiveLI();\n\n    if (!isNullOrUndefined(hvrItem)) {\n      var li = hvrItem.previousElementSibling;\n\n      if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n        removeClass([hvrItem], HOVER);\n        addClass([li], HOVER);\n      }\n    } else if (!isNullOrUndefined(actItem)) {\n      var li = actItem.previousElementSibling;\n\n      if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n        addClass([li], HOVER);\n      }\n    }\n  };\n\n  DateRangePicker.prototype.getHoverLI = function () {\n    var item = this.presetElement.querySelector('.' + HOVER);\n    return item;\n  };\n\n  DateRangePicker.prototype.getActiveLI = function () {\n    var item = this.presetElement.querySelector('.' + ACTIVE);\n    return item;\n  };\n\n  DateRangePicker.prototype.popupKeyBoardHandler = function () {\n    this.popupKeyboardModule = new KeyboardEvents(this.popupWrapper, {\n      eventName: 'keydown',\n      keyAction: this.popupKeyActionHandle.bind(this),\n      keyConfigs: {\n        escape: 'escape'\n      }\n    });\n    this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n    this.popupKeyboardModule = new KeyboardEvents(this.inputWrapper.container.children[1], {\n      eventName: 'keydown',\n      keyAction: this.popupKeyActionHandle.bind(this),\n      keyConfigs: this.keyInputConfigs\n    });\n  };\n\n  DateRangePicker.prototype.setScrollPosition = function () {\n    var listHeight = this.presetElement.getBoundingClientRect().height;\n    var hover = this.presetElement.querySelector('.' + HOVER);\n    var active = this.presetElement.querySelector('.' + ACTIVE);\n    var element = !isNullOrUndefined(hover) ? hover : active;\n\n    if (!isNullOrUndefined(element)) {\n      var nextEle = element.nextElementSibling;\n      var height = nextEle ? nextEle.offsetTop : element.offsetTop;\n      var liHeight = element.getBoundingClientRect().height;\n\n      if (height + element.offsetTop > listHeight) {\n        this.presetElement.scrollTop = nextEle ? height - (listHeight / 2 + liHeight / 2) : height;\n      } else {\n        this.presetElement.scrollTop = 0;\n      }\n    }\n  };\n\n  DateRangePicker.prototype.popupKeyActionHandle = function (e) {\n    var presetElement = closest(e.target, '.' + PRESETS);\n\n    switch (e.action) {\n      case 'escape':\n        if (this.isPopupOpen()) {\n          if (this.isKeyPopup) {\n            this.inputElement.focus();\n            this.isKeyPopup = false;\n          }\n\n          this.hide(e);\n        } else {\n          this.inputWrapper.container.children[1].blur();\n        }\n\n        break;\n\n      case 'enter':\n        if (!this.isPopupOpen()) {\n          this.show(null, e);\n        } else {\n          this.inputWrapper.container.children[1].focus();\n        }\n\n        break;\n\n      case 'tab':\n        this.hide(e);\n        break;\n\n      case 'altRightArrow':\n        if (!isNullOrUndefined(presetElement)) {\n          this.cancelButton.element.focus();\n        } else {\n          if (document.activeElement === this.cancelButton.element && this.applyButton.element.disabled !== true) {\n            this.applyButton.element.focus();\n          } else {\n            this.leftCalendar.children[1].firstElementChild.focus();\n          }\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'altLeftArrow':\n        if (!isNullOrUndefined(presetElement)) {\n          this.rightCalendar.children[1].firstElementChild.focus();\n        } else {\n          if (document.activeElement === this.applyButton.element && this.applyButton.element.disabled !== true) {\n            this.cancelButton.element.focus();\n          } else {\n            if (!isNullOrUndefined(this.presetElement) && document.activeElement === this.cancelButton.element) {\n              this.presetElement.focus();\n            } else {\n              this.rightCalendar.children[1].firstElementChild.focus();\n            }\n          }\n        }\n\n        e.preventDefault();\n        break;\n    }\n  };\n\n  DateRangePicker.prototype.documentHandler = function (e) {\n    if (isNullOrUndefined(this.popupObj)) {\n      return;\n    }\n\n    var target = e.target;\n\n    if (!this.inputWrapper.container.contains(target) || !isNullOrUndefined(this.popupObj) && !closest(target, this.popupWrapper.id)) {\n      if (e.type !== 'touchstart' && (e.type === 'mousedown' || this.closeEventArgs && !this.closeEventArgs.cancel)) {\n        e.preventDefault();\n      }\n    }\n\n    if ((isNullOrUndefined(this.targetElement) || !isNullOrUndefined(this.targetElement) && !(target === this.targetElement)) && !closest(target, '#' + this.popupObj.element.id) && !(closest(target, '.' + INPUTCONTAINER) === this.inputWrapper.container) && !(closest(target, '.e-daterangepicker.e-popup') && !target.classList.contains('e-day'))) {\n      this.preventBlur = false;\n\n      if (this.isPopupOpen()) {\n        this.applyFunction(e);\n\n        if (!this.isMobile) {\n          this.isRangeIconClicked = false;\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.createInput = function () {\n    this.inputWrapper = Input.createInput({\n      floatLabelType: this.floatLabelType,\n      element: this.inputElement,\n      properties: {\n        readonly: this.readonly,\n        placeholder: this.placeholder,\n        cssClass: this.cssClass,\n        enabled: this.enabled,\n        enableRtl: this.enableRtl,\n        showClearButton: this.showClearButton\n      },\n      buttons: [DATERANGEICON]\n    }, this.createElement);\n    attributes(this.inputElement, {\n      'aria-readonly': this.readonly ? 'true' : 'false',\n      'tabindex': '0',\n      'aria-haspopup': 'true',\n      'aria-activedescendant': 'null',\n      'aria-owns': this.element.id + '_popup',\n      'aria-expanded': 'false',\n      'role': 'combobox',\n      'autocomplete': 'off',\n      'aria-disabled': !this.enabled ? 'true' : 'false',\n      'autocorrect': 'off',\n      'autocapitalize': 'off',\n      'spellcheck': 'false'\n    });\n    Input.addAttributes({\n      'aria-label': 'select'\n    }, this.inputWrapper.buttons[0]);\n\n    if (!isNullOrUndefined(this.placeholder) && this.placeholder.trim() !== '') {\n      Input.addAttributes({\n        'aria-placeholder': this.placeholder\n      }, this.inputElement);\n    }\n\n    this.setEleWidth(this.width);\n    addClass([this.inputWrapper.container], DATERANGEWRAPPER);\n\n    if (isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n      attributes(this.inputElement, {\n        'name': this.element.id\n      });\n    }\n\n    if (this.inputElement.type === 'hidden') {\n      this.inputWrapper.container.style.display = 'none';\n    }\n\n    this.refreshControl();\n    this.previousEleValue = this.inputElement.value;\n    this.inputElement.setAttribute('value', this.inputElement.value);\n    this.startCopy = this.startDate;\n    this.endCopy = this.endDate;\n  };\n\n  DateRangePicker.prototype.setEleWidth = function (width) {\n    if (typeof width === 'string') {\n      this.inputWrapper.container.style.width = this.width;\n    } else if (typeof width === 'number') {\n      this.inputWrapper.container.style.width = formatUnit(this.width);\n    } else {\n      this.inputWrapper.container.style.width = '100%';\n    }\n  };\n\n  DateRangePicker.prototype.adjustLongHeaderWidth = function () {\n    if (this.dayHeaderFormat === 'Wide') {\n      addClass([this.popupWrapper], DAYHEADERLONG);\n    }\n  };\n\n  DateRangePicker.prototype.refreshControl = function () {\n    this.validateMinMax();\n\n    if (this.strictMode) {\n      this.validateRangeStrict();\n    }\n\n    var isDisabled = this.disabledDates();\n\n    if (this.strictMode && isDisabled) {\n      this.startValue = this.previousStartValue;\n      this.setProperties({\n        startDate: this.startValue\n      }, true);\n      this.endValue = this.previousEndValue;\n      this.setProperties({\n        endDate: this.endValue\n      }, true);\n      this.setValue();\n    }\n\n    this.updateInput();\n\n    if (!this.strictMode) {\n      this.validateRange();\n    }\n\n    if (!this.strictMode && isDisabled) {\n      this.clearRange();\n    }\n\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !isDisabled) {\n      this.disabledDateRender();\n    }\n\n    this.errorClass();\n    this.previousStartValue = isNullOrUndefined(this.startValue) || isNaN(+this.startValue) ? null : new Date(+this.startValue);\n    this.previousEndValue = isNullOrUndefined(this.endValue) || isNaN(+this.endValue) ? null : new Date(+this.endValue);\n  };\n\n  DateRangePicker.prototype.updateInput = function () {\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n      var formatOption = {\n        format: this.formatString,\n        type: 'date',\n        skeleton: 'yMd'\n      };\n      var startDate = this.globalize.formatDate(this.startValue, formatOption);\n      var endDate = this.globalize.formatDate(this.endValue, formatOption);\n      Input.setValue(startDate + ' ' + this.separator + ' ' + endDate, this.inputElement, this.floatLabelType, this.showClearButton);\n      this.previousStartValue = new Date(+this.startValue);\n      this.previousEndValue = new Date(+this.endValue);\n    }\n\n    if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n      Input.setValue(this.invalidValueString, this.inputElement, this.floatLabelType, this.showClearButton);\n    }\n  };\n\n  DateRangePicker.prototype.checkInvalidRange = function (value) {\n    if (!isNullOrUndefined(value)) {\n      var invalid = false;\n      var startinvalue = void 0;\n      var endinvalue = void 0;\n      var startString = null;\n      var endString = null;\n      var valueString = null;\n      var startObject = false;\n      var endObject = false;\n      var invalidobject = false;\n\n      if (typeof value === 'string') {\n        var range = value.split(' ' + this.separator + ' ');\n\n        if (range.length === 2) {\n          startString = range[0];\n          endString = range[1];\n        } else {\n          invalid = true;\n          valueString = value;\n        }\n      } else {\n        if (value.length > 0) {\n          startinvalue = value[0];\n          endinvalue = value[1];\n        } else {\n          startinvalue = value.start;\n          endinvalue = value.end;\n        }\n\n        if (!(startinvalue instanceof Date) && typeof startinvalue !== 'object') {\n          startString = this.getstringvalue(startinvalue);\n        } else if (startinvalue instanceof Date) {\n          startObject = true;\n        } else if (!isNullOrUndefined(startinvalue)) {\n          invalidobject = true;\n        }\n\n        if (!(endinvalue instanceof Date) && typeof endinvalue !== 'object') {\n          endString = this.getstringvalue(endinvalue);\n        } else if (endinvalue instanceof Date) {\n          endObject = true;\n        } else if (!isNullOrUndefined(endinvalue)) {\n          invalidobject = true;\n        }\n      }\n\n      if (isNullOrUndefined(startString) && !startObject && !isNullOrUndefined(endString) || !isNullOrUndefined(startString) && !endObject && isNullOrUndefined(endString)) {\n        invalid = true;\n      }\n\n      if (invalidobject) {\n        startString = endString = valueString = null;\n        invalid = true;\n      }\n\n      if (startString) {\n        invalid = invalid || this.checkInvalidValue(startString);\n      }\n\n      if (endString) {\n        invalid = invalid || this.checkInvalidValue(endString);\n      }\n\n      if (invalid) {\n        if (startObject && !invalidobject) {\n          startString = startinvalue.toLocaleDateString();\n        }\n\n        if (endObject && !invalidobject) {\n          endString = endinvalue.toLocaleDateString();\n        }\n\n        if (!isNullOrUndefined(startString) && !isNullOrUndefined(endString)) {\n          valueString = startString + ' ' + this.separator + ' ' + endString;\n        } else if (!isNullOrUndefined(startString)) {\n          valueString = startString;\n        } else if (!isNullOrUndefined(endString)) {\n          valueString = endString;\n        }\n\n        this.invalidValueString = valueString;\n        this.setProperties({\n          value: null\n        }, true);\n        this.setProperties({\n          startValue: null\n        }, true);\n        this.setProperties({\n          endValue: null\n        }, true);\n        this.startDate = null;\n        this.endDate = null;\n      }\n    }\n  };\n\n  DateRangePicker.prototype.getstringvalue = function (value) {\n    var stringValue = null;\n\n    if (!isNullOrUndefined(value) && typeof value === 'number') {\n      stringValue = value.toString();\n    } else if (!isNullOrUndefined(value) && typeof value === 'string') {\n      stringValue = '' + value;\n    }\n\n    return stringValue;\n  };\n\n  DateRangePicker.prototype.checkInvalidValue = function (value) {\n    var valueString = value;\n    var invalid = false;\n    var formatOpt = null;\n    formatOpt = {\n      format: this.formatString,\n      type: 'date',\n      skeleton: 'yMd'\n    };\n\n    if (typeof valueString !== 'string') {\n      invalid = true;\n    } else {\n      var globalize = new Internationalization(this.locale);\n\n      if (!this.checkDateValue(globalize.parseDate(valueString, formatOpt))) {\n        var extISOStr = null;\n        var basISOString = null; // tslint:disable-next-line\n\n        extISOStr = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/; // tslint:disable-next-line\n\n        basISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n\n        if (!extISOStr.test(valueString) && !basISOString.test(valueString) || /^[a-zA-Z0-9- ]*$/.test(valueString) || isNaN(+new Date(this.checkValue(valueString)))) {\n          invalid = true;\n        }\n      }\n    }\n\n    return invalid;\n  };\n\n  DateRangePicker.prototype.isDateDisabled = function (date) {\n    if (isNullOrUndefined(date)) {\n      return false;\n    }\n\n    var value = new Date(+date);\n\n    if (+value < +this.min || +value > +this.max) {\n      return true;\n    }\n\n    this.virtualRenderCellArgs = {\n      date: value,\n      isDisabled: false\n    };\n    var args = this.virtualRenderCellArgs;\n    this.virtualRenderCellEvent(args);\n\n    if (args.isDisabled) {\n      return true;\n    }\n\n    return false;\n  };\n\n  DateRangePicker.prototype.disabledDateRender = function () {\n    this.disabledDays = [];\n    this.disabledDayCnt = null;\n    var localDate = new Date(+this.startValue);\n    var count = 0;\n\n    while (+localDate <= +this.endValue) {\n      this.virtualRenderCellArgs = {\n        date: localDate,\n        isDisabled: false\n      };\n      var args = this.virtualRenderCellArgs;\n      this.virtualRenderCellEvent(args);\n\n      if (args.isDisabled) {\n        this.disabledDays.push(new Date(+args.date));\n\n        if (+localDate > +this.startValue && +localDate < +this.endValue) {\n          count++;\n        }\n      }\n\n      this.addDay(localDate, 1, null, this.max, this.min);\n    }\n\n    this.disabledDayCnt = count;\n  };\n\n  DateRangePicker.prototype.virtualRenderCellEvent = function (args) {\n    extend(this.virtualRenderCellArgs, {\n      name: 'renderDayCell'\n    });\n    this.trigger('renderDayCell', args);\n  };\n\n  DateRangePicker.prototype.disabledDates = function () {\n    var isStartDisabled = false;\n    var isEndDisabled = false;\n\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n      isStartDisabled = this.isDateDisabled(this.startValue);\n      isEndDisabled = this.isDateDisabled(this.endValue);\n      this.currentDate = null;\n      this.setValue();\n    }\n\n    return isStartDisabled || isEndDisabled;\n  };\n\n  DateRangePicker.prototype.setModelValue = function () {\n    if (!this.value && this.startDate === null && this.endDate === null) {\n      this.setProperties({\n        value: null\n      }, true);\n    } else if (this.value === null || this.value.start === null) {\n      if (this.value === null) {\n        this.setProperties({\n          value: [this.startDate, this.endDate]\n        }, true);\n      } else if (this.value.start === null) {\n        this.setProperties({\n          value: {\n            start: this.startDate,\n            end: this.endDate\n          }\n        }, true);\n      }\n    } else {\n      if (this.value && this.value.length > 0 || this.valueType && this.valueType.length > 0) {\n        if (+this.startDate !== +this.value[0] || +this.endDate !== +this.value[1]) {\n          this.setProperties({\n            value: [this.startDate, this.endDate]\n          }, true);\n        }\n\n        if (this.value && this.value[0] == null && this.value[1] == null) {\n          this.setProperties({\n            value: null\n          }, true);\n        }\n      } else {\n        if (this.value && this.value.start) {\n          this.setProperties({\n            value: {\n              start: this.startDate,\n              end: this.endDate\n            }\n          }, true);\n        }\n      }\n    }\n\n    this.createHiddenInput();\n  };\n  /**\n   * To dispatch the event manually\n   */\n\n\n  DateRangePicker.prototype.dispatchEvent = function (element, type) {\n    var evt = document.createEvent('HTMLEvents');\n    evt.initEvent(type, false, true);\n    element.dispatchEvent(evt);\n    this.firstHiddenChild.dispatchEvent(evt);\n  };\n\n  DateRangePicker.prototype.changeTrigger = function (e) {\n    if (+this.initStartDate !== +this.startValue || +this.initEndDate !== +this.endValue) {\n      this.setProperties({\n        endDate: this.checkDateValue(this.endValue)\n      }, true);\n      this.setProperties({\n        startDate: this.checkDateValue(this.startValue)\n      }, true);\n      this.setModelValue();\n      this.trigger('change', this.rangeArgs(e));\n    }\n\n    this.previousEleValue = this.inputElement.value;\n    this.initStartDate = this.checkDateValue(this.startValue);\n    this.initEndDate = this.checkDateValue(this.endValue);\n  };\n  /**\n   * This method is used to navigate to the month/year/decade view of the Calendar.\n   * @param  {string} view - Specifies the view of the Calendar.\n   * @param  {Date} date - Specifies the focused date in a view.\n   * @returns void\n   * @hidden\n   */\n\n\n  DateRangePicker.prototype.navigateTo = function (view, date) {\n    if (this.isPopupOpen()) {\n      if (view.toLowerCase() === 'month') {\n        view = 'Month';\n      } else if (view.toLowerCase() === 'year') {\n        view = 'Year';\n      } else if (view.toLowerCase() === 'decade') {\n        view = 'Decade';\n      } else {\n        return;\n      }\n\n      if (this.getViewNumber(view) < this.getViewNumber(this.depth)) {\n        view = this.depth;\n      }\n\n      if (this.isMobile) {\n        _super.prototype.navigateTo.call(this, view, date);\n      } else {\n        if (date < this.min) {\n          date = new Date(+this.min);\n        } else if (date >= this.max) {\n          date = new Date(+this.max);\n        }\n\n        if (view === 'Month' && this.isSameMonth(date, this.max)) {\n          date = new Date(this.max.getFullYear(), this.max.getMonth() - 1, this.min.getDate());\n        } else if (view === 'Year' && this.isSameYear(date, this.max)) {\n          date = new Date(this.max.getFullYear() - 1, this.max.getMonth(), this.max.getDate());\n        } else if (view === 'Decade' && this.isSameDecade(date, this.max)) {\n          date = new Date(this.max.getFullYear() - 10, this.max.getMonth(), this.max.getDate());\n        }\n\n        this.leftCalCurrentDate = date;\n        this.navigate(this.leftCalendar, this.leftCalCurrentDate, view);\n\n        if (view === 'Month') {\n          date = new Date(this.currentDate.setMonth(this.currentDate.getMonth() + 1));\n        } else if (view === 'Year') {\n          date = new Date(this.currentDate.setFullYear(this.currentDate.getFullYear() + 1));\n        } else {\n          date = new Date(this.currentDate.setFullYear(this.currentDate.getFullYear() + 10));\n        }\n\n        this.rightCalCurrentDate = date;\n        this.navigate(this.rightCalendar, this.rightCalCurrentDate, view);\n        this.leftKeyboardModule = this.rightKeyboardModule = null;\n        this.updateNavIcons();\n      }\n\n      if (this.currentView() === this.depth) {\n        this.bindCalendarCellEvents();\n      }\n\n      this.removeFocusedDate();\n      this.updateRange(this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]);\n    }\n  };\n\n  DateRangePicker.prototype.navigate = function (calendar, date, view) {\n    this.calendarElement = calendar;\n    this.table = calendar.querySelector('table');\n    this.tableBodyElement = calendar.querySelector('tbody');\n    this.headerTitleElement = calendar.querySelector('.e-title');\n    this.tableHeadElement = calendar.querySelector('thead');\n    this.contentElement = calendar.querySelector('.e-content');\n    this.previousIcon = calendar.querySelector('.e-prev');\n    this.nextIcon = calendar.querySelector('.e-next');\n    this.effect = ZOOMIN;\n\n    _super.prototype.navigateTo.call(this, view, date);\n  };\n  /**\n   * Sets the focus to widget for interaction.\n   * @returns void\n   */\n\n\n  DateRangePicker.prototype.focusIn = function () {\n    if (document.activeElement !== this.inputElement && this.enabled) {\n      addClass([this.inputWrapper.container], [INPUTFOCUS]);\n      this.inputElement.focus();\n      var focusArguments = {\n        model: this\n      };\n    }\n  };\n  /**\n   * Remove the focus from widget, if the widget is in focus state.\n   * @returns void\n   */\n\n\n  DateRangePicker.prototype.focusOut = function () {\n    var isBlur = this.preventBlur;\n\n    if (document.activeElement === this.inputElement) {\n      removeClass([this.inputWrapper.container], [INPUTFOCUS]);\n      this.preventBlur = false;\n      this.inputElement.blur();\n      this.preventBlur = isBlur;\n    }\n  };\n  /**\n   * To destroy the widget.\n   * @returns void\n   */\n\n\n  DateRangePicker.prototype.destroy = function () {\n    this.hide(null);\n    var ariaAttrs = {\n      'aria-readonly': this.readonly ? 'true' : 'false',\n      'tabindex': '0',\n      'aria-haspopup': 'true',\n      'aria-activedescendant': 'null',\n      'aria-owns': this.element.id + '_popup',\n      'aria-expanded': 'false',\n      'role': 'combobox',\n      'autocomplete': 'off',\n      'aria-disabled': !this.enabled ? 'true' : 'false',\n      'autocorrect': 'off',\n      'autocapitalize': 'off',\n      'aria-invalid': 'false',\n      'spellcheck': 'false'\n    };\n\n    if (this.inputElement) {\n      removeClass([this.inputElement], [ROOT]);\n      EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n      Input.removeAttributes(ariaAttrs, this.inputElement);\n      !isNullOrUndefined(this.cloneElement.getAttribute('tabindex')) ? this.inputElement.setAttribute('tabindex', this.tabIndex) : this.inputElement.removeAttribute('tabindex');\n      this.ensureInputAttribute();\n      this.inputElement.classList.remove('e-input');\n\n      if (!isNullOrUndefined(this.inputWrapper)) {\n        EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler);\n\n        if (this.angularTag === null) {\n          this.inputWrapper.container.parentElement.appendChild(this.inputElement);\n        }\n\n        detach(this.inputWrapper.container);\n      }\n    }\n\n    if (!isNullOrUndefined(this.inputKeyboardModule) && !this.isMobile) {\n      this.inputKeyboardModule.destroy();\n    }\n\n    if (this.popupObj) {\n      if (!this.isMobile) {\n        this.clearCalendarEvents();\n      }\n    }\n\n    _super.prototype.destroy.call(this);\n\n    this.inputWrapper = this.popupWrapper = this.popupObj = this.cloneElement = this.presetElement = null;\n\n    if (this.formElement) {\n      EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n    }\n\n    if (!isNullOrUndefined(this.firstHiddenChild) && !isNullOrUndefined(this.secondHiddenChild)) {\n      detach(this.firstHiddenChild);\n      detach(this.secondHiddenChild);\n      this.firstHiddenChild = this.secondHiddenChild = null;\n      this.inputElement.setAttribute('name', this.element.getAttribute('data-name'));\n      this.inputElement.removeAttribute('data-name');\n    }\n  };\n\n  DateRangePicker.prototype.ensureInputAttribute = function () {\n    var attr = [];\n\n    for (var i = 0; i < this.inputElement.attributes.length; i++) {\n      attr[i] = this.inputElement.attributes[i].name;\n    }\n\n    for (var i = 0; i < attr.length; i++) {\n      if (isNullOrUndefined(this.cloneElement.getAttribute(attr[i]))) {\n        if (attr[i].toLowerCase() === 'value') {\n          this.inputElement.value = '';\n        }\n\n        this.inputElement.removeAttribute(attr[i]);\n      } else {\n        if (attr[i].toLowerCase() === 'value') {\n          this.inputElement.value = this.cloneElement.getAttribute(attr[i]);\n        }\n\n        this.inputElement.setAttribute(attr[i], this.cloneElement.getAttribute(attr[i]));\n      }\n    }\n  };\n  /**\n   * To get component name\n   * @returns string\n   * @private\n   */\n\n\n  DateRangePicker.prototype.getModuleName = function () {\n    return 'daterangepicker';\n  };\n  /**\n   * Return the properties that are maintained upon browser refresh.\n   * @returns string\n   */\n\n\n  DateRangePicker.prototype.getPersistData = function () {\n    var keyEntity = ['startDate', 'endDate', 'value'];\n    return this.addOnPersist(keyEntity);\n  };\n  /**\n   * Return the selected range and day span in the DateRangePicker.\n   * @returns Object\n   */\n\n\n  DateRangePicker.prototype.getSelectedRange = function () {\n    var range;\n\n    if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n      range = Math.round(Math.abs((this.startValue.getTime() - this.endValue.getTime()) / (1000 * 60 * 60 * 24))) + 1;\n      this.disabledDateRender();\n\n      if (!isNullOrUndefined(this.disabledDayCnt)) {\n        range = range - this.disabledDayCnt;\n        this.disabledDayCnt = null;\n      }\n    } else {\n      range = 0;\n    }\n\n    return {\n      startDate: this.startValue,\n      endDate: this.endValue,\n      daySpan: range\n    };\n  };\n  /**\n   * To open the Popup container in the DateRangePicker component.\n   * @returns void\n   */\n\n\n  DateRangePicker.prototype.show = function (element, event) {\n    var _this = this;\n\n    if (this.isMobile && this.popupObj) {\n      this.popupObj.refreshPosition();\n    }\n\n    if (this.enabled && this.readonly || !this.enabled || this.popupObj) {\n      return;\n    } else {\n      if (!this.isPopupOpen()) {\n        if (element) {\n          this.targetElement = element;\n        }\n\n        this.createPopup();\n\n        if (this.isMobile || Browser.isDevice) {\n          this.mobileRangePopupWrap = this.createElement('div', {\n            className: 'e-daterangepick-mob-popup-wrap'\n          });\n          document.body.appendChild(this.mobileRangePopupWrap);\n        }\n\n        this.openEventArgs = {\n          popup: this.popupObj || null,\n          cancel: false,\n          date: this.inputElement.value,\n          model: this,\n          event: event ? event : null,\n          appendTo: this.isMobile || Browser.isDevice ? this.mobileRangePopupWrap : document.body\n        };\n        var eventArgs = this.openEventArgs;\n        this.trigger('open', eventArgs, function (eventArgs) {\n          _this.openEventArgs = eventArgs;\n\n          if (!_this.openEventArgs.cancel) {\n            _this.openEventArgs.appendTo.appendChild(_this.popupWrapper);\n\n            _this.showPopup(element, event);\n\n            var isPreset = !_this.isCustomRange || _this.isMobile && _this.isCustomRange;\n\n            if (!isUndefined(_this.presets[0].start && _this.presets[0].end && _this.presets[0].label) && isPreset) {\n              _this.setScrollPosition();\n            }\n\n            _this.checkMinMaxDays();\n\n            if (_this.isMobile && !isNullOrUndefined(_this.startDate) && isNullOrUndefined(_this.endDate)) {\n              _this.endButton.element.classList.add(ACTIVE);\n\n              _this.startButton.element.classList.remove(ACTIVE);\n\n              _this.endButton.element.removeAttribute('disabled');\n\n              _this.selectableDates();\n            }\n\n            _super.prototype.setOverlayIndex.call(_this, _this.mobileRangePopupWrap, _this.popupObj.element, _this.modal, _this.isMobile || Browser.isDevice);\n          }\n        });\n      }\n    }\n  };\n  /**\n   * To close the Popup container in the DateRangePicker component.\n   * @returns void\n   */\n\n\n  DateRangePicker.prototype.hide = function (event) {\n    var _this = this;\n\n    if (this.popupObj) {\n      if (isNullOrUndefined(this.previousEndValue) && isNullOrUndefined(this.previousStartValue)) {\n        this.clearRange();\n      } else {\n        if (!isNullOrUndefined(this.previousStartValue)) {\n          this.startValue = new Date(this.checkValue(this.previousStartValue));\n          this.setValue();\n          this.currentDate = new Date(this.checkValue(this.startValue));\n        } else {\n          this.startValue = null;\n          this.setValue();\n        }\n\n        if (!isNullOrUndefined(this.previousEndValue)) {\n          this.endValue = new Date(this.checkValue(this.previousEndValue));\n          this.setValue();\n        } else {\n          this.endValue = null;\n          this.setValue();\n        }\n      }\n\n      if (this.isPopupOpen()) {\n        this.closeEventArgs = {\n          cancel: false,\n          popup: this.popupObj,\n          date: this.inputElement.value,\n          model: this,\n          event: event ? event : null\n        };\n        var eventArgs = this.closeEventArgs;\n        this.trigger('close', eventArgs, function (eventArgs) {\n          _this.closeEventArgs = eventArgs;\n\n          if (!_this.closeEventArgs.cancel) {\n            if (_this.isMobile) {\n              if (!isNullOrUndefined(_this.startButton) && !isNullOrUndefined(_this.endButton)) {\n                EventHandler.remove(_this.startButton.element, 'click touchstart', _this.deviceHeaderClick);\n                EventHandler.remove(_this.endButton.element, 'click touchstart', _this.deviceHeaderClick);\n              }\n            }\n\n            if (_this.popupObj) {\n              _this.popupObj.hide();\n\n              if (_this.preventBlur) {\n                _this.inputElement.focus();\n\n                addClass([_this.inputWrapper.container], [INPUTFOCUS]);\n              }\n            }\n\n            if (!_this.isMobile) {\n              if (!isNullOrUndefined(_this.leftKeyboardModule) && !isNullOrUndefined(_this.rightKeyboardModule)) {\n                _this.leftKeyboardModule.destroy();\n\n                _this.rightKeyboardModule.destroy();\n              }\n\n              if (!isNullOrUndefined(_this.presetElement)) {\n                _this.presetKeyboardModule.destroy();\n              }\n\n              if (!isNullOrUndefined(_this.cancelButton)) {\n                _this.btnKeyboardModule.destroy();\n              }\n            }\n\n            _this.targetElement = null;\n            removeClass([document.body], OVERFLOW);\n            EventHandler.remove(document, 'mousedown touchstart', _this.documentHandler);\n\n            if (_this.isMobile && _this.modal) {\n              _this.modal.style.display = 'none';\n              _this.modal.outerHTML = '';\n              _this.modal = null;\n            }\n\n            if (_this.isMobile || Browser.isDevice) {\n              if (!isNullOrUndefined(_this.mobileRangePopupWrap)) {\n                _this.mobileRangePopupWrap.remove();\n\n                _this.mobileRangePopupWrap = null;\n              }\n            }\n\n            _this.isKeyPopup = _this.dateDisabled = false;\n          } else {\n            removeClass([_this.inputWrapper.buttons[0]], ACTIVE);\n          }\n\n          _this.updateClearIconState();\n\n          _this.updateHiddenInput();\n\n          if (_this.isMobile && _this.allowEdit && !_this.readonly) {\n            _this.inputElement.removeAttribute('readonly');\n          }\n        });\n      }\n    } else {\n      this.updateClearIconState();\n      this.updateHiddenInput();\n\n      if (this.isMobile && this.allowEdit && !this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n    }\n  };\n\n  DateRangePicker.prototype.setLocale = function () {\n    this.globalize = new Internationalization(this.locale);\n    this.l10n.setLocale(this.locale);\n    this.setProperties({\n      placeholder: this.l10n.getConstant('placeholder')\n    }, true);\n    Input.setPlaceholder(this.placeholder, this.inputElement);\n    this.updateInput();\n    this.updateHiddenInput();\n    this.changeTrigger();\n  };\n\n  DateRangePicker.prototype.refreshChange = function () {\n    this.checkView();\n    this.refreshControl();\n    this.changeTrigger();\n  };\n\n  DateRangePicker.prototype.setDate = function () {\n    Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n    this.refreshChange();\n  };\n\n  DateRangePicker.prototype.enableInput = function () {\n    if (+this.min <= +this.max) {\n      this.setProperties({\n        enabled: true\n      }, true);\n      Input.setEnabled(this.enabled, this.inputElement);\n\n      if (this.element.hasAttribute('disabled')) {\n        this.bindEvents();\n      }\n    }\n  };\n\n  DateRangePicker.prototype.clearModelvalue = function (newProp, oldProp) {\n    this.setProperties({\n      startDate: null\n    }, true);\n    this.setProperties({\n      endDate: null\n    }, true);\n\n    if (oldProp.value && oldProp.value.length > 0) {\n      this.setProperties({\n        value: null\n      }, true);\n    } else if (oldProp.value && oldProp.value.start) {\n      this.setProperties({\n        value: {\n          start: null,\n          end: null\n        }\n      }, true);\n    } else if (oldProp.value && !oldProp.value.start) {\n      this.setProperties({\n        value: {\n          start: null,\n          end: null\n        }\n      }, true);\n    }\n\n    this.updateValue();\n    this.setDate();\n  };\n\n  DateRangePicker.prototype.createHiddenInput = function () {\n    if (isNullOrUndefined(this.firstHiddenChild) && isNullOrUndefined(this.secondHiddenChild)) {\n      this.firstHiddenChild = this.createElement('input');\n      this.secondHiddenChild = this.createElement('input');\n    }\n\n    if (!isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n      this.inputElement.setAttribute('data-name', this.inputElement.getAttribute('name'));\n      this.inputElement.removeAttribute('name');\n    }\n\n    attributes(this.firstHiddenChild, {\n      'type': 'text',\n      'name': this.inputElement.getAttribute('data-name'),\n      'class': HIDDENELEMENT\n    });\n    attributes(this.secondHiddenChild, {\n      'type': 'text',\n      'name': this.inputElement.getAttribute('data-name'),\n      'class': HIDDENELEMENT\n    });\n    var format = {\n      type: 'datetime',\n      skeleton: 'yMd'\n    };\n    this.firstHiddenChild.value = this.startDate && this.globalize.formatDate(this.startDate, format);\n    this.secondHiddenChild.value = this.endDate && this.globalize.formatDate(this.endDate, format);\n    this.inputElement.parentElement.appendChild(this.firstHiddenChild);\n    this.inputElement.parentElement.appendChild(this.secondHiddenChild);\n  };\n  /**\n   * Called internally if any of the property value changed.\n   * returns void\n   * @private\n   */\n  // tslint:disable-next-line:max-func-body-length\n\n\n  DateRangePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var format = {\n      format: this.formatString,\n      type: 'date',\n      skeleton: 'yMd'\n    };\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      this.hide(null);\n\n      switch (prop) {\n        case 'width':\n          this.setEleWidth(this.width);\n          break;\n\n        case 'separator':\n          this.previousEleValue = this.inputElement.value;\n          this.setProperties({\n            separator: newProp.separator\n          }, true);\n          this.updateInput();\n          this.changeTrigger();\n          break;\n\n        case 'placeholder':\n          Input.setPlaceholder(newProp.placeholder, this.inputElement);\n          this.setProperties({\n            placeholder: newProp.placeholder\n          }, true);\n          break;\n\n        case 'readonly':\n          Input.setReadonly(this.readonly, this.inputElement);\n          this.inputElement.setAttribute('aria-readonly', '' + this.readonly);\n          this.setRangeAllowEdit();\n          break;\n\n        case 'cssClass':\n          Input.setCssClass(newProp.cssClass, [this.inputWrapper.container], oldProp.cssClass);\n\n          if (this.popupWrapper) {\n            Input.setCssClass(newProp.cssClass, [this.popupWrapper], oldProp.cssClass);\n          }\n\n          break;\n\n        case 'enabled':\n          this.setProperties({\n            enabled: newProp.enabled\n          }, true);\n          Input.setEnabled(this.enabled, this.inputElement);\n          this.bindEvents();\n          break;\n\n        case 'allowEdit':\n          this.setRangeAllowEdit();\n          break;\n\n        case 'enableRtl':\n          this.setProperties({\n            enableRtl: newProp.enableRtl\n          }, true);\n          Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n          break;\n\n        case 'zIndex':\n          this.setProperties({\n            zIndex: newProp.zIndex\n          }, true);\n          break;\n\n        case 'format':\n          this.setProperties({\n            format: newProp.format\n          }, true);\n          this.checkFormat();\n          this.updateInput();\n          this.changeTrigger();\n          break;\n\n        case 'locale':\n          this.globalize = new Internationalization(this.locale);\n          this.l10n.setLocale(this.locale);\n          this.setProperties({\n            placeholder: this.l10n.getConstant('placeholder')\n          }, true);\n          Input.setPlaceholder(this.placeholder, this.inputElement);\n          this.setLocale();\n          break;\n\n        case 'htmlAttributes':\n          this.updateHtmlAttributeToElement();\n          this.updateHtmlAttributeToWrapper();\n          this.setDataAttribute(true);\n          this.checkHtmlAttributes(true);\n          break;\n\n        case 'showClearButton':\n          Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n          this.bindClearEvent();\n          break;\n\n        case 'startDate':\n          if (typeof newProp.startDate === 'string') {\n            newProp.startDate = this.globalize.parseDate(newProp.startDate, format);\n          }\n\n          if (+this.initStartDate !== +newProp.startDate) {\n            this.startValue = this.checkDateValue(new Date(this.checkValue(newProp.startDate)));\n            this.setDate();\n            this.setValue();\n          }\n\n          break;\n\n        case 'endDate':\n          if (typeof newProp.endDate === 'string') {\n            newProp.endDate = this.globalize.parseDate(newProp.endDate, format);\n          }\n\n          if (+this.initEndDate !== +newProp.endDate) {\n            this.endValue = this.checkDateValue(new Date(this.checkValue(newProp.endDate)));\n            this.setDate();\n            this.setValue();\n          }\n\n          break;\n\n        case 'value':\n          this.invalidValueString = null;\n          this.checkInvalidRange(newProp.value);\n\n          if (typeof newProp.value === 'string') {\n            if (!this.invalidValueString) {\n              var rangeArray = newProp.value.split(' ' + this.separator + ' ');\n              this.value = [new Date(rangeArray[0]), new Date(rangeArray[1])];\n              this.updateValue();\n              this.setDate();\n            } else {\n              this.clearModelvalue(newProp, oldProp);\n            }\n          } else {\n            if (!isNullOrUndefined(newProp.value) && newProp.value.length > 0 || !isNullOrUndefined(newProp.value) && newProp.value.start) {\n              this.valueType = newProp.value;\n\n              if (newProp.value[0] === null || newProp.value.start === null) {\n                if (newProp.value.length === 1 || newProp.value.start) {\n                  this.clearModelvalue(newProp, oldProp);\n                } else if (newProp.value[1] === null || newProp.value.start === null) {\n                  this.clearModelvalue(newProp, oldProp);\n                }\n              } else if (+this.initStartDate !== +newProp.value[0] || +this.initEndDate !== +newProp.value[1] || +this.initStartDate !== +(newProp.value.start || +this.initEndDate !== +newProp.value.start)) {\n                if (newProp.value.length === 1) {\n                  this.modelValue = newProp.value;\n                } else if (newProp.value.start) {\n                  this.modelValue = newProp.value;\n                }\n\n                this.updateValue();\n                this.setDate();\n              }\n            } else {\n              if (isNullOrUndefined(this.value) || newProp.value.start == null) {\n                this.valueType = newProp.value;\n                this.startValue = null;\n                this.endValue = null;\n                this.clearModelvalue(newProp, oldProp);\n              }\n            }\n          }\n\n          break;\n\n        case 'minDays':\n          this.setProperties({\n            minDays: newProp.minDays\n          }, true);\n          this.refreshChange();\n          break;\n\n        case 'maxDays':\n          this.setProperties({\n            maxDays: newProp.maxDays\n          }, true);\n          this.refreshChange();\n          break;\n\n        case 'min':\n          this.setProperties({\n            min: this.checkDateValue(new Date(this.checkValue(newProp.min)))\n          }, true);\n          this.previousEleValue = this.inputElement.value;\n          this.enableInput();\n          this.refreshChange();\n          break;\n\n        case 'max':\n          this.setProperties({\n            max: this.checkDateValue(new Date(this.checkValue(newProp.max)))\n          }, true);\n          this.enableInput();\n          this.refreshChange();\n          break;\n\n        case 'strictMode':\n          this.invalidValueString = null;\n          this.setProperties({\n            strictMode: newProp.strictMode\n          }, true);\n          this.refreshChange();\n          break;\n\n        case 'presets':\n          this.setProperties({\n            presets: newProp.presets\n          }, true);\n          this.processPresets();\n          break;\n\n        case 'floatLabelType':\n          this.floatLabelType = newProp.floatLabelType;\n          Input.removeFloating(this.inputWrapper);\n          Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n          break;\n\n        case 'start':\n          this.setProperties({\n            start: newProp.start\n          }, true);\n          this.refreshChange();\n          break;\n\n        case 'depth':\n          this.setProperties({\n            depth: newProp.depth\n          }, true);\n          this.refreshChange();\n          break;\n      }\n    }\n  };\n\n  __decorate([Property(null)], DateRangePicker.prototype, \"value\", void 0);\n\n  __decorate([Property(false)], DateRangePicker.prototype, \"enablePersistence\", void 0);\n\n  __decorate([Property(new Date(1900, 0, 1))], DateRangePicker.prototype, \"min\", void 0);\n\n  __decorate([Property(new Date(2099, 11, 31))], DateRangePicker.prototype, \"max\", void 0);\n\n  __decorate([Property(null)], DateRangePicker.prototype, \"locale\", void 0);\n\n  __decorate([Property(null)], DateRangePicker.prototype, \"firstDayOfWeek\", void 0);\n\n  __decorate([Property(false)], DateRangePicker.prototype, \"weekNumber\", void 0);\n\n  __decorate([Property('Gregorian')], DateRangePicker.prototype, \"calendarMode\", void 0);\n\n  __decorate([Event()], DateRangePicker.prototype, \"created\", void 0);\n\n  __decorate([Event()], DateRangePicker.prototype, \"destroyed\", void 0);\n\n  __decorate([Event()], DateRangePicker.prototype, \"change\", void 0);\n\n  __decorate([Event()], DateRangePicker.prototype, \"cleared\", void 0);\n\n  __decorate([Event()], DateRangePicker.prototype, \"navigated\", void 0);\n\n  __decorate([Event()], DateRangePicker.prototype, \"renderDayCell\", void 0);\n\n  __decorate([Property(null)], DateRangePicker.prototype, \"startDate\", void 0);\n\n  __decorate([Property(null)], DateRangePicker.prototype, \"endDate\", void 0);\n\n  __decorate([Collection([{}], Presets)], DateRangePicker.prototype, \"presets\", void 0);\n\n  __decorate([Property('')], DateRangePicker.prototype, \"width\", void 0);\n\n  __decorate([Property(1000)], DateRangePicker.prototype, \"zIndex\", void 0);\n\n  __decorate([Property(true)], DateRangePicker.prototype, \"showClearButton\", void 0);\n\n  __decorate([Property(true)], DateRangePicker.prototype, \"showTodayButton\", void 0);\n\n  __decorate([Property('Month')], DateRangePicker.prototype, \"start\", void 0);\n\n  __decorate([Property('Month')], DateRangePicker.prototype, \"depth\", void 0);\n\n  __decorate([Property('')], DateRangePicker.prototype, \"cssClass\", void 0);\n\n  __decorate([Property('-')], DateRangePicker.prototype, \"separator\", void 0);\n\n  __decorate([Property(null)], DateRangePicker.prototype, \"minDays\", void 0);\n\n  __decorate([Property(null)], DateRangePicker.prototype, \"maxDays\", void 0);\n\n  __decorate([Property(false)], DateRangePicker.prototype, \"strictMode\", void 0);\n\n  __decorate([Property(null)], DateRangePicker.prototype, \"keyConfigs\", void 0);\n\n  __decorate([Property(null)], DateRangePicker.prototype, \"format\", void 0);\n\n  __decorate([Property(true)], DateRangePicker.prototype, \"enabled\", void 0);\n\n  __decorate([Property(false)], DateRangePicker.prototype, \"readonly\", void 0);\n\n  __decorate([Property(true)], DateRangePicker.prototype, \"allowEdit\", void 0);\n\n  __decorate([Property('Never')], DateRangePicker.prototype, \"floatLabelType\", void 0);\n\n  __decorate([Property(null)], DateRangePicker.prototype, \"placeholder\", void 0);\n\n  __decorate([Property({})], DateRangePicker.prototype, \"htmlAttributes\", void 0);\n\n  __decorate([Event()], DateRangePicker.prototype, \"open\", void 0);\n\n  __decorate([Event()], DateRangePicker.prototype, \"close\", void 0);\n\n  __decorate([Event()], DateRangePicker.prototype, \"select\", void 0);\n\n  __decorate([Event()], DateRangePicker.prototype, \"focus\", void 0);\n\n  __decorate([Event()], DateRangePicker.prototype, \"blur\", void 0);\n\n  DateRangePicker = __decorate([NotifyPropertyChanges], DateRangePicker);\n  return DateRangePicker;\n}(CalendarBase);\n\nexport { DateRangePicker };","map":{"version":3,"sources":["C:/CN2/workspace-trunk/kain-front-end/node_modules/@syncfusion/ej2-calendars/src/daterangepicker/daterangepicker.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Property","EventHandler","Internationalization","NotifyPropertyChanges","detach","getUniqueID","KeyboardEvents","Event","Browser","L10n","ChildProperty","addClass","createElement","remove","closest","select","prepend","removeClass","attributes","Collection","isNullOrUndefined","isUndefined","formatUnit","setValue","rippleEffect","merge","extend","CalendarBase","Popup","Button","Input","ListBase","cssClass","ListBaseClasses","DATERANGEWRAPPER","INPUTCONTAINER","DATERANGEICON","POPUP","LEFTCALENDER","RIGHTCALENDER","LEFTCONTAINER","RIGHTCONTAINER","ROOT","LIBRARY","CONTROL","ERROR","ACTIVE","STARTENDCONTAINER","STARTDATE","ENDDATE","STARTBUTTON","INPUTFOCUS","ENDBUTTON","RANGEHOVER","OTHERMONTH","STARTLABEL","ENDLABEL","DISABLED","SELECTED","CALENDAR","NEXTICON","PREVICON","HEADER","TITLE","ICONCONTAINER","RANGECONTAINER","RANGEHEADER","PRESETS","FOOTER","RANGEBORDER","TODAY","FOCUSDATE","CONTENT","DAYSPAN","WEEKNUMBER","DATEDISABLED","ICONDISABLED","CALENDARCONTAINER","SEPARATOR","APPLY","CANCEL","DEVICE","OVERLAY","CHANGEICON","LISTCLASS","li","RTL","HOVER","OVERFLOW","OFFSETVALUE","PRIMARY","FLAT","CSS","ZOOMIN","NONEDITABLE","DAYHEADERLONG","HIDDENELEMENT","wrapperAttr","Presets","_super","apply","DateRangePicker","options","element","_this","call","isCustomRange","isCustomWindow","presetsItem","liCollections","previousEleValue","isKeyPopup","dateDisabled","isRangeIconClicked","isMaxDaysClicked","disabledDays","preventBlur","preventFocus","invalidValueString","dateRangeOptions","render","initialize","setProperties","startDate","startValue","endDate","endValue","setModelValue","setDataAttribute","renderComplete","preRender","keyInputConfigs","altDownArrow","escape","enter","tab","altRightArrow","altLeftArrow","moveUp","moveDown","spacebar","defaultConstant","placeholder","startLabel","endLabel","customRange","applyText","cancelText","selectedDays","days","isMobile","window","matchMedia","matches","inputElement","angularTag","tagName","appendChild","cloneElement","cloneNode","updateHtmlAttributeToElement","getAttribute","id","checkInvalidRange","value","rangeArray","split","separator","Date","initProperty","tabIndex","hasAttribute","removeAttribute","navNextFunction","navNextMonth","bind","navPrevFunction","navPrevMonth","deviceNavNextFunction","deviceNavNext","deviceNavPrevFunction","deviceNavPrevious","initStartDate","checkDateValue","initEndDate","formElement","updateValue","dateOptions","format","formatString","type","skeleton","isNaN","checkValue","start","end","globalize","locale","checkFormat","checkView","firstDayOfWeek","getFirstDayOfWeek","skeletonString","getDatePattern","validationAttribute","checkHtmlAttributes","defaultKeyConfigs","shiftTab","min","max","l10n","setLocale","getConstant","processPresets","createInput","updateHtmlAttributeToWrapper","setRangeAllowEdit","bindEvents","isDynamic","name","htmlAttributes","_i","_a","keys","pro","indexOf","firstHiddenChild","setAttribute","secondHiddenChild","allowEdit","readonly","updateClearIconState","inputWrapper","container","input","attr","dateRangeStyle","presets","label","range","replace","push","text","activeIndex","enabled","add","buttons","rangeIconHandler","inputFocusHandler","inputBlurHandler","inputChangeHandler","showClearButton","clearButton","resetHandler","keyConfigs","inputKeyboardModule","eventName","keyAction","inputHandler","formResetHandler","destroy","updateHiddenInput","parseDate","formatDate","dispatchEvent","e","stopPropagation","bindClearEvent","valueType","preventDefault","clear","clearedArgs","event","trigger","changeTrigger","clearRange","hide","restoreValue","previousStartValue","previousEndValue","disabled","val","startCopy","endCopy","floatLabelType","errorClass","applyButton","removeSelection","targetElement","isPopupOpen","applyFunction","children","focus","show","leftCalendar","calendarFocus","attributes_1","prop","undefined","dateValue","minDays","parseInt","maxDays","createPopup","splice","setMilliseconds","popupWrapper","className","adjustLongHeaderWidth","isPreset","createPresets","listRippleEffect","renderPopup","renderControl","createControl","bindCalendarEvents","updateRange","calendarElement","rightCalendar","disabledDateRender","updateHeader","clearCalendarEvents","clearEvents","leftCalPrevIcon","leftCalNextIcon","rightCalPrevIcon","rightCalNextIcon","updateNavIcons","depth","currentView","leftDate","leftCalCurrentDate","iconState","compareYears","rightCalCurrentDate","compareDecades","compareMonths","previousIcon","nextIcon","nextIconHandler","previousIconHandler","calendarIconEvent","classList","contains","calendarIconRipple","headerTitleElement","popupObj","querySelector","leftKeyboardModule","keyInputHandler","rightKeyboardModule","deviceCalendarEvent","startButton","deviceHeaderClick","endButton","bindCalendarCellEvents","removeFocusedDate","selector","duration","isCenterRipple","calendar","updateDeviceCalendar","navigateNext","deviceNavigation","navigatePrevious","deviceCalendar","contentElement","tableBodyElement","table","getElementsByTagName","headerElement","currentTarget","currentDate","createContentBody","removeClassDisabled","updateMinMaxDays","selectableDates","focusArguments","model","trim","refreshControl","document","activeElement","blurArguments","strictMode","updateInput","inputStr","isDateDisabled","keyCalendarUpdate","isLeftCalendar","ele","updateCalendarElement","navInCalendar","leftLimit","rightLimit","view","getViewNumber","date","setDate","getDate","action","addDay","KeyboardNavigate","keyNavigation","firstDay","renderMonths","renderYears","renderDecades","lastDay","rightDateLimit","getFullYear","getMonth","leftDateLimit","selectedDate","focusedDate","depthValue","levelRestrict","presetElement","effect","selectRange","controlDown","contentClick","yearDate","navigateTo","firstElementChild","cancelButton","calendarNavigation","addMonths","addYears","checkMinMaxDays","presetHeight","tdCells","querySelectorAll","tdCells_1","cell","disabledCell","hoverSelection","isDate","focusedDate_1","today","eleDate","getIdValue","isSameMonth","isSameYear","currentElement","tdCells_2","isDisabledCell","startDateValue","eleDateValue","setHours","isSameStartEnd","startVal","endVal","isSame","elementCollection","elementCollection_1","tdCells_3","eleDateValue_1","addSelectedAttributes","endDateValue","rangeArgs","inputValue","Math","round","abs","getTime","args","daySpan","isInteracted","otherMonthSelect","isStartDate","sameDate","dateIdString","tdCell","y","m","firstMonth","lastMonth","getHours","setMinutes","getMinutes","setSeconds","getSeconds","endEle","endEle_1","ele_1","endEle_2","ele_2","removeSelectedAttributes","tdCells_4","tdCells_5","startMonth","startYear","minDate","maxDate","maxEle","tdCells_6","calendar_1","tdCells_7","disabledDayCnt","textContent","toString","title","start_1","end_1","updateControl","result","strtFullYr","enFullYr","createRangeHeader","labelContainer","changeIcon","endBtn","startBtn","content","disableInput","setEnabled","validateMinMax","validateRangeStrict","validateMinMaxDays","validateRange","renderCalendar","enableRtl","createHeader","createContent","isSameDecade","endYear","startMonthCurrentDate","setMonth","selectNextMonth","month","selectNextYear","yr","setFullYear","selectNextDecade","decyr","selectStartMonth","createCalendar","calendarContainer","leftTitle","leftContainer","rightContainer","leftNavTitle","rightTitle","rightNavTitle","validateDate","minMaxUpdate","prevIcon","tableHeadElement","navigateTitle","clickEventEmitter","getCalendarView","navigatedEvent","navigatedArgs","year","decYear","controlContainer","headerContainer","footerSection","cancelBtn","applyBtn","enable","cancelFunction","style","height","getBoundingClientRect","deviceHeaderUpdate","eve","isValueChanged","closeEventArgs","cancel","focusOut","popupKeyboardModule","popupKeyActionHandle","onMouseClick","item","isClick","setListSelection","onMouseOver","onMouseLeave","slice","values_1","renderCustomPopup","removeListSelection","values","applyPresetRange","modelValue","showPopup","zIndex","refreshPosition","openEventArgs","appendTo","attrs","listTag","createList","customElement","wireListEvents","width","unWireListEvents","popupWidth","modal","body","relateTo","position","X","Y","offsetX","offsetY","collision","targetType","open","btnKeyboardModule","presetKeyboardModule","presetKeyActionHandler","popupKeyBoardHandler","isDevice","popupCloseHandler","close","parentElement","targetExitViewport","display","documentHandler","keyCode","rangeContainer","listMoveDown","setScrollPosition","listMoveUp","hvrItem","getHoverLI","actItem","getActiveLI","nextElementSibling","previousElementSibling","listHeight","hover","active","nextEle","offsetTop","liHeight","scrollTop","blur","properties","addAttributes","setEleWidth","dayHeaderFormat","isDisabled","disabledDates","formatOption","invalid","startinvalue","endinvalue","startString","endString","valueString","startObject","endObject","invalidobject","getstringvalue","checkInvalidValue","toLocaleDateString","stringValue","formatOpt","extISOStr","basISOString","test","virtualRenderCellArgs","virtualRenderCellEvent","localDate","count","isStartDisabled","isEndDisabled","createHiddenInput","evt","createEvent","initEvent","toLowerCase","navigate","focusIn","isBlur","ariaAttrs","removeAttributes","ensureInputAttribute","getModuleName","getPersistData","keyEntity","addOnPersist","getSelectedRange","mobileRangePopupWrap","popup","eventArgs","setOverlayIndex","outerHTML","setPlaceholder","refreshChange","enableInput","clearModelvalue","newProp","oldProp","onPropertyChanged","setReadonly","setCssClass","setEnableRtl","setClearButton","removeFloating","addFloating"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../calendar/calendar-model.d.ts'/>\nimport { Property, EventHandler, Internationalization, NotifyPropertyChanges, detach, getUniqueID } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, Event, Browser, L10n, ChildProperty } from '@syncfusion/ej2-base';\nimport { addClass, createElement, remove, closest, select, prepend, removeClass, attributes, Collection } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, isUndefined, formatUnit, setValue, rippleEffect, merge, extend } from '@syncfusion/ej2-base';\nimport { CalendarBase } from '../calendar/calendar';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { ListBase, cssClass as ListBaseClasses } from '@syncfusion/ej2-lists';\nvar DATERANGEWRAPPER = 'e-date-range-wrapper';\nvar INPUTCONTAINER = 'e-input-group';\nvar DATERANGEICON = 'e-input-group-icon e-range-icon e-icons';\nvar POPUP = 'e-popup';\nvar LEFTCALENDER = 'e-left-calendar';\nvar RIGHTCALENDER = 'e-right-calendar';\nvar LEFTCONTAINER = 'e-left-container';\nvar RIGHTCONTAINER = 'e-right-container';\nvar ROOT = 'e-daterangepicker';\nvar LIBRARY = 'e-lib';\nvar CONTROL = 'e-control';\nvar ERROR = 'e-error';\nvar ACTIVE = 'e-active';\nvar STARTENDCONTAINER = 'e-start-end';\nvar STARTDATE = 'e-start-date';\nvar ENDDATE = 'e-end-date';\nvar STARTBUTTON = 'e-start-btn';\nvar INPUTFOCUS = 'e-input-focus';\nvar ENDBUTTON = 'e-end-btn';\nvar RANGEHOVER = 'e-range-hover';\nvar OTHERMONTH = 'e-other-month';\nvar STARTLABEL = 'e-start-label';\nvar ENDLABEL = 'e-end-label';\nvar DISABLED = 'e-disabled';\nvar SELECTED = 'e-selected';\nvar CALENDAR = 'e-calendar';\nvar NEXTICON = 'e-next';\nvar PREVICON = 'e-prev';\nvar HEADER = 'e-header';\nvar TITLE = 'e-title';\nvar ICONCONTAINER = 'e-icon-container';\nvar RANGECONTAINER = 'e-date-range-container';\nvar RANGEHEADER = 'e-range-header';\nvar PRESETS = 'e-presets';\nvar FOOTER = 'e-footer';\nvar RANGEBORDER = 'e-range-border';\nvar TODAY = 'e-today';\nvar FOCUSDATE = 'e-focused-date';\nvar CONTENT = 'e-content';\nvar DAYSPAN = 'e-day-span';\nvar WEEKNUMBER = 'e-week-number';\nvar DATEDISABLED = 'e-date-disabled';\nvar ICONDISABLED = 'e-icon-disabled';\nvar CALENDARCONTAINER = 'e-calendar-container';\nvar SEPARATOR = 'e-separator';\nvar APPLY = 'e-apply';\nvar CANCEL = 'e-cancel';\nvar DEVICE = 'e-device';\nvar OVERLAY = 'e-overlay';\nvar CHANGEICON = 'e-change-icon e-icons';\nvar LISTCLASS = ListBaseClasses.li;\nvar RTL = 'e-rtl';\nvar HOVER = 'e-hover';\nvar OVERFLOW = 'e-range-overflow';\nvar OFFSETVALUE = 4;\nvar PRIMARY = 'e-primary';\nvar FLAT = 'e-flat';\nvar CSS = 'e-css';\nvar ZOOMIN = 'e-zoomin';\nvar NONEDITABLE = 'e-non-edit';\nvar DAYHEADERLONG = 'e-daterange-day-header-lg';\nvar HIDDENELEMENT = 'e-daterange-hidden';\nvar wrapperAttr = ['title', 'class', 'style'];\nvar Presets = /** @class */ (function (_super) {\n    __extends(Presets, _super);\n    function Presets() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], Presets.prototype, \"label\", void 0);\n    __decorate([\n        Property()\n    ], Presets.prototype, \"start\", void 0);\n    __decorate([\n        Property()\n    ], Presets.prototype, \"end\", void 0);\n    return Presets;\n}(ChildProperty));\nexport { Presets };\n/**\n * Represents the DateRangePicker component that allows user to select the date range from the calendar\n * or entering the range through the input element.\n * ```html\n * <input id=\"daterangepicker\"/>\n * ```\n * ```typescript\n * <script>\n *   var dateRangePickerObj = new DateRangePicker({ startDate: new Date(\"05/07/2017\"), endDate: new Date(\"10/07/2017\") });\n *   dateRangePickerObj.appendTo(\"#daterangepicker\");\n * </script>\n * ```\n */\nvar DateRangePicker = /** @class */ (function (_super) {\n    __extends(DateRangePicker, _super);\n    /**\n     * Constructor for creating the widget\n     */\n    function DateRangePicker(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isCustomRange = false;\n        _this.isCustomWindow = false;\n        _this.presetsItem = [];\n        _this.liCollections = [];\n        _this.previousEleValue = '';\n        _this.isKeyPopup = false;\n        _this.dateDisabled = false;\n        _this.isRangeIconClicked = false;\n        _this.isMaxDaysClicked = false;\n        _this.disabledDays = [];\n        _this.preventBlur = false;\n        _this.preventFocus = false;\n        _this.invalidValueString = null;\n        _this.dateRangeOptions = options;\n        return _this;\n    }\n    /**\n     * To Initialize the control rendering.\n     * @return void\n     * @private\n     */\n    DateRangePicker.prototype.render = function () {\n        this.initialize();\n        this.setProperties({ startDate: this.startValue }, true);\n        this.setProperties({ endDate: this.endValue }, true);\n        this.setModelValue();\n        this.setDataAttribute(false);\n        this.renderComplete();\n    };\n    /**\n     * Initialize the event handler\n     * @returns void\n     * @private\n     */\n    DateRangePicker.prototype.preRender = function () {\n        this.keyInputConfigs = {\n            altDownArrow: 'alt+downarrow',\n            escape: 'escape',\n            enter: 'enter',\n            tab: 'tab',\n            altRightArrow: 'alt+rightarrow',\n            altLeftArrow: 'alt+leftarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            spacebar: 'space'\n        };\n        this.defaultConstant = {\n            placeholder: this.placeholder,\n            startLabel: 'Start Date',\n            endLabel: 'End Date',\n            customRange: 'Custom Range',\n            applyText: 'Apply',\n            cancelText: 'Cancel',\n            selectedDays: 'Selected Days',\n            days: 'days'\n        };\n        /**\n         * Mobile View\n         */\n        this.isMobile = window.matchMedia('(max-width:550px)').matches;\n        this.inputElement = this.element;\n        this.angularTag = null;\n        if (this.element.tagName === 'EJS-DATERANGEPICKER') {\n            this.angularTag = this.element.tagName;\n            this.inputElement = this.createElement('input');\n            this.element.appendChild(this.inputElement);\n        }\n        this.cloneElement = this.element.cloneNode(true);\n        removeClass([this.cloneElement], [ROOT, CONTROL, LIBRARY]);\n        this.updateHtmlAttributeToElement();\n        if (this.element.getAttribute('id')) {\n            if (this.angularTag !== null) {\n                this.inputElement.id = this.element.getAttribute('id') + '_input';\n            }\n        }\n        else {\n            this.element.id = getUniqueID('ej2-datetimepicker');\n            if (this.angularTag !== null) {\n                attributes(this.inputElement, { 'id': this.element.id + '_input' });\n            }\n        }\n        this.checkInvalidRange(this.value);\n        if (!this.invalidValueString && (typeof (this.value) === 'string')) {\n            var rangeArray = this.value.split(' ' + this.separator + ' ');\n            this.value = [new Date(rangeArray[0]), new Date(rangeArray[1])];\n        }\n        this.initProperty();\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        this.element.removeAttribute('tabindex');\n        _super.prototype.preRender.call(this);\n        this.navNextFunction = this.navNextMonth.bind(this);\n        this.navPrevFunction = this.navPrevMonth.bind(this);\n        this.deviceNavNextFunction = this.deviceNavNext.bind(this);\n        this.deviceNavPrevFunction = this.deviceNavPrevious.bind(this);\n        this.initStartDate = this.checkDateValue(this.startValue);\n        this.initEndDate = this.checkDateValue(this.endValue);\n        this.formElement = closest(this.element, 'form');\n    };\n    ;\n    DateRangePicker.prototype.updateValue = function () {\n        var dateOptions = { format: this.formatString, type: 'date', skeleton: 'yMd' };\n        if (this.value && this.value.length > 0) {\n            if (this.value[0] instanceof Date && !isNaN(+this.value[0])) {\n                this.setProperties({ startDate: this.value[0] }, true);\n                this.startValue = this.value[0];\n            }\n            else if (typeof this.value[0] === 'string') {\n                if (+this.value[0] === 0 || isNaN(+(new Date(this.checkValue(this.value[0]))))) {\n                    this.startValue = null;\n                    this.setValue();\n                }\n                else {\n                    this.setProperties({ startDate: new Date(this.checkValue(this.value[0])) }, true);\n                    this.startValue = new Date(this.checkValue(this.value[0]));\n                }\n            }\n            else {\n                this.startValue = null;\n                this.setValue();\n            }\n            if (this.value[1] instanceof Date && !isNaN(+this.value[1])) {\n                this.setProperties({ endDate: this.value[1] }, true);\n                this.endValue = this.value[1];\n            }\n            else if (typeof this.value[1] === 'string') {\n                if (+this.value[0] === 0 || isNaN(+(new Date(this.checkValue(this.value[0]))))) {\n                    this.setProperties({ endDate: null }, true);\n                    this.endValue = null;\n                    this.setValue();\n                }\n                else {\n                    this.setProperties({ endDate: new Date(this.checkValue(this.value[1])) }, true);\n                    this.endValue = new Date(this.checkValue(this.value[1]));\n                    this.setValue();\n                }\n            }\n            else {\n                this.setProperties({ endDate: null }, true);\n                this.endValue = null;\n                this.setValue();\n            }\n        }\n        else if (this.value && this.value.start) {\n            if (this.value.start instanceof Date && !isNaN(+this.value.start)) {\n                this.setProperties({ startDate: this.value.start }, true);\n                this.startValue = this.value.start;\n            }\n            else if (typeof this.value.start === 'string') {\n                this.setProperties({ startDate: new Date(this.checkValue(this.value.start)) }, true);\n                this.startValue = new Date(this.checkValue(this.value.start));\n            }\n            else {\n                this.startValue = null;\n                this.setValue();\n            }\n            if (this.value.end instanceof Date && !isNaN(+this.value.end)) {\n                this.setProperties({ endDate: this.value.end }, true);\n                this.endValue = this.value.end;\n            }\n            else if (typeof this.value.end === 'string') {\n                this.setProperties({ endDate: new Date(this.checkValue(this.value.end)) }, true);\n                this.endValue = new Date(this.checkValue(this.value.end));\n                this.setValue();\n            }\n            else {\n                this.setProperties({ endDate: null }, true);\n                this.endValue = null;\n                this.setValue();\n            }\n        }\n        else if (isNullOrUndefined(this.value)) {\n            this.endValue = this.checkDateValue(new Date(this.checkValue(this.endDate)));\n            this.startValue = this.checkDateValue(new Date(this.checkValue(this.startDate)));\n            this.setValue();\n        }\n    };\n    DateRangePicker.prototype.initProperty = function () {\n        this.globalize = new Internationalization(this.locale);\n        this.checkFormat();\n        this.checkView();\n        if (isNullOrUndefined(this.firstDayOfWeek) || this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n            this.setProperties({ firstDayOfWeek: this.globalize.getFirstDayOfWeek() }, true);\n        }\n        this.updateValue();\n    };\n    DateRangePicker.prototype.checkFormat = function () {\n        if (this.format) {\n            if (typeof this.format === 'string') {\n                this.formatString = this.format;\n            }\n            else if (this.format.skeleton !== '' && !isNullOrUndefined(this.format.skeleton)) {\n                var skeletonString = this.format.skeleton;\n                this.formatString = this.globalize.getDatePattern({ skeleton: skeletonString, type: 'date' });\n            }\n            else {\n                this.formatString = null;\n            }\n        }\n        else {\n            this.formatString = null;\n        }\n    };\n    DateRangePicker.prototype.initialize = function () {\n        if (this.angularTag !== null) {\n            this.validationAttribute(this.element, this.inputElement);\n        }\n        this.checkHtmlAttributes(false);\n        merge(this.defaultKeyConfigs, { shiftTab: 'shift+tab' });\n        var start = this.checkDateValue(new Date(this.checkValue(this.startValue)));\n        this.setProperties({ startDate: start }, true); // persist the value propeerty.\n        this.setProperties({ endValue: this.checkDateValue(new Date(this.checkValue(this.endValue))) }, true);\n        this.setValue();\n        this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(this.min))) }, true);\n        this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(this.max))) }, true);\n        this.l10n = new L10n('daterangepicker', this.defaultConstant, this.locale);\n        this.l10n.setLocale(this.locale);\n        this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        this.processPresets();\n        this.createInput();\n        this.updateHtmlAttributeToWrapper();\n        this.setRangeAllowEdit();\n        this.bindEvents();\n    };\n    DateRangePicker.prototype.setDataAttribute = function (isDynamic) {\n        var attributes = {};\n        if (!isDynamic) {\n            for (var i = 0; i < this.element.attributes.length; i++) {\n                attributes[this.element.attributes[i].name] = this.element.getAttribute(this.element.attributes[i].name);\n            }\n        }\n        else {\n            attributes = this.htmlAttributes;\n        }\n        for (var _i = 0, _a = Object.keys(attributes); _i < _a.length; _i++) {\n            var pro = _a[_i];\n            if (pro.indexOf('data') === 0) {\n                this.firstHiddenChild.setAttribute(pro, attributes[pro]);\n                this.secondHiddenChild.setAttribute(pro, attributes[pro]);\n            }\n        }\n    };\n    DateRangePicker.prototype.setRangeAllowEdit = function () {\n        if (this.allowEdit) {\n            if (!this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n        else {\n            attributes(this.inputElement, { 'readonly': '' });\n        }\n        this.updateClearIconState();\n    };\n    DateRangePicker.prototype.updateClearIconState = function () {\n        if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n            if (this.inputElement.value === '') {\n                removeClass([this.inputWrapper.container], [NONEDITABLE]);\n            }\n            else {\n                addClass([this.inputWrapper.container], [NONEDITABLE]);\n            }\n        }\n        else if (this.inputWrapper) {\n            removeClass([this.inputWrapper.container], [NONEDITABLE]);\n        }\n    };\n    DateRangePicker.prototype.validationAttribute = function (element, input) {\n        var name = element.getAttribute('name') ? element.getAttribute('name') : element.getAttribute('id');\n        input.setAttribute('name', name);\n        element.removeAttribute('name');\n        var attributes = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attributes.length; i++) {\n            if (isNullOrUndefined(element.getAttribute(attributes[i]))) {\n                continue;\n            }\n            var attr = element.getAttribute(attributes[i]);\n            input.setAttribute(attributes[i], attr);\n            element.removeAttribute(attributes[i]);\n        }\n    };\n    DateRangePicker.prototype.updateHtmlAttributeToWrapper = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (wrapperAttr.indexOf(key) > -1) {\n                    if (key === 'class') {\n                        addClass([this.inputWrapper.container], this.htmlAttributes[key].split(' '));\n                    }\n                    else if (key === 'style') {\n                        var dateRangeStyle = this.inputWrapper.container.getAttribute(key);\n                        dateRangeStyle = !isNullOrUndefined(dateRangeStyle) ? (dateRangeStyle + this.htmlAttributes[key]) :\n                            this.htmlAttributes[key];\n                        this.inputWrapper.container.setAttribute(key, dateRangeStyle);\n                    }\n                    else {\n                        this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n                    }\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.updateHtmlAttributeToElement = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (wrapperAttr.indexOf(key) < 0) {\n                    this.inputElement.setAttribute(key, this.htmlAttributes[key]);\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.processPresets = function () {\n        this.presetsItem = [];\n        var i = 0;\n        if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n            for (var _i = 0, _a = this.presets; _i < _a.length; _i++) {\n                var range = _a[_i];\n                var id = range.label.replace(/\\s+/g, '') + '_' + (++i);\n                if (typeof range.end === 'string') {\n                    this.presetsItem.push({\n                        id: id, text: range.label, end: new Date(this.checkValue(range.end)), start: new Date(this.checkValue(range.start))\n                    });\n                }\n                else {\n                    this.presetsItem.push({ id: id, text: range.label, start: range.start, end: range.end });\n                }\n            }\n            var startDate = isNullOrUndefined(this.startValue) ? null : new Date(+this.startValue);\n            var endDate = isNullOrUndefined(this.endValue) ? null : new Date(+this.endValue);\n            this.presetsItem.push({ id: 'custom_range', text: this.l10n.getConstant('customRange'), start: startDate, end: endDate });\n            if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n                this.isCustomRange = true;\n                this.activeIndex = this.presetsItem.length - 1;\n            }\n        }\n    };\n    DateRangePicker.prototype.bindEvents = function () {\n        if (this.enabled) {\n            EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler, this);\n            EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n            EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n            EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n            if (this.showClearButton && this.inputWrapper.clearButton) {\n                EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n            }\n            if (!this.isMobile) {\n                this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n                this.inputKeyboardModule = new KeyboardEvents(this.inputElement, {\n                    eventName: 'keydown',\n                    keyAction: this.inputHandler.bind(this),\n                    keyConfigs: this.keyInputConfigs\n                });\n            }\n            if (this.formElement) {\n                EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n            }\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler);\n            EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n            EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n            EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n            if (this.showClearButton && this.inputWrapper.clearButton) {\n                EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler);\n            }\n            if (!this.isMobile) {\n                if (!isNullOrUndefined(this.inputKeyboardModule)) {\n                    this.inputKeyboardModule.destroy();\n                }\n            }\n            if (this.formElement) {\n                EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n            }\n            this.inputElement.tabIndex = -1;\n        }\n    };\n    DateRangePicker.prototype.updateHiddenInput = function () {\n        if (this.firstHiddenChild && this.secondHiddenChild) {\n            var format = { type: 'datetime', skeleton: 'yMd' };\n            if (typeof this.startDate === 'string') {\n                this.startDate = this.globalize.parseDate(this.startDate, format);\n            }\n            if (typeof this.endDate === 'string') {\n                this.endDate = this.globalize.parseDate(this.endDate, format);\n            }\n            this.firstHiddenChild.value = (this.startDate && this.globalize.formatDate(this.startDate, format))\n                || (this.inputElement.value);\n            this.secondHiddenChild.value = (this.endDate && this.globalize.formatDate(this.endDate, format)) ||\n                (this.inputElement.value);\n            this.dispatchEvent(this.firstHiddenChild, 'focusout');\n            this.dispatchEvent(this.firstHiddenChild, 'change');\n        }\n    };\n    DateRangePicker.prototype.inputChangeHandler = function (e) {\n        e.stopPropagation();\n        this.updateHiddenInput();\n    };\n    DateRangePicker.prototype.bindClearEvent = function () {\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n        }\n    };\n    DateRangePicker.prototype.resetHandler = function (e) {\n        this.valueType = this.value;\n        e.preventDefault();\n        this.clear();\n        var clearedArgs = {\n            event: e\n        };\n        this.setProperties({ endDate: this.checkDateValue(this.endValue) }, true);\n        this.setProperties({ startDate: this.checkDateValue(this.startValue) }, true);\n        this.trigger('cleared', clearedArgs);\n        this.changeTrigger(e);\n        this.clearRange();\n        this.hide(e);\n    };\n    DateRangePicker.prototype.restoreValue = function () {\n        this.previousEleValue = this.inputElement.value;\n        this.previousStartValue = this.startValue;\n        this.previousEndValue = this.endValue;\n        this.valueType = null;\n        this.initStartDate = this.checkDateValue(this.startValue);\n        this.initEndDate = this.checkDateValue(this.endValue);\n        this.setValue();\n        this.setModelValue();\n    };\n    DateRangePicker.prototype.formResetHandler = function (e) {\n        if (this.formElement && (e.target === this.formElement) && !this.inputElement.disabled) {\n            var val = this.inputElement.getAttribute('value');\n            if (!isNullOrUndefined(this.startCopy)) {\n                if (!isNullOrUndefined(this.value) && !isNullOrUndefined(this.value.start)) {\n                    this.setProperties({ value: { start: this.startCopy, end: this.endCopy } }, true);\n                    this.startValue = this.value.start;\n                    this.endValue = this.value.end;\n                }\n                else {\n                    this.setProperties({ value: [this.startCopy, this.endCopy] }, true);\n                    this.startValue = this.value[0];\n                    this.endValue = this.value[1];\n                }\n                this.setProperties({ startDate: this.startValue, endDate: this.endValue }, true);\n            }\n            else {\n                this.setProperties({ value: null, startDate: null, endDate: null }, true);\n                this.startValue = this.endValue = null;\n            }\n            if (this.element.tagName === 'EJS-DATERANGEPICKER') {\n                this.setProperties({ value: null, startDate: null, endDate: null }, true);\n                val = '';\n                this.startValue = this.endValue = null;\n                this.inputElement.setAttribute('value', '');\n            }\n            this.restoreValue();\n            if (this.inputElement) {\n                Input.setValue(val, this.inputElement, this.floatLabelType, this.showClearButton);\n                this.errorClass();\n            }\n        }\n    };\n    DateRangePicker.prototype.clear = function () {\n        if (this.startValue !== null) {\n            this.startValue = null;\n        }\n        if (this.endValue !== null) {\n            this.endValue = null;\n        }\n        if (this.value && this.value.start) {\n            this.setProperties({ value: { start: null, end: null } }, true);\n        }\n        if (this.value !== null && this.value.length > 0) {\n            this.setProperties({ value: null }, true);\n        }\n        Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n        if (!(isNullOrUndefined(this.applyButton))) {\n            this.applyButton.disabled = this.applyButton.element.disabled = true;\n        }\n        this.removeSelection();\n    };\n    DateRangePicker.prototype.rangeIconHandler = function (e) {\n        if (this.isMobile) {\n            this.inputElement.setAttribute('readonly', '');\n        }\n        e.preventDefault();\n        this.targetElement = null;\n        if (this.isPopupOpen()) {\n            this.applyFunction(e);\n        }\n        else {\n            this.isRangeIconClicked = true;\n            this.inputWrapper.container.children[0].focus();\n            this.show(null, e);\n            if (!this.isMobile) {\n                if (!isNullOrUndefined(this.leftCalendar)) {\n                    this.isRangeIconClicked = false;\n                    this.calendarFocus();\n                    this.isRangeIconClicked = true;\n                }\n            }\n            addClass([this.inputWrapper.container], [INPUTFOCUS]);\n        }\n    };\n    DateRangePicker.prototype.checkHtmlAttributes = function (isDynamic) {\n        this.globalize = new Internationalization(this.locale);\n        var attributes = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['startDate', 'endDate', 'minDays', 'maxDays', 'min', 'max', 'disabled', 'readonly', 'style', 'name', 'placeholder',\n                'type', 'value'];\n        var format = { format: this.formatString, type: 'date', skeleton: 'yMd' };\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n                switch (prop) {\n                    case 'disabled':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.dateRangeOptions) || (this.dateRangeOptions['enabled'] === undefined)) || isDynamic) {\n                            var disabled = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ enabled: !disabled }, !isDynamic);\n                        }\n                        break;\n                    case 'readonly':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.dateRangeOptions) || (this.dateRangeOptions['readonly'] === undefined)) || isDynamic) {\n                            var readonly = this.inputElement.getAttribute(prop) === 'readonly' ||\n                                this.inputElement.getAttribute(prop) === 'true' || this.inputElement.getAttribute(prop) === '' ? true : false;\n                            this.setProperties({ readonly: readonly }, !isDynamic);\n                        }\n                        break;\n                    case 'placeholder':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.dateRangeOptions) || (this.dateRangeOptions['placeholder'] === undefined)) || isDynamic) {\n                            this.setProperties({ placeholder: this.inputElement.getAttribute(prop) }, !isDynamic);\n                        }\n                        break;\n                    case 'value':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.dateRangeOptions) || (this.dateRangeOptions['value'] === undefined)) || isDynamic) {\n                            var value = this.inputElement.getAttribute(prop);\n                            this.setProperties(setValue(prop, value, {}), !isDynamic);\n                        }\n                        break;\n                    case 'style':\n                        this.inputElement.setAttribute('style', '' + this.inputElement.getAttribute(prop));\n                        break;\n                    case 'min':\n                        if ((isNullOrUndefined(this.min) || +this.min === +new Date(1900, 0, 1)) || isDynamic) {\n                            var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n                            this.setProperties(setValue(prop, dateValue, {}), !isDynamic);\n                        }\n                        break;\n                    case 'name':\n                        this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute(prop));\n                        break;\n                    case 'max':\n                        if ((isNullOrUndefined(this.max) || +this.max === +new Date(2099, 11, 31)) || isDynamic) {\n                            var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n                            this.setProperties(setValue(prop, dateValue, {}), !isDynamic);\n                        }\n                        break;\n                    case 'startDate':\n                        if (isNullOrUndefined(this.startDate)) {\n                            var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n                            this.startValue = dateValue;\n                            this.setValue();\n                        }\n                        break;\n                    case 'endDate':\n                        if (isNullOrUndefined(this.endDate)) {\n                            var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n                            this.endValue = dateValue;\n                            this.setValue();\n                        }\n                        break;\n                    case 'minDays':\n                        if (isNullOrUndefined(this.minDays)) {\n                            this.setProperties(setValue(prop, parseInt(this.inputElement.getAttribute(prop), 10), {}), true);\n                        }\n                        break;\n                    case 'maxDays':\n                        if (isNullOrUndefined(this.maxDays)) {\n                            this.setProperties(setValue(prop, parseInt(this.inputElement.getAttribute(prop), 10), {}), true);\n                        }\n                        break;\n                    case 'type':\n                        if (this.inputElement.getAttribute(prop) !== 'text') {\n                            this.inputElement.setAttribute('type', 'text');\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.createPopup = function () {\n        for (var i = 0; i < this.presetsItem.length; i++) {\n            if ((i !== (this.presetsItem.length - 1)) && this.presetsItem[i].id === 'custom_range') {\n                this.presetsItem.splice(i, 1);\n            }\n        }\n        this.activeIndex = this.presetsItem.length - 1;\n        this.isCustomRange = true;\n        for (var i = 0; i <= this.presetsItem.length - 2; i++) {\n            var startDate = this.presetsItem[i].start;\n            var endDate = this.presetsItem[i].end;\n            if (this.startValue && this.endValue) {\n                if ((+startDate.setMilliseconds(0) === +this.startValue.setMilliseconds(0)) &&\n                    (+endDate.setMilliseconds(0) === +this.endValue.setMilliseconds(0))) {\n                    this.activeIndex = i;\n                    this.isCustomRange = false;\n                }\n            }\n        }\n        this.popupWrapper = createElement('div', { id: this.element.id + '_popup', className: ROOT + ' ' + POPUP });\n        this.adjustLongHeaderWidth();\n        var isPreset = (!this.isCustomRange || this.isMobile);\n        if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && isPreset) {\n            this.isCustomWindow = false;\n            this.createPresets();\n            this.listRippleEffect();\n            this.renderPopup();\n        }\n        else {\n            this.isCustomWindow = true;\n            this.renderControl();\n        }\n    };\n    DateRangePicker.prototype.renderControl = function () {\n        this.createControl();\n        this.bindCalendarEvents();\n        this.updateRange((this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]));\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            this.disabledDateRender();\n        }\n        this.updateHeader();\n    };\n    DateRangePicker.prototype.clearCalendarEvents = function () {\n        EventHandler.clearEvents(this.leftCalPrevIcon);\n        EventHandler.clearEvents(this.leftCalNextIcon);\n        EventHandler.clearEvents(this.rightCalPrevIcon);\n        EventHandler.clearEvents(this.rightCalNextIcon);\n    };\n    DateRangePicker.prototype.updateNavIcons = function () {\n        if (this.isPopupOpen() && this.depth === this.currentView()) {\n            var leftDate = new Date(this.checkValue(this.leftCalCurrentDate));\n            var iconState = false;\n            if (this.currentView() === 'Year') {\n                iconState = (this.compareYears(leftDate, this.rightCalCurrentDate) < 1);\n            }\n            else if (this.currentView() === 'Decade') {\n                iconState = (this.compareDecades(leftDate, this.rightCalCurrentDate) < 1);\n            }\n            else if (this.currentView() === 'Month') {\n                iconState = (this.compareMonths(leftDate, this.rightCalCurrentDate) < 1);\n            }\n            this.previousIcon = this.rightCalPrevIcon;\n            this.nextIcon = this.leftCalNextIcon;\n            this.nextIconHandler(iconState);\n            this.previousIconHandler(iconState);\n        }\n    };\n    DateRangePicker.prototype.calendarIconEvent = function () {\n        this.clearCalendarEvents();\n        if (this.leftCalPrevIcon && !this.leftCalPrevIcon.classList.contains(DISABLED)) {\n            EventHandler.add(this.leftCalPrevIcon, 'mousedown', this.navPrevFunction);\n        }\n        if (this.leftCalNextIcon && !this.leftCalNextIcon.classList.contains(DISABLED)) {\n            EventHandler.add(this.leftCalNextIcon, 'mousedown', this.navNextFunction);\n        }\n        if (this.rightCalPrevIcon && !this.rightCalPrevIcon.classList.contains(DISABLED)) {\n            EventHandler.add(this.rightCalPrevIcon, 'mousedown', this.navPrevFunction);\n        }\n        if (this.rightCalNextIcon && !this.rightCalNextIcon.classList.contains(DISABLED)) {\n            EventHandler.add(this.rightCalNextIcon, 'mousedown', this.navNextFunction);\n        }\n    };\n    DateRangePicker.prototype.bindCalendarEvents = function () {\n        if (!this.isMobile) {\n            this.updateNavIcons();\n            this.calendarIconEvent();\n            this.calendarIconRipple();\n            this.headerTitleElement = this.popupObj.element.querySelector('.' + RIGHTCALENDER + ' .' + HEADER + ' .' + TITLE);\n            this.headerTitleElement = this.popupObj.element.querySelector('.' + LEFTCALENDER + ' .' + HEADER + ' .' + TITLE);\n            this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n            this.leftKeyboardModule = new KeyboardEvents(this.leftCalendar, {\n                eventName: 'keydown',\n                keyAction: this.keyInputHandler.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n            this.rightKeyboardModule = new KeyboardEvents(this.rightCalendar, {\n                eventName: 'keydown',\n                keyAction: this.keyInputHandler.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n        else {\n            this.deviceCalendarEvent();\n            EventHandler.add(this.startButton.element, 'click', this.deviceHeaderClick, this);\n            EventHandler.add(this.endButton.element, 'click', this.deviceHeaderClick, this);\n        }\n        if (this.start === this.depth) {\n            this.bindCalendarCellEvents();\n        }\n        this.removeFocusedDate();\n    };\n    DateRangePicker.prototype.calendarIconRipple = function () {\n        rippleEffect(this.leftCalPrevIcon, { selector: '.e-prev', duration: 400, isCenterRipple: true });\n        rippleEffect(this.leftCalNextIcon, { selector: '.e-next', duration: 400, isCenterRipple: true });\n        rippleEffect(this.rightCalPrevIcon, { selector: '.e-prev', duration: 400, isCenterRipple: true });\n        rippleEffect(this.rightCalNextIcon, { selector: '.e-next', duration: 400, isCenterRipple: true });\n    };\n    DateRangePicker.prototype.deviceCalendarEvent = function () {\n        EventHandler.clearEvents(this.nextIcon);\n        EventHandler.clearEvents(this.previousIcon);\n        rippleEffect(this.nextIcon, { selector: '.e-prev', duration: 400, isCenterRipple: true });\n        rippleEffect(this.previousIcon, { selector: '.e-next', duration: 400, isCenterRipple: true });\n        if (this.nextIcon && !this.nextIcon.classList.contains(DISABLED)) {\n            EventHandler.add(this.nextIcon, 'mousedown', this.deviceNavNextFunction);\n        }\n        if (this.previousIcon && !this.previousIcon.classList.contains(DISABLED)) {\n            EventHandler.add(this.previousIcon, 'mousedown', this.deviceNavPrevFunction);\n        }\n    };\n    DateRangePicker.prototype.deviceNavNext = function (e) {\n        var calendar = closest(e.target, '.' + CALENDAR);\n        this.updateDeviceCalendar(calendar);\n        this.navigateNext(e);\n        this.deviceNavigation();\n    };\n    DateRangePicker.prototype.deviceNavPrevious = function (e) {\n        var calendar = closest(e.target, '.' + CALENDAR);\n        this.updateDeviceCalendar(calendar);\n        this.navigatePrevious(e);\n        this.deviceNavigation();\n    };\n    DateRangePicker.prototype.updateDeviceCalendar = function (calendar) {\n        if (calendar) {\n            this.previousIcon = calendar.querySelector('.' + PREVICON);\n            this.nextIcon = calendar.querySelector('.' + NEXTICON);\n            this.calendarElement = calendar;\n            this.deviceCalendar = calendar;\n            this.contentElement = calendar.querySelector('.' + CONTENT);\n            this.tableBodyElement = select('.' + CONTENT + ' tbody', calendar);\n            this.table = calendar.querySelector('.' + CONTENT).getElementsByTagName('table')[0];\n            this.headerTitleElement = calendar.querySelector('.' + HEADER + ' .' + TITLE);\n            this.headerElement = calendar.querySelector('.' + HEADER);\n        }\n    };\n    DateRangePicker.prototype.deviceHeaderClick = function (event) {\n        var element = event.currentTarget;\n        if (element.classList.contains(STARTBUTTON) && !isNullOrUndefined(this.startValue)) {\n            this.endButton.element.classList.remove(ACTIVE);\n            this.startButton.element.classList.add(ACTIVE);\n            var calendar = this.popupObj.element.querySelector('.' + CALENDAR);\n            this.updateDeviceCalendar(calendar);\n            if (isNullOrUndefined(this.calendarElement.querySelector('.' + STARTDATE + ':not(.e-other-month)'))) {\n                this.currentDate = new Date(+this.startValue);\n                remove(this.tableBodyElement);\n                this.createContentBody();\n                this.deviceNavigation();\n            }\n            this.removeClassDisabled();\n        }\n        else if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n            this.startButton.element.classList.remove(ACTIVE);\n            this.endButton.element.classList.add(ACTIVE);\n            var calendar = this.popupObj.element.querySelector('.' + CALENDAR);\n            this.updateDeviceCalendar(calendar);\n            if (isNullOrUndefined(this.calendarElement.querySelector('.' + ENDDATE + ':not(.e-other-month)'))) {\n                this.currentDate = new Date(+this.endValue);\n                remove(this.tableBodyElement);\n                this.createContentBody();\n                this.deviceNavigation();\n            }\n            this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n            this.selectableDates();\n        }\n    };\n    DateRangePicker.prototype.inputFocusHandler = function () {\n        this.preventBlur = false;\n        var focusArguments = {\n            model: this\n        };\n        if (!this.preventFocus) {\n            this.preventFocus = true;\n            this.trigger('focus', focusArguments);\n        }\n        this.updateClearIconState();\n        this.updateHiddenInput();\n    };\n    DateRangePicker.prototype.inputBlurHandler = function (e) {\n        if (!this.preventBlur) {\n            var value = this.inputElement.value;\n            if (!isNullOrUndefined(this.presetsItem)) {\n                if (this.presetsItem.length > 0 && this.previousEleValue !== this.inputElement.value) {\n                    this.activeIndex = this.presetsItem.length - 1;\n                    this.isCustomRange = true;\n                }\n            }\n            if (!isNullOrUndefined(value) && value.trim() !== '') {\n                var range = value.split(' ' + this.separator + ' ');\n                if (range.length > 1) {\n                    this.invalidValueString = null;\n                    var dateOptions = { format: this.formatString, type: 'date', skeleton: 'yMd' };\n                    var startDate = this.globalize.parseDate(range[0].trim(), dateOptions);\n                    var endDate = this.globalize.parseDate(range[1].trim(), dateOptions);\n                    if (!isNullOrUndefined(startDate) && !isNaN(+startDate) && !isNullOrUndefined(endDate) && !isNaN(+endDate)) {\n                        this.startValue = startDate;\n                        this.endValue = endDate;\n                        this.setValue();\n                        this.refreshControl();\n                        if (value !== this.previousEleValue) {\n                            this.changeTrigger(e);\n                        }\n                        if (!this.preventBlur && document.activeElement !== this.inputElement) {\n                            this.preventFocus = false;\n                            var blurArguments = {\n                                model: this\n                            };\n                            this.trigger('blur', blurArguments);\n                        }\n                        this.updateHiddenInput();\n                        return;\n                    }\n                    else {\n                        if (!this.strictMode) {\n                            this.startValue = null;\n                            this.endValue = null;\n                            this.setValue();\n                        }\n                    }\n                }\n                else {\n                    if (!this.strictMode) {\n                        this.startValue = null;\n                        this.endValue = null;\n                        this.setValue();\n                    }\n                }\n            }\n            if (!this.strictMode) {\n                if (isNullOrUndefined(this.popupObj)) {\n                    this.currentDate = null;\n                }\n                this.previousStartValue = this.previousEndValue = null;\n                this.startValue = null;\n                this.endValue = null;\n                this.setValue();\n            }\n            else {\n                if (!isNullOrUndefined(value) && value.trim() === '') {\n                    this.startValue = null;\n                    this.endValue = null;\n                }\n                Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n                this.updateInput();\n            }\n            this.errorClass();\n            this.changeTrigger(e);\n            if (!this.preventBlur && document.activeElement !== this.inputElement) {\n                this.preventFocus = false;\n                var blurArguments = {\n                    model: this\n                };\n                this.trigger('blur', blurArguments);\n            }\n        }\n        this.updateHiddenInput();\n    };\n    DateRangePicker.prototype.clearRange = function () {\n        this.previousStartValue = this.previousEndValue = null;\n        this.currentDate = null;\n    };\n    DateRangePicker.prototype.errorClass = function () {\n        var inputStr = this.inputElement.value.trim();\n        if (((isNullOrUndefined(this.endValue) && isNullOrUndefined(this.startValue) && inputStr !== '') ||\n            ((!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)\n                || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)\n                || (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max))\n            || ((this.startValue && this.isDateDisabled(this.startValue))\n                || (this.endValue && this.isDateDisabled(this.endValue)))) && inputStr !== '') {\n            addClass([this.inputWrapper.container], ERROR);\n            attributes(this.inputElement, { 'aria-invalid': 'true' });\n        }\n        else {\n            if (this.inputWrapper) {\n                removeClass([this.inputWrapper.container], ERROR);\n                attributes(this.inputElement, { 'aria-invalid': 'false' });\n            }\n        }\n    };\n    DateRangePicker.prototype.keyCalendarUpdate = function (isLeftCalendar, ele) {\n        this.removeFocusedDate();\n        if (isLeftCalendar) {\n            this.leftCalCurrentDate = new Date(+this.currentDate);\n            ele = this.leftCalendar;\n        }\n        else {\n            this.rightCalCurrentDate = new Date(+this.currentDate);\n            ele = this.rightCalendar;\n        }\n        this.updateCalendarElement(ele);\n        this.table.focus();\n        return ele;\n    };\n    DateRangePicker.prototype.navInCalendar = function (e, isLeftCalendar, leftLimit, rightLimit, ele) {\n        var view = this.getViewNumber(this.currentView());\n        var date;\n        var min = this.min;\n        var max;\n        if (!isNullOrUndefined(this.maxDays) && this.isMaxDaysClicked && !isNullOrUndefined(this.startValue)) {\n            max = new Date(new Date(+this.startValue).setDate(this.startValue.getDate() + (this.maxDays - 1)));\n        }\n        else {\n            max = this.max;\n        }\n        switch (e.action) {\n            case 'moveRight':\n                date = new Date(+this.currentDate);\n                this.addDay(date, 1, e, max, min);\n                if (isLeftCalendar && +date === +rightLimit) {\n                    ele = this.keyCalendarUpdate(false, ele);\n                }\n                this.KeyboardNavigate(1, view, e, max, min);\n                this.keyNavigation(ele, e);\n                break;\n            case 'moveLeft':\n                date = new Date(+this.currentDate);\n                this.addDay(date, -1, e, max, min);\n                if (!isLeftCalendar) {\n                    if (+date === +leftLimit) {\n                        ele = this.keyCalendarUpdate(true, ele);\n                    }\n                }\n                this.KeyboardNavigate(-1, view, e, max, min);\n                this.keyNavigation(ele, e);\n                break;\n            case 'moveUp':\n                if (view === 0) {\n                    date = new Date(+this.currentDate);\n                    this.addDay(date, -7, e, max, min);\n                    if (+date <= +leftLimit && !isLeftCalendar) {\n                        ele = this.keyCalendarUpdate(true, ele);\n                    }\n                    this.KeyboardNavigate(-7, view, e, max, min);\n                }\n                else {\n                    this.KeyboardNavigate(-4, view, e, this.max, this.min); // move the current year to the previous four days.\n                }\n                this.keyNavigation(ele, e);\n                break;\n            case 'moveDown':\n                if (view === 0) {\n                    date = new Date(+this.currentDate);\n                    this.addDay(date, 7, e, max, min);\n                    if (isLeftCalendar && +date >= +rightLimit) {\n                        ele = this.keyCalendarUpdate(false, ele);\n                    }\n                    this.KeyboardNavigate(7, view, e, max, min);\n                }\n                else {\n                    this.KeyboardNavigate(4, view, e, this.max, this.min);\n                }\n                this.keyNavigation(ele, e);\n                break;\n            case 'home':\n                this.currentDate = this.firstDay(this.currentDate);\n                remove(this.tableBodyElement);\n                (view === 0) ? this.renderMonths(e) : ((view === 1) ? this.renderYears(e) : this.renderDecades(e));\n                this.keyNavigation(ele, e);\n                break;\n            case 'end':\n                this.currentDate = this.lastDay(this.currentDate, view);\n                remove(this.tableBodyElement);\n                (view === 0) ? this.renderMonths(e) : ((view === 1) ? this.renderYears(e) : this.renderDecades(e));\n                this.keyNavigation(ele, e);\n                break;\n        }\n    };\n    // tslint:disable-next-line:max-func-body-length\n    DateRangePicker.prototype.keyInputHandler = function (e, value) {\n        var date;\n        var view = this.getViewNumber(this.currentView());\n        var rightDateLimit = new Date(this.rightCalCurrentDate.getFullYear(), this.rightCalCurrentDate.getMonth(), 1);\n        var leftDateLimit = new Date(this.leftCalCurrentDate.getFullYear(), this.leftCalCurrentDate.getMonth() + 1, 0);\n        var ele = closest(e.target, '.' + RIGHTCALENDER);\n        ele = isNullOrUndefined(ele) ? this.leftCalendar : ele;\n        var isLeftCalendar = ele.classList.contains(LEFTCALENDER);\n        this.updateCalendarElement(ele);\n        var selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n        var focusedDate = ele.querySelector('tr td.' + FOCUSDATE);\n        var startDate = ele.querySelector('tr td.' + STARTDATE);\n        var endDate = ele.querySelector('tr td.' + ENDDATE);\n        var depthValue = this.getViewNumber(this.depth);\n        var levelRestrict = (view === depthValue && this.getViewNumber(this.start) >= depthValue);\n        var leftCalendar = closest(e.target, '.' + LEFTCALENDER);\n        var rightCalendar = closest(e.target, '.' + RIGHTCALENDER);\n        var presetElement = closest(e.target, '.' + PRESETS);\n        if (!isNullOrUndefined(focusedDate)) {\n            this.currentDate = this.currentDate;\n        }\n        else if (!isNullOrUndefined(endDate) && !this.dateDisabled) {\n            this.currentDate = new Date(+this.endValue);\n        }\n        else if (!isNullOrUndefined(startDate) && !this.dateDisabled) {\n            this.currentDate = new Date(+this.startValue);\n        }\n        else if (!this.dateDisabled) {\n            this.currentDate.setDate(1);\n        }\n        this.effect = '';\n        switch (e.action) {\n            case 'altUpArrow':\n                if (this.isPopupOpen()) {\n                    this.hide(e);\n                    this.preventFocus = true;\n                    this.inputElement.focus();\n                    addClass([this.inputWrapper.container], [INPUTFOCUS]);\n                }\n                break;\n            case 'select':\n                if (levelRestrict) {\n                    var element = !isNullOrUndefined(focusedDate) ? focusedDate : startDate;\n                    if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED)) {\n                        this.selectRange(null, (element));\n                    }\n                }\n                else {\n                    if (!isNullOrUndefined(selectedDate) && !levelRestrict || !isNullOrUndefined(focusedDate)) {\n                        if (!isNullOrUndefined(this.value)) {\n                            if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n                                value = this.startDate;\n                            }\n                            else {\n                                value = this.endDate;\n                            }\n                        }\n                        this.controlDown = e;\n                        this.contentClick(null, --view, (focusedDate || selectedDate), value);\n                    }\n                }\n                e.preventDefault();\n                break;\n            case 'controlHome':\n                var yearDate = new Date(this.currentDate.getFullYear(), 0, 1);\n                if (!isLeftCalendar && +yearDate < +leftDateLimit) {\n                    ele = this.keyCalendarUpdate(true, ele);\n                }\n                _super.prototype.navigateTo.call(this, 'Month', new Date(this.currentDate.getFullYear(), 0, 1));\n                this.keyNavigation(ele, e);\n                break;\n            case 'altRightArrow':\n                if (!isNullOrUndefined(leftCalendar)) {\n                    this.rightCalendar.children[1].firstElementChild.focus();\n                }\n                else if (!isNullOrUndefined(rightCalendar)) {\n                    if (!isNullOrUndefined(this.presetElement)) {\n                        this.presetElement.focus();\n                        this.removeFocusedDate();\n                    }\n                    else {\n                        this.cancelButton.element.focus();\n                    }\n                }\n                else {\n                    if (!isNullOrUndefined(presetElement)) {\n                        this.cancelButton.element.focus();\n                    }\n                }\n                e.preventDefault();\n                break;\n            case 'altLeftArrow':\n                if (!isNullOrUndefined(leftCalendar)) {\n                    if (this.applyButton.element.disabled !== true) {\n                        this.applyButton.element.focus();\n                    }\n                    else {\n                        this.cancelButton.element.focus();\n                    }\n                }\n                else {\n                    if (!isNullOrUndefined(rightCalendar)) {\n                        this.leftCalendar.children[1].firstElementChild.focus();\n                    }\n                }\n                e.preventDefault();\n                break;\n            case 'controlUp':\n                if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n                    this.calendarNavigation(e, this.calendarElement);\n                }\n                else {\n                    this.calendarNavigation(e, this.calendarElement);\n                }\n                e.preventDefault();\n                break;\n            case 'controlDown':\n                if ((!isNullOrUndefined(selectedDate) || !isNullOrUndefined(focusedDate)) && !levelRestrict) {\n                    if (!isNullOrUndefined(this.value)) {\n                        if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n                            value = this.startDate;\n                        }\n                        else {\n                            value = this.endDate;\n                        }\n                    }\n                    this.controlDown = e;\n                    this.contentClick(null, --view, (selectedDate || focusedDate), value);\n                }\n                e.preventDefault();\n                break;\n            case 'controlEnd':\n                yearDate = new Date(this.currentDate.getFullYear(), 11, 31);\n                if (isLeftCalendar && +yearDate > +rightDateLimit) {\n                    ele = this.keyCalendarUpdate(false, ele);\n                }\n                _super.prototype.navigateTo.call(this, 'Month', new Date(this.currentDate.getFullYear(), 11, 31));\n                this.keyNavigation(ele, e);\n                break;\n            case 'pageUp':\n                date = new Date(+this.currentDate);\n                this.addMonths(date, -1);\n                if (!isLeftCalendar && +date <= +leftDateLimit) {\n                    ele = this.keyCalendarUpdate(true, ele);\n                }\n                this.addMonths(this.currentDate, -1);\n                _super.prototype.navigateTo.call(this, 'Month', this.currentDate);\n                this.keyNavigation(ele, e);\n                break;\n            case 'pageDown':\n                date = new Date(+this.currentDate);\n                this.addMonths(date, 1);\n                if (isLeftCalendar && +date >= +rightDateLimit) {\n                    ele = this.keyCalendarUpdate(false, ele);\n                }\n                this.addMonths(this.currentDate, 1);\n                _super.prototype.navigateTo.call(this, 'Month', this.currentDate);\n                this.keyNavigation(ele, e);\n                break;\n            case 'shiftPageUp':\n                date = new Date(+this.currentDate);\n                this.addYears(date, -1);\n                if (!isLeftCalendar && +date <= +leftDateLimit) {\n                    ele = this.keyCalendarUpdate(true, ele);\n                }\n                this.addYears(this.currentDate, -1);\n                _super.prototype.navigateTo.call(this, 'Month', this.currentDate);\n                this.keyNavigation(ele, e);\n                break;\n            case 'shiftPageDown':\n                date = new Date(+this.currentDate);\n                this.addYears(date, 1);\n                if (isLeftCalendar && +date >= +rightDateLimit) {\n                    ele = this.keyCalendarUpdate(false, ele);\n                }\n                this.addYears(this.currentDate, 1);\n                _super.prototype.navigateTo.call(this, 'Month', this.currentDate);\n                this.keyNavigation(ele, e);\n                break;\n            case 'shiftTab':\n                if (!isNullOrUndefined(this.presetElement)) {\n                    this.presetElement.setAttribute('tabindex', '0');\n                    this.presetElement.focus();\n                    this.removeFocusedDate();\n                }\n                e.preventDefault();\n                break;\n            case 'spacebar':\n                if (this.applyButton && !this.applyButton.disabled) {\n                    this.applyFunction(e);\n                }\n                break;\n            default:\n                this.navInCalendar(e, isLeftCalendar, leftDateLimit, rightDateLimit, ele);\n                this.checkMinMaxDays();\n        }\n        this.presetHeight();\n    };\n    DateRangePicker.prototype.keyNavigation = function (calendar, e) {\n        this.bindCalendarCellEvents(calendar);\n        if (calendar.classList.contains(LEFTCALENDER)) {\n            this.leftCalCurrentDate = new Date(+this.currentDate);\n        }\n        else {\n            this.rightCalCurrentDate = new Date(+this.currentDate);\n        }\n        this.updateNavIcons();\n        this.calendarIconEvent();\n        this.updateRange([calendar]);\n        this.dateDisabled = this.isDateDisabled(this.currentDate);\n        e.preventDefault();\n    };\n    DateRangePicker.prototype.inputHandler = function (e) {\n        switch (e.action) {\n            case 'altDownArrow':\n                if (!this.isPopupOpen()) {\n                    if (this.inputElement.value === '') {\n                        this.clear();\n                        this.changeTrigger(e);\n                        this.clearRange();\n                    }\n                    this.show(null, e);\n                    this.isRangeIconClicked = false;\n                    if (!this.isMobile) {\n                        if (!isNullOrUndefined(this.leftCalendar)) {\n                            this.calendarFocus();\n                        }\n                    }\n                    this.isKeyPopup = true;\n                }\n                break;\n            case 'escape':\n                if (this.isPopupOpen()) {\n                    this.hide(e);\n                }\n                break;\n            case 'enter':\n                if (document.activeElement === this.inputElement) {\n                    this.inputBlurHandler(e);\n                    this.hide(e);\n                }\n                break;\n            case 'tab':\n                if (document.activeElement === this.inputElement && this.isPopupOpen()) {\n                    this.hide(e);\n                    e.preventDefault();\n                }\n                break;\n        }\n    };\n    DateRangePicker.prototype.bindCalendarCellEvents = function (calendar) {\n        var tdCells;\n        if (calendar) {\n            tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n        }\n        else {\n            tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td');\n        }\n        for (var _i = 0, tdCells_1 = tdCells; _i < tdCells_1.length; _i++) {\n            var cell = tdCells_1[_i];\n            EventHandler.clearEvents(cell);\n            var disabledCell = void 0;\n            disabledCell = cell.classList.contains(DISABLED) || cell.classList.contains(DATEDISABLED);\n            if (!disabledCell && !cell.classList.contains(WEEKNUMBER)) {\n                if (!this.isMobile) {\n                    EventHandler.add(cell, 'mouseover', this.hoverSelection, this);\n                }\n                EventHandler.add(cell, 'mousedown', this.selectRange, this);\n            }\n        }\n    };\n    DateRangePicker.prototype.removeFocusedDate = function () {\n        var isDate = !isNullOrUndefined(this.startValue) || !isNullOrUndefined(this.endValue);\n        var focusedDate;\n        focusedDate = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' .' + FOCUSDATE);\n        for (var _i = 0, focusedDate_1 = focusedDate; _i < focusedDate_1.length; _i++) {\n            var ele = focusedDate_1[_i];\n            var today = new Date();\n            var eleDate = this.getIdValue(null, ele);\n            if ((this.depth === 'Month' && this.currentView() === 'Month' &&\n                (!ele.classList.contains(TODAY) || (ele.classList.contains(TODAY) && isDate)))\n                || (this.depth === 'Year' && this.currentView() === 'Year' &&\n                    ((!this.isSameMonth(today, eleDate) && !this.isSameYear(today, eleDate)) || isDate))\n                || (this.depth === 'Decade' && this.currentView() === 'Decade' &&\n                    (!this.isSameYear(today, eleDate) || isDate))) {\n                ele.classList.remove(FOCUSDATE);\n                if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(ENDDATE)) {\n                    ele.removeAttribute('aria-label');\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.hoverSelection = function (event, element) {\n        var currentElement = element || event.currentTarget;\n        var currentDate = this.getIdValue(null, currentElement);\n        if (!isNullOrUndefined(this.startValue) && +this.startValue >= +this.min && +this.startValue <= +this.max) {\n            if ((!this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)\n                && isNullOrUndefined(this.endValue) && isNullOrUndefined(this.startValue))\n                || (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue))) {\n                var tdCells = void 0;\n                tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td');\n                for (var _i = 0, tdCells_2 = tdCells; _i < tdCells_2.length; _i++) {\n                    var ele = tdCells_2[_i];\n                    var isDisabledCell = (!ele.classList.contains(DISABLED) || ele.classList.contains(DATEDISABLED));\n                    if (!ele.classList.contains(WEEKNUMBER) && isDisabledCell) {\n                        var eleDate = this.getIdValue(null, ele);\n                        var startDateValue = new Date(+this.startValue);\n                        var eleDateValue = new Date(+eleDate);\n                        if (eleDateValue.setHours(0, 0, 0, 0) >= startDateValue.setHours(0, 0, 0, 0) && +eleDate <= +currentDate) {\n                            addClass([ele], RANGEHOVER);\n                        }\n                        else {\n                            removeClass([ele], [RANGEHOVER]);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.isSameStartEnd = function (startVal, endVal) {\n        var isSame = false;\n        if (this.depth === 'Month') {\n            if ((startVal).setHours(0, 0, 0, 0) === (endVal).setHours(0, 0, 0, 0)) {\n                isSame = true;\n            }\n        }\n        else if (this.depth === 'Year') {\n            if ((startVal.getFullYear() === endVal.getFullYear()) &&\n                (startVal.getMonth() === endVal.getMonth())) {\n                isSame = true;\n            }\n        }\n        else if (this.depth === 'Decade') {\n            if (startVal.getFullYear() === endVal.getFullYear()) {\n                isSame = true;\n            }\n        }\n        return isSame;\n    };\n    DateRangePicker.prototype.updateRange = function (elementCollection) {\n        if (!isNullOrUndefined(this.startValue)) {\n            for (var _i = 0, elementCollection_1 = elementCollection; _i < elementCollection_1.length; _i++) {\n                var calendar = elementCollection_1[_i];\n                var tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n                for (var _a = 0, tdCells_3 = tdCells; _a < tdCells_3.length; _a++) {\n                    var ele = tdCells_3[_a];\n                    if (!ele.classList.contains(WEEKNUMBER) && !ele.classList.contains(DISABLED)) {\n                        var eleDate = this.getIdValue(null, ele);\n                        var eleDateValue = this.getIdValue(null, ele);\n                        if (!isNullOrUndefined(this.endValue)) {\n                            if (this.currentView() === this.depth &&\n                                +eleDateValue.setHours(0, 0, 0, 0) >= +new Date(+this.startValue).setHours(0, 0, 0, 0)\n                                && +eleDateValue.setHours(0, 0, 0, 0) <= +new Date(+this.endValue).setHours(0, 0, 0, 0) &&\n                                !this.isSameStartEnd(new Date(+this.startValue), new Date(+this.endValue)) &&\n                                +new Date(+this.startValue).setHours(0, 0, 0, 0) >= +this.min\n                                && +new Date(+this.endValue).setHours(0, 0, 0, 0) <= +this.max\n                                && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                                addClass([ele], RANGEHOVER);\n                            }\n                        }\n                        else {\n                            removeClass([ele], [RANGEHOVER]);\n                        }\n                        if (!ele.classList.contains(OTHERMONTH)) {\n                            var startDateValue = new Date(+this.startValue);\n                            var eleDateValue_1 = new Date(+eleDate);\n                            if (this.currentView() === this.depth &&\n                                +eleDateValue_1.setHours(0, 0, 0, 0) === +startDateValue.setHours(0, 0, 0, 0)\n                                && +eleDateValue_1.setHours(0, 0, 0, 0) >= +startDateValue.setHours(0, 0, 0, 0) &&\n                                +this.startValue >= +this.min\n                                && !this.inputWrapper.container.classList.contains('e-error')\n                                && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                                addClass([ele], [STARTDATE, SELECTED]);\n                                this.addSelectedAttributes(ele, this.startValue, true);\n                            }\n                            var endDateValue = new Date(+this.endValue);\n                            if (this.currentView() === 'Year') {\n                                eleDateValue_1 = new Date(eleDateValue_1.getFullYear(), eleDateValue_1.getMonth() + 1, 0);\n                            }\n                            else if (this.currentView() === 'Decade') {\n                                eleDateValue_1 = new Date(eleDateValue_1.getFullYear(), 11, 31);\n                            }\n                            if (this.currentView() === this.depth &&\n                                !isNullOrUndefined(this.endValue) &&\n                                +eleDateValue_1.setHours(0, 0, 0, 0) === +endDateValue.setHours(0, 0, 0, 0)\n                                && +eleDateValue_1.setHours(0, 0, 0, 0) <= +endDateValue.setHours(0, 0, 0, 0) &&\n                                +this.startValue >= +this.min\n                                && !this.inputWrapper.container.classList.contains('e-error')\n                                && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                                addClass([ele], [ENDDATE, SELECTED]);\n                                this.addSelectedAttributes(ele, this.startValue, false);\n                            }\n                            if (+eleDate === +this.startValue && !isNullOrUndefined(this.endValue) && +eleDate === +this.endValue) {\n                                this.addSelectedAttributes(ele, this.endValue, false, true);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.checkMinMaxDays = function () {\n        if ((!isNullOrUndefined(this.minDays) && this.minDays > 0) || (!isNullOrUndefined(this.maxDays) && this.maxDays > 0)) {\n            if (!this.isMobile) {\n                this.updateMinMaxDays(this.popupObj.element.querySelector('.' + LEFTCALENDER));\n                this.updateMinMaxDays(this.popupObj.element.querySelector('.' + RIGHTCALENDER));\n            }\n            else {\n                this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n            }\n        }\n    };\n    DateRangePicker.prototype.rangeArgs = function (e) {\n        var inputValue;\n        var range;\n        var startDate = !isNullOrUndefined(this.startValue) ?\n            this.globalize.formatDate(this.startValue, { format: this.formatString, type: 'date', skeleton: 'yMd' }) : null;\n        var endDate = !isNullOrUndefined(this.endValue) ?\n            this.globalize.formatDate(this.endValue, { format: this.formatString, type: 'date', skeleton: 'yMd' }) : null;\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            inputValue = startDate + ' ' + this.separator + ' ' + endDate;\n            range = (Math.round(Math.abs((this.startValue.getTime() - this.endValue.getTime()) / (1000 * 60 * 60 * 24))) + 1);\n        }\n        else {\n            inputValue = '';\n            range = 0;\n        }\n        var args = {\n            value: this.value,\n            startDate: this.startValue,\n            endDate: this.endValue,\n            daySpan: range,\n            event: e || null,\n            element: this.element,\n            isInteracted: !isNullOrUndefined(e),\n            text: inputValue\n        };\n        return args;\n    };\n    DateRangePicker.prototype.otherMonthSelect = function (ele, isStartDate, sameDate) {\n        var value = +this.getIdValue(null, ele);\n        var dateIdString = '*[id^=\"/id\"]:not(.e-other-month)'.replace('/id', '' + value);\n        var tdCell = this.popupObj && this.popupObj.element.querySelector(dateIdString);\n        if (!isNullOrUndefined(tdCell)) {\n            if (isStartDate) {\n                addClass([tdCell], [STARTDATE, SELECTED]);\n                this.addSelectedAttributes(tdCell, this.startValue, true);\n            }\n            else {\n                addClass([tdCell], [ENDDATE, SELECTED]);\n                this.addSelectedAttributes(tdCell, this.endValue, true);\n            }\n            if (sameDate) {\n                this.addSelectedAttributes(ele, this.endValue, false, true);\n            }\n        }\n    };\n    // tslint:disable-next-line:max-func-body-length\n    DateRangePicker.prototype.selectRange = function (event, element) {\n        var leftCalendar;\n        var rightCalendar;\n        if (event) {\n            event.preventDefault();\n        }\n        var date;\n        date = isNullOrUndefined(event) ? this.getIdValue(null, element)\n            : this.getIdValue(event, null);\n        var y = date.getFullYear();\n        var m = date.getMonth();\n        var firstDay = new Date(y, m, 1);\n        var lastDay = new Date(y, m + 1, 0);\n        var firstMonth = new Date(y, 0, 1);\n        var lastMonth = new Date(y, 11, 31);\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            if (!this.isMobile || this.isMobile && !this.endButton.element.classList.contains(ACTIVE)) {\n                this.removeSelection();\n            }\n        }\n        else if (this.isMobile && this.startButton.element.classList.contains(ACTIVE)) {\n            this.removeSelection();\n        }\n        var ele = element || event.currentTarget;\n        if (isNullOrUndefined(this.startValue)) {\n            if (!isNullOrUndefined(this.previousStartValue)) {\n                date.setHours(this.previousStartValue.getHours());\n                date.setMinutes(this.previousStartValue.getMinutes());\n                date.setSeconds(this.previousStartValue.getSeconds());\n            }\n            this.startValue = (this.depth === 'Month') ? new Date(this.checkValue(date)) :\n                (this.depth === 'Year') ? firstDay : firstMonth;\n            this.endValue = null;\n            this.setValue();\n            addClass([ele], STARTDATE);\n            this.addSelectedAttributes(ele, this.startValue, true);\n            if (ele.classList.contains(OTHERMONTH)) {\n                this.otherMonthSelect(ele, true);\n            }\n            this.checkMinMaxDays();\n            this.applyButton.disabled = true;\n            this.applyButton.element.disabled = true;\n            if (this.isMobile) {\n                this.endButton.element.classList.add(ACTIVE);\n                this.startButton.element.classList.remove(ACTIVE);\n                this.endButton.element.removeAttribute('disabled');\n                this.selectableDates();\n            }\n            this.trigger('select', this.rangeArgs(event));\n        }\n        else {\n            if (+date === +this.startValue || +date > +this.startValue) {\n                if (+date === +this.startValue && !isNullOrUndefined(this.minDays) && this.minDays > 1) {\n                    return;\n                }\n                this.endValue = null;\n                this.setValue();\n                if (this.isMobile || element) {\n                    this.hoverSelection(event, element);\n                }\n                if (!isNullOrUndefined(this.previousEndValue)) {\n                    date.setHours(this.previousEndValue.getHours());\n                    date.setMinutes(this.previousEndValue.getMinutes());\n                    date.setSeconds(this.previousEndValue.getSeconds());\n                }\n                this.endValue = (this.depth === 'Month') ? new Date(this.checkValue(date)) :\n                    (this.depth === 'Year') ? lastDay : lastMonth;\n                this.setValue();\n                var endEle = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n                if (this.isMobile) {\n                    this.startButton.element.classList.remove(ACTIVE);\n                    this.endButton.element.classList.add(ACTIVE);\n                    for (var _i = 0, endEle_1 = endEle; _i < endEle_1.length; _i++) {\n                        var ele_1 = endEle_1[_i];\n                        ele_1.removeAttribute('aria-label');\n                        if (!ele_1.classList.contains(STARTDATE)) {\n                            ele_1.setAttribute('aria-selected', 'false');\n                            removeClass([ele_1], [ENDDATE, SELECTED]);\n                        }\n                        else {\n                            this.addSelectedAttributes(ele_1, this.startValue, true);\n                            removeClass([ele_1], [ENDDATE]);\n                        }\n                    }\n                }\n                addClass([ele], ENDDATE);\n                if (+this.endValue === +this.startValue) {\n                    this.addSelectedAttributes(ele, this.endValue, false, true);\n                }\n                else {\n                    this.addSelectedAttributes(ele, this.endValue, false);\n                }\n                if (ele.classList.contains(OTHERMONTH)) {\n                    if (+this.endValue === +this.startValue) {\n                        this.otherMonthSelect(ele, false, true);\n                    }\n                    else {\n                        this.otherMonthSelect(ele, false);\n                    }\n                }\n                endEle = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n                for (var _a = 0, endEle_2 = endEle; _a < endEle_2.length; _a++) {\n                    var ele_2 = endEle_2[_a];\n                    if (ele_2.classList.contains(STARTDATE)) {\n                        removeClass([ele_2], [RANGEHOVER]);\n                    }\n                }\n                this.applyButton.disabled = false;\n                this.applyButton.element.disabled = false;\n                if (!this.isMobile) {\n                    this.removeClassDisabled();\n                }\n                this.disabledDateRender();\n                this.trigger('select', this.rangeArgs(event));\n            }\n            else if (+date < +this.startValue) {\n                this.removeClassDisabled();\n                this.startValue = (this.depth === 'Month') ? new Date(this.checkValue(date)) :\n                    (this.depth === 'Year') ? firstDay : firstMonth;\n                this.setValue();\n                this.removeSelectedAttributes();\n                removeClass(this.popupObj.element.querySelectorAll('.' + STARTDATE), [STARTDATE, SELECTED]);\n                addClass([ele], STARTDATE);\n                this.addSelectedAttributes(ele, this.startValue, true);\n                if (ele.classList.contains(OTHERMONTH)) {\n                    this.otherMonthSelect(ele, true);\n                }\n                this.checkMinMaxDays();\n            }\n        }\n        if (event) {\n            leftCalendar = closest(event.target, '.' + LEFTCALENDER);\n        }\n        if (!isNullOrUndefined(leftCalendar)) {\n            this.leftCalendar.children[1].firstElementChild.focus();\n        }\n        else {\n            if (event) {\n                rightCalendar = event && closest(event.target, '.' + RIGHTCALENDER);\n            }\n            if (!isNullOrUndefined(rightCalendar)) {\n                this.rightCalendar.children[1].firstElementChild.focus();\n            }\n        }\n        addClass([ele], SELECTED);\n        this.updateHeader();\n        this.removeFocusedDate();\n    };\n    DateRangePicker.prototype.selectableDates = function () {\n        if (!isNullOrUndefined(this.startValue)) {\n            var tdCells = this.calendarElement.querySelectorAll('.' + CALENDAR + ' td');\n            var isStartDate = false;\n            if (this.currentView() === this.depth) {\n                for (var _i = 0, tdCells_4 = tdCells; _i < tdCells_4.length; _i++) {\n                    var ele = tdCells_4[_i];\n                    if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(WEEKNUMBER)) {\n                        if (!ele.classList.contains(DISABLED)) {\n                            var eleDate = this.getIdValue(null, ele);\n                            if (+eleDate < +this.startValue) {\n                                addClass([ele], [DATEDISABLED, DISABLED, OVERLAY]);\n                                EventHandler.clearEvents(ele);\n                                continue;\n                            }\n                            else {\n                                break;\n                            }\n                        }\n                    }\n                    if (ele.classList.contains(STARTDATE) && !ele.classList.contains(OTHERMONTH)) {\n                        isStartDate = true;\n                        break;\n                    }\n                }\n                if (isStartDate) {\n                    if (!this.previousIcon.classList.contains(DISABLED)) {\n                        addClass([this.previousIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n                    }\n                }\n            }\n            else {\n                for (var _a = 0, tdCells_5 = tdCells; _a < tdCells_5.length; _a++) {\n                    var ele = tdCells_5[_a];\n                    var startMonth = this.startValue.getMonth();\n                    var startYear = this.startValue.getFullYear();\n                    var element = this.getIdValue(null, ele);\n                    if (!this.startButton.element.classList.contains(ACTIVE) && ((this.currentView() === 'Year' &&\n                        (element.getMonth() < startMonth) && (element.getFullYear() <= startYear))\n                        || (this.currentView() === 'Decade' && (element.getMonth() <= startMonth) &&\n                            (element.getFullYear() < startYear)))) {\n                        addClass([ele], [DISABLED]);\n                    }\n                    else {\n                        break;\n                    }\n                }\n                if (tdCells[0].classList.contains(DISABLED)) {\n                    this.previousIconHandler(true);\n                }\n                else if (tdCells[tdCells.length - 1].classList.contains(DISABLED)) {\n                    this.nextIconHandler(true);\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.updateMinMaxDays = function (calendar) {\n        if ((!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) ||\n            (this.isMobile && this.endButton.element.classList.contains(ACTIVE))) {\n            if ((!isNullOrUndefined(this.minDays) && this.minDays > 0) || (!isNullOrUndefined(this.maxDays) && this.maxDays > 0)) {\n                var minDate = new Date(new Date(+this.startValue).setDate(this.startValue.getDate() + (this.minDays - 1)));\n                var maxDate = new Date(new Date(+this.startValue).setDate(this.startValue.getDate() + (this.maxDays - 1)));\n                minDate = (!isNullOrUndefined(this.minDays) && this.minDays > 0) ? minDate : null;\n                maxDate = (!isNullOrUndefined(this.maxDays) && this.maxDays > 0) ? maxDate : null;\n                if (this.currentView() === 'Year') {\n                    minDate = isNullOrUndefined(minDate) ? null : new Date(minDate.getFullYear(), minDate.getMonth(), 0);\n                    maxDate = isNullOrUndefined(maxDate) ? null : new Date(maxDate.getFullYear(), maxDate.getMonth(), 1);\n                }\n                else if (this.currentView() === 'Decade') {\n                    minDate = isNullOrUndefined(minDate) ? null : new Date(minDate.getFullYear() - 1, 11, 1);\n                    maxDate = isNullOrUndefined(maxDate) ? null : new Date(maxDate.getFullYear(), 0, 1);\n                }\n                var tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n                var maxEle = void 0;\n                for (var _i = 0, tdCells_6 = tdCells; _i < tdCells_6.length; _i++) {\n                    var ele = tdCells_6[_i];\n                    if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(WEEKNUMBER)) {\n                        var eleDate = this.getIdValue(null, ele);\n                        if (!isNullOrUndefined(minDate) && +eleDate === +minDate && ele.classList.contains(DISABLED)) {\n                            minDate.setDate(minDate.getDate() + 1);\n                        }\n                        if (!ele.classList.contains(DISABLED)) {\n                            if (+eleDate <= +this.startValue) {\n                                continue;\n                            }\n                            if (!isNullOrUndefined(minDate) && +eleDate < +minDate) {\n                                addClass([ele], [DATEDISABLED, DISABLED, OVERLAY]);\n                                EventHandler.clearEvents(ele);\n                            }\n                            if (!isNullOrUndefined(maxDate) && +eleDate > +maxDate) {\n                                addClass([ele], [DATEDISABLED, DISABLED, OVERLAY]);\n                                this.isMaxDaysClicked = true;\n                                EventHandler.clearEvents(ele);\n                                if (isNullOrUndefined(maxEle) && !ele.classList.contains(OTHERMONTH)) {\n                                    maxEle = ele;\n                                }\n                            }\n                        }\n                    }\n                }\n                if (!isNullOrUndefined(maxEle)) {\n                    if (this.isMobile) {\n                        if (!this.nextIcon.classList.contains(DISABLED)) {\n                            addClass([this.nextIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n                        }\n                    }\n                    else {\n                        var calendar_1 = closest(maxEle, '.' + RIGHTCALENDER);\n                        calendar_1 = isNullOrUndefined(calendar_1) ? this.leftCalendar : calendar_1;\n                        var isLeftCalendar = calendar_1.classList.contains(LEFTCALENDER);\n                        if (!isLeftCalendar) {\n                            if (!this.rightCalNextIcon.classList.contains(DISABLED)) {\n                                addClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n                            }\n                        }\n                        else {\n                            if (!this.rightCalNextIcon.classList.contains(DISABLED)) {\n                                addClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n                            }\n                            if (!this.leftCalNextIcon.classList.contains(DISABLED)) {\n                                addClass([this.leftCalNextIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n                            }\n                            if (!this.rightCalPrevIcon.classList.contains(DISABLED)) {\n                                addClass([this.rightCalPrevIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            this.isMaxDaysClicked = false;\n        }\n    };\n    DateRangePicker.prototype.removeClassDisabled = function () {\n        var tdCells;\n        tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td' + '.' + DATEDISABLED);\n        for (var _i = 0, tdCells_7 = tdCells; _i < tdCells_7.length; _i++) {\n            var ele = tdCells_7[_i];\n            if (ele.classList.contains(DATEDISABLED)) {\n                removeClass([ele], [DATEDISABLED, DISABLED, OVERLAY]);\n                EventHandler.add(ele, 'click', this.selectRange, this);\n                if (!this.isMobile) {\n                    EventHandler.add(ele, 'mouseover', this.hoverSelection, this);\n                }\n            }\n        }\n        if (this.isMobile) {\n            if (this.nextIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.nextIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n            }\n            if (this.previousIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.previousIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n            }\n        }\n        else {\n            if (this.rightCalNextIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n            }\n            if (this.rightCalPrevIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.rightCalPrevIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n            }\n            if (this.leftCalNextIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.leftCalNextIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n            }\n        }\n    };\n    DateRangePicker.prototype.updateHeader = function () {\n        var format = { type: 'date', skeleton: 'yMMMd' };\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            var range = (Math.round(Math.abs((this.startValue.getTime() - this.endValue.getTime()) / (1000 * 60 * 60 * 24))) + 1);\n            if (!isNullOrUndefined(this.disabledDayCnt)) {\n                range = range - this.disabledDayCnt;\n                this.disabledDayCnt = null;\n            }\n            this.popupObj.element.querySelector('.' + DAYSPAN).textContent = range.toString() + ' ' + this.l10n.getConstant('days');\n        }\n        else {\n            this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n        }\n        if (!this.isMobile) {\n            if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n                this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.globalize.formatDate(this.endValue, format);\n            }\n            else {\n                this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.l10n.getConstant('endLabel');\n            }\n            if (!isNullOrUndefined(this.startValue)) {\n                this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.globalize.formatDate(this.startValue, format);\n            }\n            else {\n                this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.l10n.getConstant('startLabel');\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.startValue)) {\n                this.startButton.element.textContent = this.globalize.formatDate(this.startValue, format);\n            }\n            else {\n                this.startButton.element.textContent = this.l10n.getConstant('startLabel');\n            }\n            if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n                this.endButton.element.textContent = this.globalize.formatDate(this.endValue, format);\n            }\n            else {\n                this.endButton.element.textContent = this.l10n.getConstant('endLabel');\n            }\n        }\n        if ((this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue)) ||\n            ((!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)\n                || (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n                || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue))\n                    && +this.startValue > +this.endValue))) {\n            if (!this.isMobile) {\n                this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n                this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.l10n.getConstant('startLabel');\n                this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.l10n.getConstant('endLabel');\n            }\n            else {\n                this.startButton.element.textContent = this.l10n.getConstant('startLabel');\n                this.endButton.element.textContent = this.l10n.getConstant('endLabel');\n                this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n            }\n        }\n        if (this.popupObj.element.querySelector('#custom_range')) {\n            this.popupObj.element.querySelector('#custom_range').textContent =\n                this.l10n.getConstant('customRange') !== '' ? this.l10n.getConstant('customRange') : 'Custom Range';\n        }\n    };\n    DateRangePicker.prototype.removeSelection = function () {\n        this.startValue = null;\n        this.endValue = null;\n        this.setValue();\n        this.removeSelectedAttributes();\n        if (this.popupObj) {\n            if (this.popupObj.element.querySelectorAll('.' + SELECTED).length > 0) {\n                removeClass(this.popupObj.element.querySelectorAll('.' + SELECTED), [STARTDATE, ENDDATE, SELECTED]);\n            }\n            if (this.popupObj.element.querySelectorAll('.' + FOCUSDATE).length > 0) {\n                removeClass(this.popupObj.element.querySelectorAll('.' + FOCUSDATE), FOCUSDATE);\n            }\n            if (this.popupObj.element.querySelectorAll('.' + RANGEHOVER).length > 0) {\n                removeClass(this.popupObj.element.querySelectorAll('.' + RANGEHOVER), [RANGEHOVER]);\n            }\n        }\n    };\n    DateRangePicker.prototype.addSelectedAttributes = function (ele, date, isStartDate, sameDate) {\n        if (ele) {\n            var title = this.globalize.formatDate(date, { type: 'date', skeleton: 'full' });\n            if (!isNullOrUndefined(sameDate) && sameDate) {\n                ele.setAttribute('aria-label', 'The current start and end date is ' + '' + title);\n            }\n            else {\n                ele.setAttribute('aria-label', 'The current ' + (isStartDate ? 'start' : 'end') + ' date is ' + '' + title);\n            }\n            ele.setAttribute('aria-selected', 'true');\n        }\n    };\n    DateRangePicker.prototype.removeSelectedAttributes = function () {\n        if (this.popupObj) {\n            var start = this.popupObj.element.querySelectorAll('.' + STARTDATE);\n            for (var _i = 0, start_1 = start; _i < start_1.length; _i++) {\n                var ele = start_1[_i];\n                ele.setAttribute('aria-selected', 'false');\n                ele.removeAttribute('aria-label');\n            }\n            var end = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n            for (var _a = 0, end_1 = end; _a < end_1.length; _a++) {\n                var ele = end_1[_a];\n                ele.setAttribute('aria-selected', 'false');\n                ele.removeAttribute('aria-label');\n            }\n        }\n    };\n    DateRangePicker.prototype.updateCalendarElement = function (calendar) {\n        if (calendar.classList.contains(LEFTCALENDER)) {\n            this.calendarElement = this.leftCalendar;\n            this.currentDate = this.leftCalCurrentDate;\n            this.previousIcon = this.leftCalPrevIcon;\n            this.nextIcon = this.leftCalNextIcon;\n        }\n        else {\n            this.calendarElement = this.rightCalendar;\n            this.currentDate = this.rightCalCurrentDate;\n            this.previousIcon = this.rightCalPrevIcon;\n            this.nextIcon = this.rightCalNextIcon;\n        }\n        this.contentElement = calendar.querySelector('.' + CONTENT);\n        this.tableBodyElement = select('.' + CONTENT + ' tbody', calendar);\n        this.table = calendar.querySelector('.' + CONTENT).getElementsByTagName('table')[0];\n        this.headerTitleElement = calendar.querySelector('.' + HEADER + ' .' + TITLE);\n        this.headerElement = calendar.querySelector('.' + HEADER);\n    };\n    DateRangePicker.prototype.navPrevMonth = function (e) {\n        e.preventDefault();\n        var ele = closest(e.target, '.' + LEFTCALENDER);\n        ele = isNullOrUndefined(ele) ? closest(e.target, '.' + RIGHTCALENDER) : ele;\n        this.updateCalendarElement(ele);\n        this.navigatePrevious(e);\n        if (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n            this.updateMinMaxDays(ele);\n        }\n        this.updateControl(ele);\n    };\n    DateRangePicker.prototype.deviceNavigation = function (ele) {\n        this.deviceCalendarEvent();\n        this.updateRange([this.popupObj.element.querySelector('.' + CALENDAR)]);\n        if (this.endButton.element.classList.contains(ACTIVE)) {\n            this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n        }\n        if (this.endButton.element.classList.contains(ACTIVE)) {\n            this.selectableDates();\n        }\n        if (this.currentView() === this.depth) {\n            this.bindCalendarCellEvents();\n        }\n        this.removeFocusedDate();\n    };\n    DateRangePicker.prototype.updateControl = function (calendar) {\n        if (calendar.classList.contains(RIGHTCALENDER)) {\n            this.rightCalCurrentDate = new Date(+this.currentDate);\n        }\n        else {\n            this.leftCalCurrentDate = new Date(+this.currentDate);\n        }\n        this.updateNavIcons();\n        this.calendarIconEvent();\n        if ((((this.depth === 'Month')\n            && this.leftCalendar.querySelector('.e-content').classList.contains('e-month')\n            && this.rightCalendar.querySelector('.e-content').classList.contains('e-month'))\n            || ((this.depth === 'Year')\n                && this.leftCalendar.querySelector('.e-content').classList.contains('e-year')\n                && this.rightCalendar.querySelector('.e-content').classList.contains('e-year'))\n            || ((this.depth === 'Decade')\n                && this.leftCalendar.querySelector('.e-content').classList.contains('e-decade')\n                && this.rightCalendar.querySelector('.e-content').classList.contains('e-decade')))\n            || this.isMobile) {\n            this.bindCalendarCellEvents();\n        }\n        this.removeFocusedDate();\n        this.updateRange([calendar]);\n    };\n    DateRangePicker.prototype.navNextMonth = function (event) {\n        event.preventDefault();\n        var ele = closest(event.target, '.' + LEFTCALENDER);\n        ele = isNullOrUndefined(ele) ? closest(event.target, '.' + RIGHTCALENDER) : ele;\n        this.updateCalendarElement(ele);\n        this.navigateNext(event);\n        if (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n            this.updateMinMaxDays(ele);\n        }\n        this.updateControl(ele);\n    };\n    DateRangePicker.prototype.compareMonths = function (start, end) {\n        var result;\n        if (start.getFullYear() === end.getFullYear() &&\n            (this.currentView() === 'Year' || this.currentView() === 'Decade')) {\n            result = -1;\n        }\n        else if (start.getFullYear() > end.getFullYear()) {\n            result = -1;\n        }\n        else if (start.getFullYear() < end.getFullYear()) {\n            if (start.getFullYear() + 1 === end.getFullYear() && start.getMonth() === 11 && end.getMonth() === 0) {\n                result = -1;\n            }\n            else {\n                result = 1;\n            }\n        }\n        else {\n            result = start.getMonth() === end.getMonth() ? 0 : start.getMonth() + 1 === end.getMonth() ? -1 : 1;\n        }\n        return result;\n    };\n    DateRangePicker.prototype.compareYears = function (start, end) {\n        var result;\n        if (start.getFullYear() === end.getFullYear()) {\n            result = -1;\n        }\n        else if (start.getFullYear() > end.getFullYear()) {\n            result = -1;\n        }\n        else {\n            if (start.getFullYear() + 1 === end.getFullYear()) {\n                result = -1;\n            }\n            else {\n                result = 1;\n            }\n        }\n        return result;\n    };\n    DateRangePicker.prototype.compareDecades = function (start, end) {\n        var result;\n        if (start.getFullYear() === end.getFullYear()) {\n            result = -1;\n        }\n        else if (start.getFullYear() > end.getFullYear()) {\n            result = -1;\n        }\n        else {\n            var strtFullYr = start.getFullYear();\n            var enFullYr = end.getFullYear();\n            if ((strtFullYr - (strtFullYr % 10) + 10) === (enFullYr - (enFullYr % 10))) {\n                result = -1;\n            }\n            else {\n                result = 1;\n            }\n        }\n        return result;\n    };\n    DateRangePicker.prototype.isPopupOpen = function () {\n        if (!isNullOrUndefined(this.popupObj) && this.popupObj.element.classList.contains(POPUP)) {\n            return true;\n        }\n        return false;\n    };\n    DateRangePicker.prototype.createRangeHeader = function () {\n        var labelContainer = this.createElement('div', { className: STARTENDCONTAINER });\n        if (!this.isMobile) {\n            var startLabel = this.createElement('a', { className: STARTLABEL });\n            var endLabel = this.createElement('a', { className: ENDLABEL });\n            var changeIcon = this.createElement('span', { className: CHANGEICON });\n            attributes(startLabel, { 'aria-atomic': 'true', 'aria-live': 'assertive', 'aria-label': 'Start Date', 'role': 'button' });\n            attributes(endLabel, { 'aria-atomic': 'true', 'aria-live': 'assertive', 'aria-label': 'End Date', 'role': 'button' });\n            labelContainer.appendChild(startLabel);\n            labelContainer.appendChild(changeIcon);\n            labelContainer.appendChild(endLabel);\n            startLabel.textContent = this.l10n.getConstant('startLabel');\n            endLabel.textContent = this.l10n.getConstant('endLabel');\n        }\n        else {\n            var endBtn = this.createElement('button', { className: ENDBUTTON });\n            var startBtn = this.createElement('button', { className: STARTBUTTON });\n            this.startButton = new Button({ content: this.l10n.getConstant('startLabel') }, startBtn);\n            this.endButton = new Button({ content: this.l10n.getConstant('endLabel') }, endBtn);\n            labelContainer.appendChild(startBtn);\n            labelContainer.appendChild(endBtn);\n        }\n        return labelContainer;\n    };\n    DateRangePicker.prototype.disableInput = function () {\n        if (this.strictMode) {\n            if (!isNullOrUndefined(this.previousStartValue) && !isNullOrUndefined(this.previousEndValue)) {\n                this.startValue = this.previousStartValue;\n                this.endValue = this.previousEndValue;\n                this.setValue();\n                this.updateInput();\n            }\n        }\n        else {\n            this.updateInput();\n            this.clearRange();\n            this.setProperties({ startDate: null }, true);\n            this.setProperties({ endDate: null }, true);\n            this.startValue = null;\n            this.endValue = null;\n            this.setValue();\n            this.errorClass();\n        }\n        this.setProperties({ enabled: false }, true);\n        Input.setEnabled(this.enabled, this.inputElement);\n        this.bindEvents();\n    };\n    DateRangePicker.prototype.validateMinMax = function () {\n        this.min = isNullOrUndefined(this.min) || !(+this.min) ? this.min = new Date(1900, 0, 1) : this.min;\n        this.max = isNullOrUndefined(this.max) || !(+this.max) ? this.max = new Date(2099, 11, 31) : this.max;\n        if (!(this.min <= this.max)) {\n            this.disableInput();\n            return;\n        }\n        if (!isNullOrUndefined(this.minDays) && !isNullOrUndefined(this.maxDays)) {\n            if (this.maxDays > 0 && this.minDays > 0 && (this.minDays > this.maxDays)) {\n                this.maxDays = null;\n            }\n        }\n        if (!isNullOrUndefined(this.minDays) && this.minDays < 0) {\n            this.minDays = null;\n        }\n        if (!isNullOrUndefined(this.maxDays) && this.maxDays < 0) {\n            this.maxDays = null;\n        }\n    };\n    DateRangePicker.prototype.validateRangeStrict = function () {\n        if (!isNullOrUndefined(this.startValue)) {\n            if (+this.startValue <= +this.min) {\n                this.startValue = this.min;\n                this.setValue();\n            }\n            else if (+this.startValue >= +this.min && +this.startValue >= +this.max) {\n                this.startValue = this.max;\n            }\n        }\n        if (!isNullOrUndefined(this.endValue)) {\n            if (+this.endValue > +this.max) {\n                this.endValue = this.max;\n                this.setValue();\n            }\n            else if (+this.endValue < +this.min) {\n                this.endValue = this.min;\n                this.setValue();\n            }\n        }\n        this.validateMinMaxDays();\n    };\n    DateRangePicker.prototype.validateRange = function () {\n        this.validateMinMaxDays();\n    };\n    DateRangePicker.prototype.validateMinMaxDays = function () {\n        if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n            var range = (Math.round(Math.abs((this.startValue.getTime() - this.endValue.getTime()) / (1000 * 60 * 60 * 24))) + 1);\n            if ((!isNullOrUndefined(this.minDays) && this.minDays > 0) && !(range >= this.minDays)) {\n                if (this.strictMode) {\n                    var date = new Date(+this.startValue);\n                    date.setDate(date.getDate() + (this.minDays - 1));\n                    if (+date > +this.max) {\n                        this.endValue = this.max;\n                        this.setValue();\n                    }\n                    else {\n                        this.endValue = date;\n                        this.setValue();\n                    }\n                }\n                else {\n                    this.startValue = null;\n                    this.endValue = null;\n                    this.setValue();\n                }\n            }\n            if ((!isNullOrUndefined(this.maxDays) && this.maxDays > 0) && !(range <= this.maxDays)) {\n                if (this.strictMode) {\n                    this.endValue = new Date(+this.startValue);\n                    this.endValue.setDate(this.endValue.getDate() + (this.maxDays - 1));\n                    this.setValue();\n                }\n                else {\n                    this.startValue = null;\n                    this.endValue = null;\n                    this.setValue();\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.renderCalendar = function () {\n        this.calendarElement = this.createElement('div');\n        this.calendarElement.classList.add(CALENDAR);\n        if (this.enableRtl) {\n            this.calendarElement.classList.add(RTL);\n        }\n        attributes(this.calendarElement, { 'role': 'calendar' });\n        _super.prototype.createHeader.call(this);\n        _super.prototype.createContent.call(this);\n    };\n    DateRangePicker.prototype.isSameMonth = function (start, end) {\n        if (start.getMonth() === end.getMonth() && start.getFullYear() === end.getFullYear()) {\n            return true;\n        }\n        return false;\n    };\n    DateRangePicker.prototype.isSameYear = function (start, end) {\n        if (start.getFullYear() === end.getFullYear()) {\n            return true;\n        }\n        return false;\n    };\n    DateRangePicker.prototype.isSameDecade = function (start, end) {\n        var startYear = start.getFullYear();\n        var endYear = end.getFullYear();\n        if ((startYear - (startYear % 10)) === (endYear - (endYear % 10))) {\n            return true;\n        }\n        return false;\n    };\n    DateRangePicker.prototype.startMonthCurrentDate = function () {\n        if (this.isSameMonth(this.min, this.max) || +this.currentDate > +this.max || this.isSameMonth(this.currentDate, this.max)) {\n            this.currentDate = new Date(+this.max);\n            this.currentDate.setDate(1);\n            this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n        }\n        else if (this.currentDate < this.min) {\n            this.currentDate = new Date(this.checkValue(this.min));\n        }\n    };\n    DateRangePicker.prototype.selectNextMonth = function () {\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameMonth(this.endValue, this.currentDate)\n            && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n            this.currentDate = new Date(+this.endValue);\n        }\n        else {\n            this.currentDate.setDate(1);\n            this.currentDate.setMonth(this.currentDate.getMonth() + 1);\n            return;\n        }\n        if ((!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)\n            || (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n            || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            this.currentDate.setDate(1);\n            var month = this.currentDate.getMonth() + 1;\n            this.currentDate.setMonth(month);\n        }\n    };\n    DateRangePicker.prototype.selectNextYear = function () {\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameYear(this.endValue, this.currentDate)\n            && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n            this.currentDate = new Date(+this.endValue);\n        }\n        else {\n            this.currentDate.setMonth(0);\n            var yr = this.currentDate.getFullYear() + 1;\n            this.currentDate.setFullYear(yr);\n            return;\n        }\n        if ((!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n            || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)\n            || (!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            this.currentDate.setMonth(0);\n            this.currentDate.setFullYear(this.currentDate.getFullYear() + 1);\n        }\n    };\n    DateRangePicker.prototype.selectNextDecade = function () {\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameDecade(this.endValue, this.currentDate)\n            && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n            this.currentDate = new Date(+this.endValue);\n        }\n        else {\n            var decyr = this.currentDate.getFullYear() + 10;\n            this.currentDate.setFullYear(decyr);\n            return;\n        }\n        if (((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)\n            || (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n            || (!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            this.currentDate.setFullYear(this.currentDate.getFullYear() + 10);\n        }\n    };\n    DateRangePicker.prototype.selectStartMonth = function () {\n        if (!isNullOrUndefined(this.startValue)) {\n            if (!isNullOrUndefined(this.max) && this.isSameMonth(this.startValue, this.max)) {\n                this.currentDate = new Date(+this.max);\n                this.currentDate.setDate(1);\n                this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n            }\n            else if (!(this.startValue >= this.min && this.startValue <= this.max)\n                || this.isDateDisabled(this.startValue)) {\n                this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            }\n            else {\n                this.currentDate = new Date(+this.startValue);\n            }\n        }\n        else {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            this.startMonthCurrentDate();\n        }\n        if ((!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n            || (!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)\n            || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n        }\n        this.startMonthCurrentDate();\n    };\n    DateRangePicker.prototype.createCalendar = function () {\n        var calendarContainer = this.createElement('div', { className: CALENDARCONTAINER });\n        if (!this.isMobile) {\n            this.selectStartMonth();\n            this.renderCalendar();\n            this.leftCalCurrentDate = new Date(+this.currentDate);\n            this.calendarElement.classList.add(LEFTCALENDER);\n            this.leftCalPrevIcon = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + PREVICON);\n            this.leftCalNextIcon = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + NEXTICON);\n            this.leftTitle = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + TITLE);\n            remove(this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + ICONCONTAINER));\n            this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER).appendChild(this.leftCalNextIcon);\n            this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER).appendChild(this.leftCalPrevIcon);\n            prepend([this.leftCalPrevIcon], this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER));\n            this.leftCalendar = this.calendarElement;\n            var leftContainer = this.createElement('div', { className: LEFTCONTAINER });\n            var rightContainer = this.createElement('div', { className: RIGHTCONTAINER });\n            leftContainer.appendChild(this.leftCalendar);\n            calendarContainer.appendChild(leftContainer);\n            if (!this.isMobile) {\n                EventHandler.add(this.leftTitle, 'click', this.leftNavTitle, this);\n            }\n            if (this.start === 'Month') {\n                this.selectNextMonth();\n            }\n            if (this.start === 'Year') {\n                this.selectNextYear();\n            }\n            if (this.start === 'Decade') {\n                this.selectNextDecade();\n            }\n            this.renderCalendar();\n            this.rightCalCurrentDate = new Date(+this.currentDate);\n            addClass([this.calendarElement], RIGHTCALENDER);\n            this.rightCalendar = this.calendarElement;\n            removeClass([this.leftCalendar && this.leftCalendar.querySelector('.e-content tbody')], 'e-zoomin');\n            removeClass([this.rightCalendar && this.rightCalendar.querySelector('.e-content tbody')], 'e-zoomin');\n            this.rightCalPrevIcon = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + PREVICON);\n            this.rightCalNextIcon = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + NEXTICON);\n            this.rightTitle = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + TITLE);\n            remove(this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + ICONCONTAINER));\n            this.calendarElement.querySelector('table').setAttribute('tabindex', '-1');\n            this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER).appendChild(this.rightCalNextIcon);\n            this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER).appendChild(this.rightCalPrevIcon);\n            prepend([this.rightCalPrevIcon], this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER));\n            rightContainer.appendChild(this.rightCalendar);\n            calendarContainer.appendChild(rightContainer);\n            if (!this.isMobile) {\n                EventHandler.add(this.rightTitle, 'click', this.rightNavTitle, this);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.startValue)) {\n                this.currentDate = new Date(+this.startValue);\n            }\n            _super.prototype.validateDate.call(this);\n            _super.prototype.minMaxUpdate.call(this);\n            _super.prototype.render.call(this);\n            var prevIcon = this.calendarElement.querySelector('.' + CALENDAR + ' .' + PREVICON);\n            var nextIcon = this.calendarElement.querySelector('.' + CALENDAR + ' .' + NEXTICON);\n            remove(this.calendarElement.querySelector('.' + CALENDAR + ' .' + ICONCONTAINER));\n            this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER).appendChild(nextIcon);\n            this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER).appendChild(prevIcon);\n            prepend([prevIcon], this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER));\n            this.deviceCalendar = this.calendarElement;\n            calendarContainer.appendChild(this.calendarElement);\n            this.headerTitleElement = this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER + ' .' + TITLE);\n        }\n        return calendarContainer;\n    };\n    DateRangePicker.prototype.leftNavTitle = function (e) {\n        if (this.isPopupOpen()) {\n            this.calendarElement = this.leftCalendar;\n            this.calendarNavigation(e, this.calendarElement);\n        }\n    };\n    DateRangePicker.prototype.calendarNavigation = function (e, element) {\n        this.table = element.querySelector('table');\n        this.headerTitleElement = element.querySelector('.e-title');\n        this.tableBodyElement = element.querySelector('tbody');\n        this.tableHeadElement = element.querySelector('thead');\n        this.contentElement = element.querySelector('.e-content');\n        this.updateCalendarElement(element);\n        _super.prototype.navigateTitle.call(this, e);\n        this.updateNavIcons();\n    };\n    DateRangePicker.prototype.rightNavTitle = function (e) {\n        if (this.isPopupOpen()) {\n            this.calendarElement = this.rightCalendar;\n            this.calendarNavigation(e, this.calendarElement);\n        }\n    };\n    DateRangePicker.prototype.clickEventEmitter = function (e) {\n        if (!this.isMobile) {\n            if (closest(e.target, '.e-calendar.e-left-calendar')) {\n                this.calendarElement = this.leftCalendar;\n                this.updateCalendarElement(this.leftCalendar);\n            }\n            else {\n                this.calendarElement = this.rightCalendar;\n                this.updateCalendarElement(this.rightCalendar);\n            }\n        }\n    };\n    /**\n     * Gets the current view of the Calendar.\n     * @returns string\n     * @private\n     * @hidden\n     */\n    DateRangePicker.prototype.currentView = function () {\n        return _super.prototype.currentView.call(this);\n    };\n    DateRangePicker.prototype.getCalendarView = function (view) {\n        if (view === 'Year') {\n            return 'Year';\n        }\n        else if (view === 'Decade') {\n            return 'Decade';\n        }\n        else {\n            return 'Month';\n        }\n    };\n    DateRangePicker.prototype.navigatedEvent = function (e) {\n        this.trigger('navigated', this.navigatedArgs);\n        if (!isNullOrUndefined(this.popupObj)) {\n            var element = void 0;\n            var view = this.getCalendarView(this.currentView());\n            if (this.isMobile) {\n                if (view === this.depth) {\n                    this.bindCalendarCellEvents();\n                    this.deviceNavigation();\n                    this.removeFocusedDate();\n                    this.checkMinMaxDays();\n                }\n                else {\n                    this.selectableDates();\n                }\n            }\n            else {\n                if (!this.isMobile && view === this.depth) {\n                    element = this.calendarElement.classList.contains('e-left-calendar') ? this.leftCalendar : this.rightCalendar;\n                    if (element === this.leftCalendar && ((e && !e.currentTarget.children[0].classList.contains('e-icons'))\n                        || (!isNullOrUndefined(this.controlDown)))) {\n                        this.leftCalCurrentDate = new Date(+this.currentDate);\n                        if (view === 'Year') {\n                            var year = this.currentDate.getFullYear() + 1;\n                            this.rightCalCurrentDate = new Date(new Date(+this.currentDate).setFullYear(year));\n                        }\n                        else if (view === 'Decade') {\n                            var decYear = this.currentDate.getFullYear() + 10;\n                            this.rightCalCurrentDate = new Date(new Date(+this.currentDate).setFullYear(decYear));\n                        }\n                        else {\n                            this.rightCalCurrentDate = new Date(new Date(+this.currentDate).setMonth(this.currentDate.getMonth() + 1));\n                        }\n                        this.currentDate = this.leftCalCurrentDate;\n                        this.updateCalendarElement(this.leftCalendar);\n                        this.updateControl(this.leftCalendar);\n                        this.updateCalendarElement(this.rightCalendar);\n                        _super.prototype.navigateTo.call(this, view, this.rightCalCurrentDate);\n                        this.updateControl(this.rightCalendar);\n                        this.updateNavIcons();\n                        this.calendarIconEvent();\n                        this.calendarIconRipple();\n                        this.controlDown = null;\n                    }\n                    else if (e && !e.currentTarget.children[0].classList.contains('e-icons')\n                        || (!isNullOrUndefined(this.controlDown))) {\n                        this.rightCalCurrentDate = new Date(+this.currentDate);\n                        if (view === 'Year') {\n                            var yr = this.currentDate.getFullYear() - 1;\n                            this.leftCalCurrentDate = new Date(new Date(+this.currentDate).setFullYear(yr));\n                        }\n                        else if (view === 'Decade') {\n                            var decyr = this.currentDate.getFullYear() - 10;\n                            this.leftCalCurrentDate = new Date(new Date(+this.currentDate).setFullYear(decyr));\n                        }\n                        else {\n                            this.leftCalCurrentDate = new Date(new Date(+this.currentDate).setMonth(this.currentDate.getMonth() - 1));\n                        }\n                        this.currentDate = this.rightCalCurrentDate;\n                        this.updateCalendarElement(this.rightCalendar);\n                        this.updateControl(this.rightCalendar);\n                        this.updateCalendarElement(this.leftCalendar);\n                        if (this.startValue && isNullOrUndefined(this.endValue)) {\n                            if (view === 'Month' && this.startValue.getMonth() < this.rightCalCurrentDate.getMonth() &&\n                                this.startValue.getFullYear() <= this.rightCalCurrentDate.getFullYear()) {\n                                _super.prototype.navigateTo.call(this, view, new Date(+this.startValue));\n                            }\n                            else if (view === 'Year' && this.startValue.getFullYear() < this.rightCalCurrentDate.getFullYear()) {\n                                _super.prototype.navigateTo.call(this, view, new Date(+this.startValue));\n                            }\n                            else {\n                                _super.prototype.navigateTo.call(this, view, this.leftCalCurrentDate);\n                            }\n                        }\n                        else {\n                            _super.prototype.navigateTo.call(this, view, this.leftCalCurrentDate);\n                        }\n                        this.updateControl(this.leftCalendar);\n                        this.updateNavIcons();\n                        this.calendarIconEvent();\n                        this.calendarIconRipple();\n                        this.controlDown = null;\n                    }\n                    this.checkMinMaxDays();\n                }\n                else {\n                    this.updateNavIcons();\n                    this.calendarIconEvent();\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.createControl = function () {\n        var controlContainer = this.createElement('div', { className: RANGECONTAINER });\n        var headerContainer = this.createElement('div', { className: RANGEHEADER });\n        var labelContainer = this.createRangeHeader();\n        headerContainer.appendChild(labelContainer);\n        var daySpan = this.createElement('div', { className: DAYSPAN });\n        attributes(daySpan, { 'aria-label': 'Selected Days' });\n        daySpan.textContent = this.l10n.getConstant('selectedDays');\n        headerContainer.appendChild(daySpan);\n        var separator = this.createElement('div', { className: SEPARATOR });\n        var calendarContainer = this.createCalendar();\n        controlContainer.appendChild(headerContainer);\n        controlContainer.appendChild(separator);\n        controlContainer.appendChild(calendarContainer);\n        var footerSection = this.createElement('div', { className: FOOTER });\n        var cancelBtn = this.createElement('button', { className: CANCEL + ' ' + FLAT + ' ' + CSS });\n        var applyBtn = this.createElement('button');\n        addClass([applyBtn], [APPLY, FLAT, PRIMARY, CSS]);\n        footerSection.appendChild(applyBtn);\n        footerSection.appendChild(cancelBtn);\n        var enable = !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue);\n        this.cancelButton = new Button({ content: this.l10n.getConstant('cancelText') }, cancelBtn);\n        this.applyButton = new Button({ content: this.l10n.getConstant('applyText'), disabled: !enable }, applyBtn);\n        EventHandler.add(applyBtn, 'click', this.applyFunction, this);\n        EventHandler.add(cancelBtn, 'click', this.cancelFunction, this);\n        this.popupWrapper.appendChild(controlContainer);\n        if (!this.isMobile) {\n            if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n                this.createPresets();\n                this.listRippleEffect();\n                addClass([controlContainer], RANGEBORDER);\n                addClass([this.popupWrapper], 'e-preset-wrapper');\n                var presets = this.popupWrapper.querySelector('.' + PRESETS);\n                presets.style.height = this.popupWrapper.querySelector('.' + RANGECONTAINER).getBoundingClientRect().height + 'px';\n            }\n        }\n        this.popupWrapper.appendChild(footerSection);\n        if (this.isMobile) {\n            this.deviceHeaderUpdate();\n        }\n        this.renderPopup();\n    };\n    DateRangePicker.prototype.cancelFunction = function (eve) {\n        if (document.activeElement !== this.inputElement) {\n            this.preventFocus = true;\n            this.inputElement.focus();\n            addClass([this.inputWrapper.container], [INPUTFOCUS]);\n        }\n        eve.preventDefault();\n        if (this.isKeyPopup) {\n            this.inputElement.focus();\n            this.isKeyPopup = false;\n        }\n        this.startValue = null;\n        this.endValue = null;\n        this.removeSelection();\n        this.hide(eve);\n    };\n    DateRangePicker.prototype.deviceHeaderUpdate = function () {\n        if (isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n            this.endButton.element.setAttribute('disabled', '');\n            this.startButton.element.classList.add(ACTIVE);\n        }\n        else if (!isNullOrUndefined(this.startValue)) {\n            this.startButton.element.classList.add(ACTIVE);\n        }\n    };\n    DateRangePicker.prototype.applyFunction = function (eve) {\n        var isValueChanged = false;\n        if (eve.type !== 'touchstart') {\n            eve.preventDefault();\n        }\n        if (this.closeEventArgs && this.closeEventArgs.cancel) {\n            this.startValue = this.popupWrapper.querySelector('.e-start-date') &&\n                this.getIdValue(null, this.popupWrapper.querySelector('.e-start-date'));\n            this.endValue = this.popupWrapper.querySelector('.e-end-date') &&\n                this.getIdValue(null, this.popupWrapper.querySelector('.e-end-date'));\n            this.setValue();\n        }\n        if (document.activeElement !== this.inputElement) {\n            this.preventFocus = true;\n            this.inputElement.focus();\n            addClass([this.inputWrapper.container], [INPUTFOCUS]);\n        }\n        if (eve.type !== 'touchstart' &&\n            this.closeEventArgs && !this.closeEventArgs.cancel) {\n            eve.preventDefault();\n        }\n        if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n            this.previousStartValue = new Date(+this.startValue);\n            this.previousEndValue = new Date(+this.endValue);\n            this.previousEleValue = this.inputElement.value;\n            Input.setValue(this.rangeArgs(eve).text, this.inputElement, this.floatLabelType, this.showClearButton);\n            if (+this.initStartDate !== +this.startValue || +this.initEndDate !== +this.endValue) {\n                isValueChanged = true;\n            }\n            this.changeTrigger(eve);\n            this.hide(eve ? eve : null);\n            this.errorClass();\n            isValueChanged = true;\n        }\n        else {\n            this.hide(eve ? eve : null);\n        }\n        if (!(closest(eve.target, '.' + INPUTCONTAINER))\n            && (!isValueChanged)) {\n            this.focusOut();\n        }\n        if (!this.isMobile) {\n            this.isKeyPopup = false;\n            if (this.isRangeIconClicked) {\n                this.inputWrapper.container.children[1].focus();\n                this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n                this.popupKeyboardModule = new KeyboardEvents(this.inputWrapper.container.children[1], {\n                    eventName: 'keydown',\n                    keyConfigs: this.keyInputConfigs,\n                    keyAction: this.popupKeyActionHandle.bind(this)\n                });\n            }\n        }\n    };\n    DateRangePicker.prototype.onMouseClick = function (event, item) {\n        if (event.type === 'touchstart') {\n            return;\n        }\n        var target = item || event.target;\n        var li = closest(target, '.' + LISTCLASS);\n        var isClick = li && li.classList.contains(ACTIVE);\n        if (li && li.classList.contains(LISTCLASS)) {\n            this.setListSelection(li, event);\n        }\n        this.inputElement.focus();\n        if (!this.isMobile) {\n            this.preventFocus = true;\n            if (li && li.classList.contains(LISTCLASS) && li.getAttribute('id') === 'custom_range') {\n                this.leftCalendar.children[1].firstElementChild.focus();\n            }\n            else {\n                if (!isClick && event.type === 'keydown') {\n                    this.inputElement.focus();\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.onMouseOver = function (event) {\n        var li = closest(event.target, '.' + LISTCLASS);\n        if (li && li.classList.contains(LISTCLASS) && !li.classList.contains(HOVER)) {\n            addClass([li], HOVER);\n        }\n    };\n    DateRangePicker.prototype.onMouseLeave = function (event) {\n        var item = closest(event.target, '.' + HOVER);\n        if (!isNullOrUndefined(item)) {\n            removeClass([item], HOVER);\n        }\n    };\n    DateRangePicker.prototype.setListSelection = function (li, event) {\n        if (li && (!li.classList.contains(ACTIVE) || (this.isMobile && li.classList.contains(ACTIVE)))) {\n            if (this.isMobile && li.classList.contains(ACTIVE)) {\n                this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n                var values_1 = this.presetsItem[this.activeIndex];\n                if (values_1.id === 'custom_range') {\n                    this.renderCustomPopup();\n                    return;\n                }\n                return;\n            }\n            this.removeListSelection();\n            this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n            addClass([li], ACTIVE);\n            li.setAttribute('aria-selected', 'true');\n            var values = this.presetsItem[this.activeIndex];\n            if (values.id === 'custom_range') {\n                this.renderCustomPopup();\n            }\n            else {\n                this.applyPresetRange(values, event);\n            }\n        }\n    };\n    DateRangePicker.prototype.removeListSelection = function () {\n        var item = this.presetElement.querySelector('.' + ACTIVE);\n        if (!isNullOrUndefined(item)) {\n            removeClass([item], ACTIVE);\n            item.removeAttribute('aria-selected');\n        }\n    };\n    DateRangePicker.prototype.setValue = function () {\n        this.modelValue = [this.startValue, this.endValue];\n    };\n    DateRangePicker.prototype.applyPresetRange = function (values, e) {\n        this.hide(null);\n        this.presetsItem[this.presetsItem.length - 1].start = null;\n        this.presetsItem[this.presetsItem.length - 1].end = null;\n        this.startValue = values.start;\n        this.endValue = values.end;\n        this.setValue();\n        this.refreshControl();\n        this.trigger('select', this.rangeArgs(e));\n        this.changeTrigger(e);\n        this.previousEleValue = this.inputElement.value;\n        this.isCustomRange = false;\n        this.leftCalendar = this.rightCalendar = null;\n        if (this.isKeyPopup) {\n            this.isRangeIconClicked = false;\n            this.inputElement.focus();\n        }\n    };\n    DateRangePicker.prototype.showPopup = function (element, event) {\n        this.presetHeight();\n        if (this.zIndex === 1000) {\n            this.popupObj.show(null, this.element);\n        }\n        else {\n            this.popupObj.show(null, null);\n        }\n        if (this.isMobile) {\n            this.popupObj.refreshPosition();\n        }\n    };\n    DateRangePicker.prototype.renderCustomPopup = function () {\n        this.isCustomWindow = true;\n        this.popupObj.hide();\n        this.popupWrapper = this.createElement('div', { id: this.element.id + '_popup', className: ROOT + ' ' + POPUP });\n        this.renderControl();\n        this.openEventArgs.appendTo.appendChild(this.popupWrapper);\n        this.showPopup();\n        this.isCustomRange = true;\n        if (!this.isMobile) {\n            this.calendarFocus();\n        }\n    };\n    DateRangePicker.prototype.listRippleEffect = function () {\n        for (var _i = 0, _a = this.liCollections; _i < _a.length; _i++) {\n            var li = _a[_i];\n            rippleEffect(li);\n        }\n    };\n    DateRangePicker.prototype.createPresets = function () {\n        if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n            this.presetElement = this.createElement('div', { className: PRESETS, attrs: { 'tabindex': '0' } });\n            var listTag = ListBase.createList(this.createElement, this.presetsItem, null, true);\n            attributes(listTag, { 'role': 'listbox', 'aria-hidden': 'false', 'id': this.element.id + '_options' });\n            this.presetElement.appendChild(listTag);\n            this.popupWrapper.appendChild(this.presetElement);\n            var customElement = this.presetElement.querySelector('#custom_range');\n            if (!isNullOrUndefined(customElement)) {\n                customElement.textContent = this.l10n.getConstant('customRange') !== '' ? this.l10n.getConstant('customRange')\n                    : 'Custom Range';\n            }\n            this.liCollections = this.presetElement.querySelectorAll('.' + LISTCLASS);\n            this.wireListEvents();\n            if (this.isMobile) {\n                this.presetElement.style.width = this.inputWrapper.container.getBoundingClientRect().width + 'px';\n            }\n            if (!isNullOrUndefined(this.activeIndex) && this.activeIndex > -1) {\n                addClass([this.liCollections[this.activeIndex]], ACTIVE);\n            }\n        }\n    };\n    DateRangePicker.prototype.wireListEvents = function () {\n        EventHandler.add(this.presetElement, 'click', this.onMouseClick, this);\n        if (!this.isMobile) {\n            EventHandler.add(this.presetElement, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.presetElement, 'mouseout', this.onMouseLeave, this);\n        }\n    };\n    DateRangePicker.prototype.unWireListEvents = function () {\n        if (!isNullOrUndefined(this.presetElement)) {\n            EventHandler.remove(this.presetElement, 'click touchstart', this.onMouseClick);\n            if (!this.isMobile) {\n                EventHandler.remove(this.presetElement, 'mouseover', this.onMouseOver);\n                EventHandler.remove(this.presetElement, 'mouseout', this.onMouseLeave);\n            }\n        }\n    };\n    // tslint:disable-next-line:max-func-body-length\n    DateRangePicker.prototype.renderPopup = function () {\n        var _this = this;\n        this.popupWrapper.classList.add('e-control');\n        var popupWidth = this.popupWrapper.getBoundingClientRect().width;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass.trim() !== '') {\n            this.popupWrapper.className += ' ' + this.cssClass;\n        }\n        if (this.isMobile && this.isCustomWindow) {\n            this.modal = this.createElement('div');\n            document.body.appendChild(this.modal);\n        }\n        this.popupObj = new Popup(this.popupWrapper, {\n            relateTo: this.isMobile && this.isCustomWindow ? document.body :\n                (!isNullOrUndefined(this.targetElement) ? this.targetElement : this.inputWrapper.container),\n            position: (this.isMobile ?\n                (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && !this.isCustomWindow ?\n                    { X: 'left', Y: 'bottom' } : { X: 'center', Y: 'center' }) :\n                this.enableRtl ? { X: 'left', Y: 'bottom' } : { X: 'right', Y: 'bottom' }),\n            offsetX: this.isMobile || this.enableRtl ? 0 : -popupWidth,\n            offsetY: OFFSETVALUE,\n            collision: this.isMobile ?\n                (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && !this.isCustomWindow ?\n                    { X: 'fit' } : { X: 'fit', Y: 'fit' }) : { X: 'fit', Y: 'flip' },\n            targetType: this.isMobile && this.isCustomWindow ? 'container' : 'relative',\n            enableRtl: this.enableRtl,\n            zIndex: this.zIndex,\n            open: function () {\n                attributes(_this.inputElement, { 'aria-expanded': 'true' });\n                addClass([_this.inputWrapper.buttons[0]], ACTIVE);\n                if (!_this.isMobile) {\n                    if (_this.cancelButton) {\n                        _this.btnKeyboardModule = new KeyboardEvents(_this.cancelButton.element, {\n                            eventName: 'keydown',\n                            keyAction: _this.popupKeyActionHandle.bind(_this),\n                            keyConfigs: { tab: 'tab', altRightArrow: 'alt+rightarrow', altLeftArrow: 'alt+leftarrow' }\n                        });\n                        _this.btnKeyboardModule = new KeyboardEvents(_this.applyButton.element, {\n                            eventName: 'keydown',\n                            keyAction: _this.popupKeyActionHandle.bind(_this),\n                            keyConfigs: { altRightArrow: 'alt+rightarrow', altLeftArrow: 'alt+leftarrow' }\n                        });\n                    }\n                    if (!isNullOrUndefined(_this.leftCalendar)) {\n                        if (!_this.isRangeIconClicked) {\n                            _this.calendarFocus();\n                        }\n                    }\n                    if (!isNullOrUndefined(_this.presetElement)) {\n                        _this.keyInputConfigs = extend(_this.keyInputConfigs, _this.keyConfigs);\n                        _this.presetKeyboardModule = new KeyboardEvents(_this.presetElement, {\n                            eventName: 'keydown',\n                            keyAction: _this.presetKeyActionHandler.bind(_this),\n                            keyConfigs: _this.keyInputConfigs\n                        });\n                        _this.presetKeyboardModule = new KeyboardEvents(_this.presetElement, {\n                            eventName: 'keydown',\n                            keyAction: _this.popupKeyActionHandle.bind(_this),\n                            keyConfigs: { altRightArrow: 'alt+rightarrow', altLeftArrow: 'alt+leftarrow' }\n                        });\n                        if (isNullOrUndefined(_this.leftCalendar)) {\n                            _this.preventBlur = true;\n                            _this.presetElement.focus();\n                        }\n                        else {\n                            _this.presetElement.setAttribute('tabindex', '-1');\n                        }\n                    }\n                    _this.popupKeyBoardHandler();\n                }\n                if (_this.isMobile && !Browser.isDevice) {\n                    EventHandler.add(document, 'keydown', _this.popupCloseHandler, _this);\n                }\n            },\n            close: function () {\n                attributes(_this.inputElement, { 'aria-expanded': 'false' });\n                removeClass([_this.inputWrapper.buttons[0]], ACTIVE);\n                if (_this.isRangeIconClicked) {\n                    _this.inputWrapper.container.children[1].focus();\n                }\n                if (!isUndefined(_this.presets[0].start && _this.presets[0].end && _this.presets[0].label)) {\n                    _this.unWireListEvents();\n                }\n                if (!isNullOrUndefined(_this.popupObj)) {\n                    if (!isNullOrUndefined(_this.popupObj.element.parentElement)) {\n                        detach(_this.popupObj.element);\n                    }\n                    _this.popupObj.destroy();\n                    _this.popupObj = null;\n                }\n                if (_this.isMobile && !Browser.isDevice) {\n                    EventHandler.remove(document, 'keydown', _this.popupCloseHandler);\n                }\n            }, targetExitViewport: function () {\n                if (!Browser.isDevice) {\n                    _this.hide();\n                }\n            }\n        });\n        if (this.isMobile) {\n            this.popupObj.element.classList.add(DEVICE);\n            if (!this.isMobile) {\n                this.popupObj.element.classList.add('e-bigger');\n            }\n        }\n        if (this.isMobile && this.isCustomWindow) {\n            addClass([this.modal], [DEVICE, ROOT, 'e-range-modal']);\n            document.body.className += ' ' + OVERFLOW;\n            this.modal.style.display = 'block';\n        }\n        EventHandler.add(document, 'mousedown touchstart', this.documentHandler, this);\n    };\n    DateRangePicker.prototype.popupCloseHandler = function (e) {\n        switch (e.keyCode) {\n            case 27:\n                this.hide(e);\n                break;\n        }\n    };\n    DateRangePicker.prototype.calendarFocus = function () {\n        var startDate = this.popupObj && this.popupObj.element.querySelector('.' + STARTDATE);\n        if (startDate) {\n            var ele = closest(startDate, '.' + RIGHTCALENDER);\n            ele = isNullOrUndefined(ele) ? this.leftCalendar : ele;\n            if (this.isRangeIconClicked) {\n                this.inputWrapper.container.focus();\n            }\n            else {\n                this.preventBlur = true;\n                ele.children[1].firstElementChild.focus();\n            }\n            addClass([startDate], FOCUSDATE);\n        }\n        else {\n            if (this.isRangeIconClicked) {\n                this.inputWrapper.container.focus();\n            }\n            else {\n                this.preventBlur = true;\n                this.leftCalendar.children[1].firstElementChild.focus();\n            }\n        }\n    };\n    DateRangePicker.prototype.presetHeight = function () {\n        var presets = this.popupObj && this.popupObj.element.querySelector('.' + PRESETS);\n        var rangeContainer = this.popupObj && this.popupObj.element.querySelector('.' + RANGECONTAINER);\n        if (!isNullOrUndefined(presets) && !isNullOrUndefined(rangeContainer)) {\n            presets.style.height = rangeContainer.getBoundingClientRect().height + 'px';\n        }\n    };\n    DateRangePicker.prototype.presetKeyActionHandler = function (e) {\n        switch (e.action) {\n            case 'moveDown':\n                this.listMoveDown(e);\n                this.setScrollPosition();\n                e.preventDefault();\n                break;\n            case 'moveUp':\n                this.listMoveUp(e);\n                this.setScrollPosition();\n                e.preventDefault();\n                break;\n            case 'enter':\n                var hvrItem = this.getHoverLI();\n                var actItem = this.getActiveLI();\n                if (!isNullOrUndefined(this.leftCalendar) && !isNullOrUndefined(actItem)) {\n                    if (isNullOrUndefined(hvrItem) || (!isNullOrUndefined(actItem) && actItem === hvrItem)) {\n                        this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(actItem);\n                        var values = this.presetsItem[this.activeIndex];\n                        if (values.id === 'custom_range') {\n                            this.calendarFocus();\n                            actItem.classList.remove(HOVER);\n                            e.preventDefault();\n                            return;\n                        }\n                    }\n                }\n                if (!isNullOrUndefined(hvrItem) || !isNullOrUndefined(actItem)) {\n                    this.onMouseClick(e, hvrItem || actItem);\n                }\n                e.preventDefault();\n                break;\n            case 'tab':\n                if (this.leftCalendar) {\n                    var item = this.getHoverLI();\n                    if (!isNullOrUndefined(item)) {\n                        item.classList.remove(HOVER);\n                    }\n                }\n                else {\n                    this.hide(e);\n                    e.preventDefault();\n                }\n                break;\n        }\n    };\n    DateRangePicker.prototype.listMoveDown = function (e) {\n        var hvrItem = this.getHoverLI();\n        var actItem = this.getActiveLI();\n        if (!isNullOrUndefined(hvrItem)) {\n            var li = hvrItem.nextElementSibling;\n            if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n                removeClass([hvrItem], HOVER);\n                addClass([li], HOVER);\n            }\n        }\n        else if (!isNullOrUndefined(actItem)) {\n            var li = actItem.nextElementSibling;\n            if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n                addClass([li], HOVER);\n            }\n        }\n        else {\n            addClass([this.liCollections[0]], HOVER);\n        }\n    };\n    DateRangePicker.prototype.listMoveUp = function (e) {\n        var hvrItem = this.getHoverLI();\n        var actItem = this.getActiveLI();\n        if (!isNullOrUndefined(hvrItem)) {\n            var li = hvrItem.previousElementSibling;\n            if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n                removeClass([hvrItem], HOVER);\n                addClass([li], HOVER);\n            }\n        }\n        else if (!isNullOrUndefined(actItem)) {\n            var li = actItem.previousElementSibling;\n            if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n                addClass([li], HOVER);\n            }\n        }\n    };\n    DateRangePicker.prototype.getHoverLI = function () {\n        var item = this.presetElement.querySelector('.' + HOVER);\n        return item;\n    };\n    DateRangePicker.prototype.getActiveLI = function () {\n        var item = this.presetElement.querySelector('.' + ACTIVE);\n        return item;\n    };\n    DateRangePicker.prototype.popupKeyBoardHandler = function () {\n        this.popupKeyboardModule = new KeyboardEvents(this.popupWrapper, {\n            eventName: 'keydown',\n            keyAction: this.popupKeyActionHandle.bind(this),\n            keyConfigs: { escape: 'escape' }\n        });\n        this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n        this.popupKeyboardModule = new KeyboardEvents(this.inputWrapper.container.children[1], {\n            eventName: 'keydown',\n            keyAction: this.popupKeyActionHandle.bind(this),\n            keyConfigs: this.keyInputConfigs\n        });\n    };\n    DateRangePicker.prototype.setScrollPosition = function () {\n        var listHeight = this.presetElement.getBoundingClientRect().height;\n        var hover = this.presetElement.querySelector('.' + HOVER);\n        var active = this.presetElement.querySelector('.' + ACTIVE);\n        var element = !isNullOrUndefined(hover) ? hover : active;\n        if (!isNullOrUndefined(element)) {\n            var nextEle = element.nextElementSibling;\n            var height = nextEle ? nextEle.offsetTop : element.offsetTop;\n            var liHeight = element.getBoundingClientRect().height;\n            if ((height + element.offsetTop) > listHeight) {\n                this.presetElement.scrollTop = nextEle ? (height - (listHeight / 2 + liHeight / 2)) : height;\n            }\n            else {\n                this.presetElement.scrollTop = 0;\n            }\n        }\n    };\n    DateRangePicker.prototype.popupKeyActionHandle = function (e) {\n        var presetElement = closest(e.target, '.' + PRESETS);\n        switch (e.action) {\n            case 'escape':\n                if (this.isPopupOpen()) {\n                    if (this.isKeyPopup) {\n                        this.inputElement.focus();\n                        this.isKeyPopup = false;\n                    }\n                    this.hide(e);\n                }\n                else {\n                    this.inputWrapper.container.children[1].blur();\n                }\n                break;\n            case 'enter':\n                if (!this.isPopupOpen()) {\n                    this.show(null, e);\n                }\n                else {\n                    this.inputWrapper.container.children[1].focus();\n                }\n                break;\n            case 'tab':\n                this.hide(e);\n                break;\n            case 'altRightArrow':\n                if (!isNullOrUndefined(presetElement)) {\n                    this.cancelButton.element.focus();\n                }\n                else {\n                    if (document.activeElement === this.cancelButton.element && this.applyButton.element.disabled !== true) {\n                        this.applyButton.element.focus();\n                    }\n                    else {\n                        this.leftCalendar.children[1].firstElementChild.focus();\n                    }\n                }\n                e.preventDefault();\n                break;\n            case 'altLeftArrow':\n                if (!isNullOrUndefined(presetElement)) {\n                    this.rightCalendar.children[1].firstElementChild.focus();\n                }\n                else {\n                    if (document.activeElement === this.applyButton.element && this.applyButton.element.disabled !== true) {\n                        this.cancelButton.element.focus();\n                    }\n                    else {\n                        if (!isNullOrUndefined(this.presetElement) && (document.activeElement === this.cancelButton.element)) {\n                            this.presetElement.focus();\n                        }\n                        else {\n                            this.rightCalendar.children[1].firstElementChild.focus();\n                        }\n                    }\n                }\n                e.preventDefault();\n                break;\n        }\n    };\n    DateRangePicker.prototype.documentHandler = function (e) {\n        if (isNullOrUndefined(this.popupObj)) {\n            return;\n        }\n        var target = e.target;\n        if (!this.inputWrapper.container.contains(target) ||\n            (!isNullOrUndefined(this.popupObj) && !closest(target, this.popupWrapper.id))) {\n            if (e.type !== 'touchstart' && ((e.type === 'mousedown') ||\n                this.closeEventArgs && !this.closeEventArgs.cancel)) {\n                e.preventDefault();\n            }\n        }\n        if ((isNullOrUndefined(this.targetElement) ||\n            (!isNullOrUndefined(this.targetElement) && !(target === this.targetElement))) &&\n            !(closest(target, '#' + this.popupObj.element.id))\n            && !(closest(target, '.' + INPUTCONTAINER) === this.inputWrapper.container)\n            && !(closest(target, '.e-daterangepicker.e-popup') && (!target.classList.contains('e-day')))) {\n            this.preventBlur = false;\n            if (this.isPopupOpen()) {\n                this.applyFunction(e);\n                if (!this.isMobile) {\n                    this.isRangeIconClicked = false;\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.createInput = function () {\n        this.inputWrapper = Input.createInput({\n            floatLabelType: this.floatLabelType,\n            element: this.inputElement,\n            properties: {\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                cssClass: this.cssClass,\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton,\n            },\n            buttons: [DATERANGEICON]\n        }, this.createElement);\n        attributes(this.inputElement, {\n            'aria-readonly': this.readonly ? 'true' : 'false', 'tabindex': '0', 'aria-haspopup': 'true',\n            'aria-activedescendant': 'null', 'aria-owns': this.element.id + '_popup', 'aria-expanded': 'false',\n            'role': 'combobox', 'autocomplete': 'off', 'aria-disabled': !this.enabled ? 'true' : 'false',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false'\n        });\n        Input.addAttributes({ 'aria-label': 'select' }, this.inputWrapper.buttons[0]);\n        if (!isNullOrUndefined(this.placeholder) && this.placeholder.trim() !== '') {\n            Input.addAttributes({ 'aria-placeholder': this.placeholder }, this.inputElement);\n        }\n        this.setEleWidth(this.width);\n        addClass([this.inputWrapper.container], DATERANGEWRAPPER);\n        if (isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n            attributes(this.inputElement, { 'name': this.element.id });\n        }\n        if (this.inputElement.type === 'hidden') {\n            this.inputWrapper.container.style.display = 'none';\n        }\n        this.refreshControl();\n        this.previousEleValue = this.inputElement.value;\n        this.inputElement.setAttribute('value', this.inputElement.value);\n        this.startCopy = this.startDate;\n        this.endCopy = this.endDate;\n    };\n    DateRangePicker.prototype.setEleWidth = function (width) {\n        if (typeof width === 'string') {\n            this.inputWrapper.container.style.width = (this.width);\n        }\n        else if (typeof width === 'number') {\n            this.inputWrapper.container.style.width = formatUnit(this.width);\n        }\n        else {\n            this.inputWrapper.container.style.width = '100%';\n        }\n    };\n    DateRangePicker.prototype.adjustLongHeaderWidth = function () {\n        if (this.dayHeaderFormat === 'Wide') {\n            addClass([this.popupWrapper], DAYHEADERLONG);\n        }\n    };\n    DateRangePicker.prototype.refreshControl = function () {\n        this.validateMinMax();\n        if (this.strictMode) {\n            this.validateRangeStrict();\n        }\n        var isDisabled = this.disabledDates();\n        if (this.strictMode && (isDisabled)) {\n            this.startValue = this.previousStartValue;\n            this.setProperties({ startDate: this.startValue }, true);\n            this.endValue = this.previousEndValue;\n            this.setProperties({ endDate: this.endValue }, true);\n            this.setValue();\n        }\n        this.updateInput();\n        if (!this.strictMode) {\n            this.validateRange();\n        }\n        if (!this.strictMode && (isDisabled)) {\n            this.clearRange();\n        }\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !isDisabled) {\n            this.disabledDateRender();\n        }\n        this.errorClass();\n        this.previousStartValue = isNullOrUndefined(this.startValue) || isNaN(+this.startValue) ? null : new Date(+this.startValue);\n        this.previousEndValue = isNullOrUndefined(this.endValue) || isNaN(+this.endValue) ? null : new Date(+this.endValue);\n    };\n    DateRangePicker.prototype.updateInput = function () {\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            var formatOption = { format: this.formatString, type: 'date', skeleton: 'yMd' };\n            var startDate = this.globalize.formatDate(this.startValue, formatOption);\n            var endDate = this.globalize.formatDate(this.endValue, formatOption);\n            Input.setValue(startDate + ' ' + this.separator + ' ' + endDate, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.previousStartValue = new Date(+this.startValue);\n            this.previousEndValue = new Date(+this.endValue);\n        }\n        if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n            Input.setValue(this.invalidValueString, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n    };\n    DateRangePicker.prototype.checkInvalidRange = function (value) {\n        if (!isNullOrUndefined(value)) {\n            var invalid = false;\n            var startinvalue = void 0;\n            var endinvalue = void 0;\n            var startString = null;\n            var endString = null;\n            var valueString = null;\n            var startObject = false;\n            var endObject = false;\n            var invalidobject = false;\n            if (typeof (value) === 'string') {\n                var range = value.split(' ' + this.separator + ' ');\n                if (range.length === 2) {\n                    startString = range[0];\n                    endString = range[1];\n                }\n                else {\n                    invalid = true;\n                    valueString = value;\n                }\n            }\n            else {\n                if (value.length > 0) {\n                    startinvalue = value[0];\n                    endinvalue = value[1];\n                }\n                else {\n                    startinvalue = value.start;\n                    endinvalue = value.end;\n                }\n                if (!(startinvalue instanceof Date) && typeof (startinvalue) !== 'object') {\n                    startString = this.getstringvalue(startinvalue);\n                }\n                else if (startinvalue instanceof Date) {\n                    startObject = true;\n                }\n                else if (!isNullOrUndefined(startinvalue)) {\n                    invalidobject = true;\n                }\n                if (!(endinvalue instanceof Date) && typeof (endinvalue) !== 'object') {\n                    endString = this.getstringvalue(endinvalue);\n                }\n                else if (endinvalue instanceof Date) {\n                    endObject = true;\n                }\n                else if (!isNullOrUndefined(endinvalue)) {\n                    invalidobject = true;\n                }\n            }\n            if ((isNullOrUndefined(startString) && !startObject && !isNullOrUndefined(endString)) ||\n                (!isNullOrUndefined(startString) && !endObject && isNullOrUndefined(endString))) {\n                invalid = true;\n            }\n            if (invalidobject) {\n                startString = endString = valueString = null;\n                invalid = true;\n            }\n            if (startString) {\n                invalid = invalid || this.checkInvalidValue(startString);\n            }\n            if (endString) {\n                invalid = invalid || this.checkInvalidValue(endString);\n            }\n            if (invalid) {\n                if (startObject && !invalidobject) {\n                    startString = startinvalue.toLocaleDateString();\n                }\n                if (endObject && !invalidobject) {\n                    endString = endinvalue.toLocaleDateString();\n                }\n                if (!isNullOrUndefined(startString) && !isNullOrUndefined(endString)) {\n                    valueString = startString + ' ' + this.separator + ' ' + endString;\n                }\n                else if (!isNullOrUndefined(startString)) {\n                    valueString = startString;\n                }\n                else if (!isNullOrUndefined(endString)) {\n                    valueString = endString;\n                }\n                this.invalidValueString = valueString;\n                this.setProperties({ value: null }, true);\n                this.setProperties({ startValue: null }, true);\n                this.setProperties({ endValue: null }, true);\n                this.startDate = null;\n                this.endDate = null;\n            }\n        }\n    };\n    DateRangePicker.prototype.getstringvalue = function (value) {\n        var stringValue = null;\n        if (!isNullOrUndefined(value) && (typeof value === 'number')) {\n            stringValue = (value).toString();\n        }\n        else if (!isNullOrUndefined(value) && (typeof value === 'string')) {\n            stringValue = '' + value;\n        }\n        return stringValue;\n    };\n    DateRangePicker.prototype.checkInvalidValue = function (value) {\n        var valueString = value;\n        var invalid = false;\n        var formatOpt = null;\n        formatOpt = { format: this.formatString, type: 'date', skeleton: 'yMd' };\n        if (typeof valueString !== 'string') {\n            invalid = true;\n        }\n        else {\n            var globalize = new Internationalization(this.locale);\n            if (!this.checkDateValue(globalize.parseDate(valueString, formatOpt))) {\n                var extISOStr = null;\n                var basISOString = null;\n                // tslint:disable-next-line\n                extISOStr = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                // tslint:disable-next-line\n                basISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                if ((!extISOStr.test(valueString) && !basISOString.test(valueString))\n                    || (/^[a-zA-Z0-9- ]*$/).test(valueString) || isNaN(+new Date(this.checkValue(valueString)))) {\n                    invalid = true;\n                }\n            }\n        }\n        return invalid;\n    };\n    DateRangePicker.prototype.isDateDisabled = function (date) {\n        if (isNullOrUndefined(date)) {\n            return false;\n        }\n        var value = new Date(+date);\n        if (+value < +this.min || +value > +this.max) {\n            return true;\n        }\n        this.virtualRenderCellArgs = {\n            date: value,\n            isDisabled: false,\n        };\n        var args = this.virtualRenderCellArgs;\n        this.virtualRenderCellEvent(args);\n        if (args.isDisabled) {\n            return true;\n        }\n        return false;\n    };\n    DateRangePicker.prototype.disabledDateRender = function () {\n        this.disabledDays = [];\n        this.disabledDayCnt = null;\n        var localDate = new Date(+this.startValue);\n        var count = 0;\n        while (+localDate <= +this.endValue) {\n            this.virtualRenderCellArgs = {\n                date: localDate,\n                isDisabled: false,\n            };\n            var args = this.virtualRenderCellArgs;\n            this.virtualRenderCellEvent(args);\n            if (args.isDisabled) {\n                this.disabledDays.push(new Date(+args.date));\n                if (+localDate > +this.startValue && +localDate < +this.endValue) {\n                    count++;\n                }\n            }\n            this.addDay(localDate, 1, null, this.max, this.min);\n        }\n        this.disabledDayCnt = count;\n    };\n    DateRangePicker.prototype.virtualRenderCellEvent = function (args) {\n        extend(this.virtualRenderCellArgs, { name: 'renderDayCell' });\n        this.trigger('renderDayCell', args);\n    };\n    DateRangePicker.prototype.disabledDates = function () {\n        var isStartDisabled = false;\n        var isEndDisabled = false;\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            isStartDisabled = this.isDateDisabled(this.startValue);\n            isEndDisabled = this.isDateDisabled(this.endValue);\n            this.currentDate = null;\n            this.setValue();\n        }\n        return (isStartDisabled || isEndDisabled);\n    };\n    DateRangePicker.prototype.setModelValue = function () {\n        if (!this.value && this.startDate === null && this.endDate === null) {\n            this.setProperties({ value: null }, true);\n        }\n        else if (this.value === null || this.value.start === null) {\n            if (this.value === null) {\n                this.setProperties({ value: [this.startDate, this.endDate] }, true);\n            }\n            else if (this.value.start === null) {\n                this.setProperties({ value: { start: this.startDate, end: this.endDate } }, true);\n            }\n        }\n        else {\n            if ((this.value && this.value.length > 0) ||\n                this.valueType && this.valueType.length > 0) {\n                if (+this.startDate !== +this.value[0] || +this.endDate !== +this.value[1]) {\n                    this.setProperties({ value: [this.startDate, this.endDate] }, true);\n                }\n                if (this.value && this.value[0] == null && this.value[1] == null) {\n                    this.setProperties({ value: null }, true);\n                }\n            }\n            else {\n                if ((this.value && this.value.start)) {\n                    this.setProperties({ value: { start: this.startDate, end: this.endDate } }, true);\n                }\n            }\n        }\n        this.createHiddenInput();\n    };\n    /**\n     * To dispatch the event manually\n     */\n    DateRangePicker.prototype.dispatchEvent = function (element, type) {\n        var evt = document.createEvent('HTMLEvents');\n        evt.initEvent(type, false, true);\n        element.dispatchEvent(evt);\n        this.firstHiddenChild.dispatchEvent(evt);\n    };\n    DateRangePicker.prototype.changeTrigger = function (e) {\n        if (+this.initStartDate !== +this.startValue || +this.initEndDate !== +this.endValue) {\n            this.setProperties({ endDate: this.checkDateValue(this.endValue) }, true);\n            this.setProperties({ startDate: this.checkDateValue(this.startValue) }, true);\n            this.setModelValue();\n            this.trigger('change', this.rangeArgs(e));\n        }\n        this.previousEleValue = this.inputElement.value;\n        this.initStartDate = this.checkDateValue(this.startValue);\n        this.initEndDate = this.checkDateValue(this.endValue);\n    };\n    /**\n     * This method is used to navigate to the month/year/decade view of the Calendar.\n     * @param  {string} view - Specifies the view of the Calendar.\n     * @param  {Date} date - Specifies the focused date in a view.\n     * @returns void\n     * @hidden\n     */\n    DateRangePicker.prototype.navigateTo = function (view, date) {\n        if (this.isPopupOpen()) {\n            if (view.toLowerCase() === 'month') {\n                view = 'Month';\n            }\n            else if (view.toLowerCase() === 'year') {\n                view = 'Year';\n            }\n            else if (view.toLowerCase() === 'decade') {\n                view = 'Decade';\n            }\n            else {\n                return;\n            }\n            if (this.getViewNumber(view) < this.getViewNumber(this.depth)) {\n                view = this.depth;\n            }\n            if (this.isMobile) {\n                _super.prototype.navigateTo.call(this, view, date);\n            }\n            else {\n                if (date < this.min) {\n                    date = new Date(+this.min);\n                }\n                else if (date >= this.max) {\n                    date = new Date(+this.max);\n                }\n                if (view === 'Month' && this.isSameMonth(date, this.max)) {\n                    date = new Date(this.max.getFullYear(), this.max.getMonth() - 1, this.min.getDate());\n                }\n                else if (view === 'Year' && this.isSameYear(date, this.max)) {\n                    date = new Date((this.max.getFullYear() - 1), this.max.getMonth(), this.max.getDate());\n                }\n                else if (view === 'Decade' && this.isSameDecade(date, this.max)) {\n                    date = new Date((this.max.getFullYear() - 10), this.max.getMonth(), this.max.getDate());\n                }\n                this.leftCalCurrentDate = date;\n                this.navigate(this.leftCalendar, this.leftCalCurrentDate, view);\n                if (view === 'Month') {\n                    date = new Date(this.currentDate.setMonth(this.currentDate.getMonth() + 1));\n                }\n                else if (view === 'Year') {\n                    date = new Date(this.currentDate.setFullYear(this.currentDate.getFullYear() + 1));\n                }\n                else {\n                    date = new Date(this.currentDate.setFullYear(this.currentDate.getFullYear() + 10));\n                }\n                this.rightCalCurrentDate = date;\n                this.navigate(this.rightCalendar, this.rightCalCurrentDate, view);\n                this.leftKeyboardModule = this.rightKeyboardModule = null;\n                this.updateNavIcons();\n            }\n            if (this.currentView() === this.depth) {\n                this.bindCalendarCellEvents();\n            }\n            this.removeFocusedDate();\n            this.updateRange((this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]));\n        }\n    };\n    DateRangePicker.prototype.navigate = function (calendar, date, view) {\n        this.calendarElement = calendar;\n        this.table = calendar.querySelector('table');\n        this.tableBodyElement = calendar.querySelector('tbody');\n        this.headerTitleElement = calendar.querySelector('.e-title');\n        this.tableHeadElement = calendar.querySelector('thead');\n        this.contentElement = calendar.querySelector('.e-content');\n        this.previousIcon = calendar.querySelector('.e-prev');\n        this.nextIcon = calendar.querySelector('.e-next');\n        this.effect = ZOOMIN;\n        _super.prototype.navigateTo.call(this, view, date);\n    };\n    /**\n     * Sets the focus to widget for interaction.\n     * @returns void\n     */\n    DateRangePicker.prototype.focusIn = function () {\n        if (document.activeElement !== this.inputElement && this.enabled) {\n            addClass([this.inputWrapper.container], [INPUTFOCUS]);\n            this.inputElement.focus();\n            var focusArguments = {\n                model: this\n            };\n        }\n    };\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     * @returns void\n     */\n    DateRangePicker.prototype.focusOut = function () {\n        var isBlur = this.preventBlur;\n        if (document.activeElement === this.inputElement) {\n            removeClass([this.inputWrapper.container], [INPUTFOCUS]);\n            this.preventBlur = false;\n            this.inputElement.blur();\n            this.preventBlur = isBlur;\n        }\n    };\n    /**\n     * To destroy the widget.\n     * @returns void\n     */\n    DateRangePicker.prototype.destroy = function () {\n        this.hide(null);\n        var ariaAttrs = {\n            'aria-readonly': this.readonly ? 'true' : 'false', 'tabindex': '0', 'aria-haspopup': 'true',\n            'aria-activedescendant': 'null', 'aria-owns': this.element.id + '_popup', 'aria-expanded': 'false',\n            'role': 'combobox', 'autocomplete': 'off', 'aria-disabled': !this.enabled ? 'true' : 'false',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'aria-invalid': 'false', 'spellcheck': 'false'\n        };\n        if (this.inputElement) {\n            removeClass([this.inputElement], [ROOT]);\n            EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n            Input.removeAttributes(ariaAttrs, this.inputElement);\n            (!isNullOrUndefined(this.cloneElement.getAttribute('tabindex'))) ?\n                this.inputElement.setAttribute('tabindex', this.tabIndex) : this.inputElement.removeAttribute('tabindex');\n            this.ensureInputAttribute();\n            this.inputElement.classList.remove('e-input');\n            if (!isNullOrUndefined(this.inputWrapper)) {\n                EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler);\n                if (this.angularTag === null) {\n                    this.inputWrapper.container.parentElement.appendChild(this.inputElement);\n                }\n                detach(this.inputWrapper.container);\n            }\n        }\n        if (!isNullOrUndefined(this.inputKeyboardModule) && !this.isMobile) {\n            this.inputKeyboardModule.destroy();\n        }\n        if (this.popupObj) {\n            if (!this.isMobile) {\n                this.clearCalendarEvents();\n            }\n        }\n        _super.prototype.destroy.call(this);\n        this.inputWrapper = this.popupWrapper = this.popupObj = this.cloneElement = this.presetElement = null;\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n        }\n        if ((!isNullOrUndefined(this.firstHiddenChild))\n            && (!isNullOrUndefined(this.secondHiddenChild))) {\n            detach(this.firstHiddenChild);\n            detach(this.secondHiddenChild);\n            this.firstHiddenChild = this.secondHiddenChild = null;\n            this.inputElement.setAttribute('name', this.element.getAttribute('data-name'));\n            this.inputElement.removeAttribute('data-name');\n        }\n    };\n    DateRangePicker.prototype.ensureInputAttribute = function () {\n        var attr = [];\n        for (var i = 0; i < this.inputElement.attributes.length; i++) {\n            attr[i] = this.inputElement.attributes[i].name;\n        }\n        for (var i = 0; i < attr.length; i++) {\n            if (isNullOrUndefined(this.cloneElement.getAttribute(attr[i]))) {\n                if (attr[i].toLowerCase() === 'value') {\n                    this.inputElement.value = '';\n                }\n                this.inputElement.removeAttribute(attr[i]);\n            }\n            else {\n                if (attr[i].toLowerCase() === 'value') {\n                    this.inputElement.value = this.cloneElement.getAttribute(attr[i]);\n                }\n                this.inputElement.setAttribute(attr[i], this.cloneElement.getAttribute(attr[i]));\n            }\n        }\n    };\n    /**\n     * To get component name\n     * @returns string\n     * @private\n     */\n    DateRangePicker.prototype.getModuleName = function () {\n        return 'daterangepicker';\n    };\n    /**\n     * Return the properties that are maintained upon browser refresh.\n     * @returns string\n     */\n    DateRangePicker.prototype.getPersistData = function () {\n        var keyEntity = ['startDate', 'endDate', 'value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Return the selected range and day span in the DateRangePicker.\n     * @returns Object\n     */\n    DateRangePicker.prototype.getSelectedRange = function () {\n        var range;\n        if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n            range = (Math.round(Math.abs((this.startValue.getTime() - this.endValue.getTime()) / (1000 * 60 * 60 * 24))) + 1);\n            this.disabledDateRender();\n            if (!isNullOrUndefined(this.disabledDayCnt)) {\n                range = range - this.disabledDayCnt;\n                this.disabledDayCnt = null;\n            }\n        }\n        else {\n            range = 0;\n        }\n        return { startDate: this.startValue, endDate: this.endValue, daySpan: range };\n    };\n    /**\n     * To open the Popup container in the DateRangePicker component.\n     * @returns void\n     */\n    DateRangePicker.prototype.show = function (element, event) {\n        var _this = this;\n        if (this.isMobile && this.popupObj) {\n            this.popupObj.refreshPosition();\n        }\n        if ((this.enabled && this.readonly) || !this.enabled || this.popupObj) {\n            return;\n        }\n        else {\n            if (!this.isPopupOpen()) {\n                if (element) {\n                    this.targetElement = element;\n                }\n                this.createPopup();\n                if (this.isMobile || Browser.isDevice) {\n                    this.mobileRangePopupWrap = this.createElement('div', { className: 'e-daterangepick-mob-popup-wrap' });\n                    document.body.appendChild(this.mobileRangePopupWrap);\n                }\n                this.openEventArgs = {\n                    popup: this.popupObj || null,\n                    cancel: false,\n                    date: this.inputElement.value,\n                    model: this,\n                    event: event ? event : null,\n                    appendTo: this.isMobile || Browser.isDevice ? this.mobileRangePopupWrap : document.body\n                };\n                var eventArgs = this.openEventArgs;\n                this.trigger('open', eventArgs, function (eventArgs) {\n                    _this.openEventArgs = eventArgs;\n                    if (!_this.openEventArgs.cancel) {\n                        _this.openEventArgs.appendTo.appendChild(_this.popupWrapper);\n                        _this.showPopup(element, event);\n                        var isPreset = (!_this.isCustomRange || (_this.isMobile && _this.isCustomRange));\n                        if (!isUndefined(_this.presets[0].start && _this.presets[0].end && _this.presets[0].label) && isPreset) {\n                            _this.setScrollPosition();\n                        }\n                        _this.checkMinMaxDays();\n                        if ((_this.isMobile) && (!isNullOrUndefined(_this.startDate)) && (isNullOrUndefined(_this.endDate))) {\n                            _this.endButton.element.classList.add(ACTIVE);\n                            _this.startButton.element.classList.remove(ACTIVE);\n                            _this.endButton.element.removeAttribute('disabled');\n                            _this.selectableDates();\n                        }\n                        _super.prototype.setOverlayIndex.call(_this, _this.mobileRangePopupWrap, _this.popupObj.element, _this.modal, _this.isMobile || Browser.isDevice);\n                    }\n                });\n            }\n        }\n    };\n    /**\n     * To close the Popup container in the DateRangePicker component.\n     * @returns void\n     */\n    DateRangePicker.prototype.hide = function (event) {\n        var _this = this;\n        if (this.popupObj) {\n            if (isNullOrUndefined(this.previousEndValue) && isNullOrUndefined(this.previousStartValue)) {\n                this.clearRange();\n            }\n            else {\n                if (!isNullOrUndefined(this.previousStartValue)) {\n                    this.startValue = new Date(this.checkValue(this.previousStartValue));\n                    this.setValue();\n                    this.currentDate = new Date(this.checkValue(this.startValue));\n                }\n                else {\n                    this.startValue = null;\n                    this.setValue();\n                }\n                if (!isNullOrUndefined(this.previousEndValue)) {\n                    this.endValue = new Date(this.checkValue(this.previousEndValue));\n                    this.setValue();\n                }\n                else {\n                    this.endValue = null;\n                    this.setValue();\n                }\n            }\n            if (this.isPopupOpen()) {\n                this.closeEventArgs = {\n                    cancel: false,\n                    popup: this.popupObj,\n                    date: this.inputElement.value,\n                    model: this,\n                    event: event ? event : null\n                };\n                var eventArgs = this.closeEventArgs;\n                this.trigger('close', eventArgs, function (eventArgs) {\n                    _this.closeEventArgs = eventArgs;\n                    if (!_this.closeEventArgs.cancel) {\n                        if (_this.isMobile) {\n                            if (!isNullOrUndefined(_this.startButton) && !isNullOrUndefined(_this.endButton)) {\n                                EventHandler.remove(_this.startButton.element, 'click touchstart', _this.deviceHeaderClick);\n                                EventHandler.remove(_this.endButton.element, 'click touchstart', _this.deviceHeaderClick);\n                            }\n                        }\n                        if (_this.popupObj) {\n                            _this.popupObj.hide();\n                            if (_this.preventBlur) {\n                                _this.inputElement.focus();\n                                addClass([_this.inputWrapper.container], [INPUTFOCUS]);\n                            }\n                        }\n                        if (!_this.isMobile) {\n                            if (!isNullOrUndefined(_this.leftKeyboardModule) && !isNullOrUndefined(_this.rightKeyboardModule)) {\n                                _this.leftKeyboardModule.destroy();\n                                _this.rightKeyboardModule.destroy();\n                            }\n                            if (!isNullOrUndefined(_this.presetElement)) {\n                                _this.presetKeyboardModule.destroy();\n                            }\n                            if (!isNullOrUndefined(_this.cancelButton)) {\n                                _this.btnKeyboardModule.destroy();\n                            }\n                        }\n                        _this.targetElement = null;\n                        removeClass([document.body], OVERFLOW);\n                        EventHandler.remove(document, 'mousedown touchstart', _this.documentHandler);\n                        if (_this.isMobile && _this.modal) {\n                            _this.modal.style.display = 'none';\n                            _this.modal.outerHTML = '';\n                            _this.modal = null;\n                        }\n                        if (_this.isMobile || Browser.isDevice) {\n                            if (!isNullOrUndefined(_this.mobileRangePopupWrap)) {\n                                _this.mobileRangePopupWrap.remove();\n                                _this.mobileRangePopupWrap = null;\n                            }\n                        }\n                        _this.isKeyPopup = _this.dateDisabled = false;\n                    }\n                    else {\n                        removeClass([_this.inputWrapper.buttons[0]], ACTIVE);\n                    }\n                    _this.updateClearIconState();\n                    _this.updateHiddenInput();\n                    if (_this.isMobile && _this.allowEdit && !_this.readonly) {\n                        _this.inputElement.removeAttribute('readonly');\n                    }\n                });\n            }\n        }\n        else {\n            this.updateClearIconState();\n            this.updateHiddenInput();\n            if (this.isMobile && this.allowEdit && !this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n    };\n    DateRangePicker.prototype.setLocale = function () {\n        this.globalize = new Internationalization(this.locale);\n        this.l10n.setLocale(this.locale);\n        this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n        Input.setPlaceholder(this.placeholder, this.inputElement);\n        this.updateInput();\n        this.updateHiddenInput();\n        this.changeTrigger();\n    };\n    DateRangePicker.prototype.refreshChange = function () {\n        this.checkView();\n        this.refreshControl();\n        this.changeTrigger();\n    };\n    DateRangePicker.prototype.setDate = function () {\n        Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n        this.refreshChange();\n    };\n    DateRangePicker.prototype.enableInput = function () {\n        if (+this.min <= +this.max) {\n            this.setProperties({ enabled: true }, true);\n            Input.setEnabled(this.enabled, this.inputElement);\n            if (this.element.hasAttribute('disabled')) {\n                this.bindEvents();\n            }\n        }\n    };\n    DateRangePicker.prototype.clearModelvalue = function (newProp, oldProp) {\n        this.setProperties({ startDate: null }, true);\n        this.setProperties({ endDate: null }, true);\n        if (oldProp.value && oldProp.value.length > 0) {\n            this.setProperties({ value: null }, true);\n        }\n        else if (oldProp.value && oldProp.value.start) {\n            this.setProperties({ value: { start: null, end: null } }, true);\n        }\n        else if (oldProp.value && !oldProp.value.start) {\n            this.setProperties({ value: { start: null, end: null } }, true);\n        }\n        this.updateValue();\n        this.setDate();\n    };\n    DateRangePicker.prototype.createHiddenInput = function () {\n        if (isNullOrUndefined(this.firstHiddenChild) && isNullOrUndefined(this.secondHiddenChild)) {\n            this.firstHiddenChild = this.createElement('input');\n            this.secondHiddenChild = this.createElement('input');\n        }\n        if (!isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n            this.inputElement.setAttribute('data-name', this.inputElement.getAttribute('name'));\n            this.inputElement.removeAttribute('name');\n        }\n        attributes(this.firstHiddenChild, {\n            'type': 'text', 'name': this.inputElement.getAttribute('data-name'), 'class': HIDDENELEMENT\n        });\n        attributes(this.secondHiddenChild, {\n            'type': 'text', 'name': this.inputElement.getAttribute('data-name'), 'class': HIDDENELEMENT\n        });\n        var format = { type: 'datetime', skeleton: 'yMd' };\n        this.firstHiddenChild.value = this.startDate && this.globalize.formatDate(this.startDate, format);\n        this.secondHiddenChild.value = this.endDate && this.globalize.formatDate(this.endDate, format);\n        this.inputElement.parentElement.appendChild(this.firstHiddenChild);\n        this.inputElement.parentElement.appendChild(this.secondHiddenChild);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * returns void\n     * @private\n     */\n    // tslint:disable-next-line:max-func-body-length\n    DateRangePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var format = { format: this.formatString, type: 'date', skeleton: 'yMd' };\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            this.hide(null);\n            switch (prop) {\n                case 'width':\n                    this.setEleWidth(this.width);\n                    break;\n                case 'separator':\n                    this.previousEleValue = this.inputElement.value;\n                    this.setProperties({ separator: newProp.separator }, true);\n                    this.updateInput();\n                    this.changeTrigger();\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputElement);\n                    this.setProperties({ placeholder: newProp.placeholder }, true);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    this.inputElement.setAttribute('aria-readonly', '' + this.readonly);\n                    this.setRangeAllowEdit();\n                    break;\n                case 'cssClass':\n                    Input.setCssClass(newProp.cssClass, [this.inputWrapper.container], oldProp.cssClass);\n                    if (this.popupWrapper) {\n                        Input.setCssClass(newProp.cssClass, [this.popupWrapper], oldProp.cssClass);\n                    }\n                    break;\n                case 'enabled':\n                    this.setProperties({ enabled: newProp.enabled }, true);\n                    Input.setEnabled(this.enabled, this.inputElement);\n                    this.bindEvents();\n                    break;\n                case 'allowEdit':\n                    this.setRangeAllowEdit();\n                    break;\n                case 'enableRtl':\n                    this.setProperties({ enableRtl: newProp.enableRtl }, true);\n                    Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    break;\n                case 'format':\n                    this.setProperties({ format: newProp.format }, true);\n                    this.checkFormat();\n                    this.updateInput();\n                    this.changeTrigger();\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n                    Input.setPlaceholder(this.placeholder, this.inputElement);\n                    this.setLocale();\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToElement();\n                    this.updateHtmlAttributeToWrapper();\n                    this.setDataAttribute(true);\n                    this.checkHtmlAttributes(true);\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n                    this.bindClearEvent();\n                    break;\n                case 'startDate':\n                    if (typeof newProp.startDate === 'string') {\n                        newProp.startDate = this.globalize.parseDate(newProp.startDate, format);\n                    }\n                    if (+this.initStartDate !== +newProp.startDate) {\n                        this.startValue = this.checkDateValue(new Date(this.checkValue(newProp.startDate)));\n                        this.setDate();\n                        this.setValue();\n                    }\n                    break;\n                case 'endDate':\n                    if (typeof newProp.endDate === 'string') {\n                        newProp.endDate = this.globalize.parseDate(newProp.endDate, format);\n                    }\n                    if (+this.initEndDate !== +newProp.endDate) {\n                        this.endValue = this.checkDateValue(new Date(this.checkValue(newProp.endDate)));\n                        this.setDate();\n                        this.setValue();\n                    }\n                    break;\n                case 'value':\n                    this.invalidValueString = null;\n                    this.checkInvalidRange(newProp.value);\n                    if (typeof (newProp.value) === 'string') {\n                        if (!this.invalidValueString) {\n                            var rangeArray = newProp.value.split(' ' + this.separator + ' ');\n                            this.value = [new Date(rangeArray[0]), new Date(rangeArray[1])];\n                            this.updateValue();\n                            this.setDate();\n                        }\n                        else {\n                            this.clearModelvalue(newProp, oldProp);\n                        }\n                    }\n                    else {\n                        if ((!isNullOrUndefined(newProp.value) && newProp.value.length > 0)\n                            || !isNullOrUndefined(newProp.value) && newProp.value.start) {\n                            this.valueType = newProp.value;\n                            if (newProp.value[0] === null || (newProp.value.start === null)) {\n                                if (newProp.value.length === 1 || (newProp.value.start)) {\n                                    this.clearModelvalue(newProp, oldProp);\n                                }\n                                else if (newProp.value[1] === null ||\n                                    (newProp.value.start === null)) {\n                                    this.clearModelvalue(newProp, oldProp);\n                                }\n                            }\n                            else if ((+this.initStartDate !== +newProp.value[0]\n                                || +this.initEndDate !== +newProp.value[1]) ||\n                                (+this.initStartDate !== +(newProp.value.start\n                                    || +this.initEndDate !== +newProp.value.start))) {\n                                if (newProp.value.length === 1) {\n                                    this.modelValue = newProp.value;\n                                }\n                                else if (newProp.value.start) {\n                                    this.modelValue = newProp.value;\n                                }\n                                this.updateValue();\n                                this.setDate();\n                            }\n                        }\n                        else {\n                            if (isNullOrUndefined(this.value)\n                                || newProp.value.start == null) {\n                                this.valueType = newProp.value;\n                                this.startValue = null;\n                                this.endValue = null;\n                                this.clearModelvalue(newProp, oldProp);\n                            }\n                        }\n                    }\n                    break;\n                case 'minDays':\n                    this.setProperties({ minDays: newProp.minDays }, true);\n                    this.refreshChange();\n                    break;\n                case 'maxDays':\n                    this.setProperties({ maxDays: newProp.maxDays }, true);\n                    this.refreshChange();\n                    break;\n                case 'min':\n                    this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(newProp.min))) }, true);\n                    this.previousEleValue = this.inputElement.value;\n                    this.enableInput();\n                    this.refreshChange();\n                    break;\n                case 'max':\n                    this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(newProp.max))) }, true);\n                    this.enableInput();\n                    this.refreshChange();\n                    break;\n                case 'strictMode':\n                    this.invalidValueString = null;\n                    this.setProperties({ strictMode: newProp.strictMode }, true);\n                    this.refreshChange();\n                    break;\n                case 'presets':\n                    this.setProperties({ presets: newProp.presets }, true);\n                    this.processPresets();\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n                    break;\n                case 'start':\n                    this.setProperties({ start: newProp.start }, true);\n                    this.refreshChange();\n                    break;\n                case 'depth':\n                    this.setProperties({ depth: newProp.depth }, true);\n                    this.refreshChange();\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property(null)\n    ], DateRangePicker.prototype, \"value\", void 0);\n    __decorate([\n        Property(false)\n    ], DateRangePicker.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(new Date(1900, 0, 1))\n    ], DateRangePicker.prototype, \"min\", void 0);\n    __decorate([\n        Property(new Date(2099, 11, 31))\n    ], DateRangePicker.prototype, \"max\", void 0);\n    __decorate([\n        Property(null)\n    ], DateRangePicker.prototype, \"locale\", void 0);\n    __decorate([\n        Property(null)\n    ], DateRangePicker.prototype, \"firstDayOfWeek\", void 0);\n    __decorate([\n        Property(false)\n    ], DateRangePicker.prototype, \"weekNumber\", void 0);\n    __decorate([\n        Property('Gregorian')\n    ], DateRangePicker.prototype, \"calendarMode\", void 0);\n    __decorate([\n        Event()\n    ], DateRangePicker.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], DateRangePicker.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], DateRangePicker.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], DateRangePicker.prototype, \"cleared\", void 0);\n    __decorate([\n        Event()\n    ], DateRangePicker.prototype, \"navigated\", void 0);\n    __decorate([\n        Event()\n    ], DateRangePicker.prototype, \"renderDayCell\", void 0);\n    __decorate([\n        Property(null)\n    ], DateRangePicker.prototype, \"startDate\", void 0);\n    __decorate([\n        Property(null)\n    ], DateRangePicker.prototype, \"endDate\", void 0);\n    __decorate([\n        Collection([{}], Presets)\n    ], DateRangePicker.prototype, \"presets\", void 0);\n    __decorate([\n        Property('')\n    ], DateRangePicker.prototype, \"width\", void 0);\n    __decorate([\n        Property(1000)\n    ], DateRangePicker.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(true)\n    ], DateRangePicker.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(true)\n    ], DateRangePicker.prototype, \"showTodayButton\", void 0);\n    __decorate([\n        Property('Month')\n    ], DateRangePicker.prototype, \"start\", void 0);\n    __decorate([\n        Property('Month')\n    ], DateRangePicker.prototype, \"depth\", void 0);\n    __decorate([\n        Property('')\n    ], DateRangePicker.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('-')\n    ], DateRangePicker.prototype, \"separator\", void 0);\n    __decorate([\n        Property(null)\n    ], DateRangePicker.prototype, \"minDays\", void 0);\n    __decorate([\n        Property(null)\n    ], DateRangePicker.prototype, \"maxDays\", void 0);\n    __decorate([\n        Property(false)\n    ], DateRangePicker.prototype, \"strictMode\", void 0);\n    __decorate([\n        Property(null)\n    ], DateRangePicker.prototype, \"keyConfigs\", void 0);\n    __decorate([\n        Property(null)\n    ], DateRangePicker.prototype, \"format\", void 0);\n    __decorate([\n        Property(true)\n    ], DateRangePicker.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], DateRangePicker.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(true)\n    ], DateRangePicker.prototype, \"allowEdit\", void 0);\n    __decorate([\n        Property('Never')\n    ], DateRangePicker.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], DateRangePicker.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property({})\n    ], DateRangePicker.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Event()\n    ], DateRangePicker.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DateRangePicker.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DateRangePicker.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], DateRangePicker.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], DateRangePicker.prototype, \"blur\", void 0);\n    DateRangePicker = __decorate([\n        NotifyPropertyChanges\n    ], DateRangePicker);\n    return DateRangePicker;\n}(CalendarBase));\nexport { DateRangePicker };\n"]},"metadata":{},"sourceType":"module"}