{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { remove, extend } from '@syncfusion/ej2-base';\nimport { FreezeContentRender, FreezeRender } from './freeze-renderer';\nimport { VirtualContentRenderer, VirtualHeaderRenderer } from './virtual-content-renderer';\nimport { FreezeRowModelGenerator } from '../services/freeze-row-model-generator';\nimport * as events from '../base/constant';\n/**\n * VirtualFreezeRenderer is used to render the virtual table within the frozen table\n * @hidden\n */\n\nvar VirtualFreezeRenderer =\n/** @class */\nfunction (_super) {\n  __extends(VirtualFreezeRenderer, _super);\n\n  function VirtualFreezeRenderer(parent, locator) {\n    var _this = _super.call(this, parent, locator) || this;\n\n    _this.serviceLoc = locator;\n    return _this;\n  }\n  /**\n   * @hidden\n   */\n\n\n  VirtualFreezeRenderer.prototype.renderTable = function () {\n    this.freezeRowGenerator = new FreezeRowModelGenerator(this.parent);\n    this.virtualRenderer = new VirtualContentRenderer(this.parent, this.serviceLoc);\n    this.virtualRenderer.setPanel(this.parent.getContent());\n    this.virtualRenderer.renderTable();\n    var virtualTable = this.parent.getContent().querySelector('.e-virtualtable');\n    var virtualTrack = this.parent.getContent().querySelector('.e-virtualtrack');\n    virtualTrack.style.position = '';\n    this.getFrozenContent().appendChild(virtualTable);\n    this.getFrozenContent().appendChild(virtualTrack);\n    var mTbl = virtualTable.cloneNode(true);\n    var mTblT = virtualTrack.cloneNode(true);\n    this.getMovableContent().appendChild(mTbl);\n    this.getMovableContent().appendChild(mTblT);\n    remove(this.getMovableContent().querySelector('colgroup'));\n    var colGroup = this.parent.getMovableVirtualHeader().querySelector('colgroup').cloneNode(true);\n    mTbl.firstElementChild.insertBefore(colGroup, mTbl.firstElementChild.querySelector('tbody'));\n    this.setTable(this.parent.element.querySelector('.e-frozencontent').querySelector('.e-table'));\n  };\n  /**\n   * @hidden\n   */\n\n\n  VirtualFreezeRenderer.prototype.appendContent = function (target, newChild, e) {\n    this.virtualRenderer.appendContent(target, newChild, e);\n  };\n  /**\n   * @hidden\n   */\n\n\n  VirtualFreezeRenderer.prototype.generateRows = function (data, notifyArgs) {\n    var isSplit = false;\n    var virtualRows = this.virtualRenderer.vgenerator.generateRows(data, notifyArgs);\n    var arr = [];\n    arr = virtualRows.map(function (row) {\n      return extend({}, row);\n    });\n\n    if (this.parent.enableColumnVirtualization && this.parent.getFrozenColumns() && notifyArgs.renderMovableContent) {\n      var left = this.parent.getMovableVirtualContent().scrollLeft;\n      isSplit = notifyArgs.requestType === 'virtualscroll' && left > 0 && notifyArgs.virtualInfo.columnIndexes[0] !== 0;\n    }\n\n    var rows = this.freezeRowGenerator.generateRows(data, notifyArgs, arr);\n    return isSplit ? virtualRows : rows;\n  };\n  /**\n   * @hidden\n   */\n\n\n  VirtualFreezeRenderer.prototype.getRowByIndex = function (index) {\n    return this.virtualRenderer.getRowByIndex(index);\n  };\n  /**\n   * @hidden\n   */\n\n\n  VirtualFreezeRenderer.prototype.getMovableRowByIndex = function (index) {\n    return this.virtualRenderer.getMovableVirtualRowByIndex(index);\n  };\n  /**\n   * @hidden\n   */\n\n\n  VirtualFreezeRenderer.prototype.getMovableRows = function () {\n    return this.virtualRenderer.vgenerator.getRows();\n  };\n  /**\n   * @hidden\n   */\n\n\n  VirtualFreezeRenderer.prototype.getRows = function () {\n    return this.getMovableRows();\n  };\n  /**\n   * @hidden\n   */\n\n\n  VirtualFreezeRenderer.prototype.getColGroup = function () {\n    var colGroup = this.parent.getMovableVirtualContent().querySelector('colgroup');\n    return colGroup;\n  };\n\n  return VirtualFreezeRenderer;\n}(FreezeContentRender);\n\nexport { VirtualFreezeRenderer };\n\nvar VirtualFreezeHdrRenderer =\n/** @class */\nfunction (_super) {\n  __extends(VirtualFreezeHdrRenderer, _super);\n\n  function VirtualFreezeHdrRenderer(parent, locator) {\n    var _this = _super.call(this, parent, locator) || this;\n\n    _this.serviceLoc = locator;\n    return _this;\n  }\n  /**\n   * @hidden\n   */\n\n\n  VirtualFreezeHdrRenderer.prototype.renderTable = function () {\n    this.virtualHdrRenderer = new VirtualHeaderRenderer(this.parent, this.serviceLoc);\n    this.virtualEle = this.virtualHdrRenderer.virtualEle;\n    this.virtualHdrRenderer.setPanel(this.parent.getHeaderContent());\n    this.virtualHdrRenderer.renderTable();\n    this.rfhMovable();\n    this.updateColgroup();\n    this.initializeHeaderDrag();\n    this.initializeHeaderDrop();\n    this.setTable(this.parent.element.querySelector('.e-frozenheader').querySelector('.e-table'));\n    this.parent.notify(events.headerRefreshed, {\n      rows: this.rows,\n      args: {\n        isFrozen: false\n      }\n    });\n  };\n\n  VirtualFreezeHdrRenderer.prototype.rfhMovable = function () {\n    var fvTbl = this.parent.getHeaderContent().querySelector('.e-virtualtable');\n    var fvTck = this.parent.getHeaderContent().querySelector('.e-virtualtrack');\n    this.getFrozenHeader().appendChild(fvTbl);\n    this.getFrozenHeader().appendChild(fvTck);\n    this.virtualHdrRenderer.virtualEle.table = this.createTable();\n    this.virtualHdrRenderer.virtualEle.renderWrapper();\n    this.virtualHdrRenderer.virtualEle.renderPlaceHolder();\n    var mvTbl = [].slice.call(this.parent.getHeaderContent().querySelectorAll('.e-virtualtable'));\n    var mvTck = [].slice.call(this.parent.getHeaderContent().querySelectorAll('.e-virtualtrack'));\n    this.getMovableHeader().appendChild(mvTbl[1]);\n    this.getMovableHeader().appendChild(mvTck[1]);\n  };\n  /**\n   * @hidden\n   */\n\n\n  VirtualFreezeHdrRenderer.prototype.getTable = function () {\n    return this.virtualHdrRenderer.getTable();\n  };\n\n  return VirtualFreezeHdrRenderer;\n}(FreezeRender);\n\nexport { VirtualFreezeHdrRenderer };","map":{"version":3,"sources":["C:/CN2/workspace-trunk/kain-front-end/node_modules/@syncfusion/ej2-grids/src/grid/renderer/virtual-freeze-renderer.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","remove","extend","FreezeContentRender","FreezeRender","VirtualContentRenderer","VirtualHeaderRenderer","FreezeRowModelGenerator","events","VirtualFreezeRenderer","_super","parent","locator","_this","call","serviceLoc","renderTable","freezeRowGenerator","virtualRenderer","setPanel","getContent","virtualTable","querySelector","virtualTrack","style","position","getFrozenContent","appendChild","mTbl","cloneNode","mTblT","getMovableContent","colGroup","getMovableVirtualHeader","firstElementChild","insertBefore","setTable","element","appendContent","target","newChild","e","generateRows","data","notifyArgs","isSplit","virtualRows","vgenerator","arr","map","row","enableColumnVirtualization","getFrozenColumns","renderMovableContent","left","getMovableVirtualContent","scrollLeft","requestType","virtualInfo","columnIndexes","rows","getRowByIndex","index","getMovableRowByIndex","getMovableVirtualRowByIndex","getMovableRows","getRows","getColGroup","VirtualFreezeHdrRenderer","virtualHdrRenderer","virtualEle","getHeaderContent","rfhMovable","updateColgroup","initializeHeaderDrag","initializeHeaderDrop","notify","headerRefreshed","args","isFrozen","fvTbl","fvTck","getFrozenHeader","table","createTable","renderWrapper","renderPlaceHolder","mvTbl","slice","querySelectorAll","mvTck","getMovableHeader","getTable"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { remove, extend } from '@syncfusion/ej2-base';\nimport { FreezeContentRender, FreezeRender } from './freeze-renderer';\nimport { VirtualContentRenderer, VirtualHeaderRenderer } from './virtual-content-renderer';\nimport { FreezeRowModelGenerator } from '../services/freeze-row-model-generator';\nimport * as events from '../base/constant';\n/**\n * VirtualFreezeRenderer is used to render the virtual table within the frozen table\n * @hidden\n */\nvar VirtualFreezeRenderer = /** @class */ (function (_super) {\n    __extends(VirtualFreezeRenderer, _super);\n    function VirtualFreezeRenderer(parent, locator) {\n        var _this = _super.call(this, parent, locator) || this;\n        _this.serviceLoc = locator;\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    VirtualFreezeRenderer.prototype.renderTable = function () {\n        this.freezeRowGenerator = new FreezeRowModelGenerator(this.parent);\n        this.virtualRenderer = new VirtualContentRenderer(this.parent, this.serviceLoc);\n        this.virtualRenderer.setPanel(this.parent.getContent());\n        this.virtualRenderer.renderTable();\n        var virtualTable = this.parent.getContent().querySelector('.e-virtualtable');\n        var virtualTrack = this.parent.getContent().querySelector('.e-virtualtrack');\n        virtualTrack.style.position = '';\n        this.getFrozenContent().appendChild(virtualTable);\n        this.getFrozenContent().appendChild(virtualTrack);\n        var mTbl = virtualTable.cloneNode(true);\n        var mTblT = virtualTrack.cloneNode(true);\n        this.getMovableContent().appendChild(mTbl);\n        this.getMovableContent().appendChild(mTblT);\n        remove(this.getMovableContent().querySelector('colgroup'));\n        var colGroup = this.parent.getMovableVirtualHeader().querySelector('colgroup')\n            .cloneNode(true);\n        mTbl.firstElementChild.insertBefore(colGroup, mTbl.firstElementChild.querySelector('tbody'));\n        this.setTable(this.parent.element.querySelector('.e-frozencontent').querySelector('.e-table'));\n    };\n    /**\n     * @hidden\n     */\n    VirtualFreezeRenderer.prototype.appendContent = function (target, newChild, e) {\n        this.virtualRenderer.appendContent(target, newChild, e);\n    };\n    /**\n     * @hidden\n     */\n    VirtualFreezeRenderer.prototype.generateRows = function (data, notifyArgs) {\n        var isSplit = false;\n        var virtualRows = this.virtualRenderer.vgenerator.generateRows(data, notifyArgs);\n        var arr = [];\n        arr = virtualRows.map(function (row) { return extend({}, row); });\n        if (this.parent.enableColumnVirtualization && this.parent.getFrozenColumns() && notifyArgs.renderMovableContent) {\n            var left = this.parent.getMovableVirtualContent().scrollLeft;\n            isSplit = notifyArgs.requestType === 'virtualscroll' && left > 0 && notifyArgs.virtualInfo.columnIndexes[0] !== 0;\n        }\n        var rows = this.freezeRowGenerator.generateRows(data, notifyArgs, arr);\n        return isSplit ? virtualRows : rows;\n    };\n    /**\n     * @hidden\n     */\n    VirtualFreezeRenderer.prototype.getRowByIndex = function (index) {\n        return this.virtualRenderer.getRowByIndex(index);\n    };\n    /**\n     * @hidden\n     */\n    VirtualFreezeRenderer.prototype.getMovableRowByIndex = function (index) {\n        return this.virtualRenderer.getMovableVirtualRowByIndex(index);\n    };\n    /**\n     * @hidden\n     */\n    VirtualFreezeRenderer.prototype.getMovableRows = function () {\n        return this.virtualRenderer.vgenerator.getRows();\n    };\n    /**\n     * @hidden\n     */\n    VirtualFreezeRenderer.prototype.getRows = function () {\n        return this.getMovableRows();\n    };\n    /**\n     * @hidden\n     */\n    VirtualFreezeRenderer.prototype.getColGroup = function () {\n        var colGroup = this.parent.getMovableVirtualContent().querySelector('colgroup');\n        return colGroup;\n    };\n    return VirtualFreezeRenderer;\n}(FreezeContentRender));\nexport { VirtualFreezeRenderer };\nvar VirtualFreezeHdrRenderer = /** @class */ (function (_super) {\n    __extends(VirtualFreezeHdrRenderer, _super);\n    function VirtualFreezeHdrRenderer(parent, locator) {\n        var _this = _super.call(this, parent, locator) || this;\n        _this.serviceLoc = locator;\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    VirtualFreezeHdrRenderer.prototype.renderTable = function () {\n        this.virtualHdrRenderer = new VirtualHeaderRenderer(this.parent, this.serviceLoc);\n        this.virtualEle = this.virtualHdrRenderer.virtualEle;\n        this.virtualHdrRenderer.setPanel(this.parent.getHeaderContent());\n        this.virtualHdrRenderer.renderTable();\n        this.rfhMovable();\n        this.updateColgroup();\n        this.initializeHeaderDrag();\n        this.initializeHeaderDrop();\n        this.setTable(this.parent.element.querySelector('.e-frozenheader').querySelector('.e-table'));\n        this.parent.notify(events.headerRefreshed, { rows: this.rows, args: { isFrozen: false } });\n    };\n    VirtualFreezeHdrRenderer.prototype.rfhMovable = function () {\n        var fvTbl = this.parent.getHeaderContent().querySelector('.e-virtualtable');\n        var fvTck = this.parent.getHeaderContent().querySelector('.e-virtualtrack');\n        this.getFrozenHeader().appendChild(fvTbl);\n        this.getFrozenHeader().appendChild(fvTck);\n        this.virtualHdrRenderer.virtualEle.table = this.createTable();\n        this.virtualHdrRenderer.virtualEle.renderWrapper();\n        this.virtualHdrRenderer.virtualEle.renderPlaceHolder();\n        var mvTbl = [].slice.call(this.parent.getHeaderContent().querySelectorAll('.e-virtualtable'));\n        var mvTck = [].slice.call(this.parent.getHeaderContent().querySelectorAll('.e-virtualtrack'));\n        this.getMovableHeader().appendChild(mvTbl[1]);\n        this.getMovableHeader().appendChild(mvTck[1]);\n    };\n    /**\n     * @hidden\n     */\n    VirtualFreezeHdrRenderer.prototype.getTable = function () {\n        return this.virtualHdrRenderer.getTable();\n    };\n    return VirtualFreezeHdrRenderer;\n}(FreezeRender));\nexport { VirtualFreezeHdrRenderer };\n"]},"metadata":{},"sourceType":"module"}