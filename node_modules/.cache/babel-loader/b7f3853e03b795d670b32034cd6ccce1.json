{"ast":null,"code":"import { isNullOrUndefined, addClass, extend, closest, updateBlazorTemplate, isBlazor } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { appendChildren } from '../base/util';\n/**\n * Edit render module is used to render grid edit row.\n * @hidden\n */\n\nvar InlineEditRender =\n/** @class */\nfunction () {\n  /**\n   * Constructor for render module\n   */\n  function InlineEditRender(parent) {\n    this.parent = parent;\n  }\n\n  InlineEditRender.prototype.addNew = function (elements, args) {\n    this.isEdit = false;\n    var mTbody;\n    var tbody;\n\n    if (this.parent.frozenRows && this.parent.editSettings.newRowPosition === 'Top') {\n      tbody = this.parent.getHeaderContent().querySelector('tbody');\n    } else {\n      tbody = this.parent.getContentTable().querySelector('tbody');\n    }\n\n    args.row = this.parent.createElement('tr', {\n      className: 'e-row e-addedrow'\n    });\n\n    if (tbody.querySelector('.e-emptyrow')) {\n      tbody.querySelector('.e-emptyrow').remove();\n    }\n\n    this.parent.editSettings.newRowPosition === 'Top' ? tbody.insertBefore(args.row, tbody.firstChild) : tbody.appendChild(args.row);\n    args.row.appendChild(this.getEditElement(elements, false, undefined, args, true));\n    this.parent.editModule.checkLastRow(args.row, args);\n\n    if (this.parent.getFrozenColumns()) {\n      var mEle = this.renderMovableform(args.row, args);\n\n      if (this.parent.frozenRows && this.parent.editSettings.newRowPosition === 'Top') {\n        mTbody = this.parent.getHeaderContent().querySelector('.e-movableheader').querySelector('tbody');\n      } else {\n        mTbody = this.parent.getContent().querySelector('.e-movablecontent').querySelector('tbody');\n      }\n\n      this.parent.editSettings.newRowPosition === 'Top' ? mTbody.insertBefore(mEle, mTbody.firstChild) : mTbody.appendChild(mEle);\n      args.row.querySelector('.e-normaledit').setAttribute('colspan', this.parent.getVisibleFrozenColumns() + '');\n      mEle.setAttribute('colspan', '' + (this.parent.getVisibleColumns().length - this.parent.getVisibleFrozenColumns()));\n\n      if (this.parent.height === 'auto') {\n        this.parent.notify(events.frozenHeight, {});\n      }\n    }\n  };\n\n  InlineEditRender.prototype.renderMovableform = function (ele, args) {\n    var mEle = ele.cloneNode(true);\n    var form = args.movableForm = mEle.querySelector('form');\n\n    if (this.parent.editSettings.template) {\n      form.innerHTML = '';\n      this.appendChildren(form, args.rowData, false);\n      return mEle;\n    }\n\n    this.renderMovable(ele, mEle);\n    mEle.querySelector('colgroup').innerHTML = this.parent.getHeaderContent().querySelector('.e-movableheader').querySelector('colgroup').innerHTML;\n    return mEle;\n  };\n\n  InlineEditRender.prototype.updateFreezeEdit = function (row, td) {\n    td = td.concat([].slice.call(this.getFreezeRow(row).querySelectorAll('td.e-rowcell')));\n    return td;\n  };\n\n  InlineEditRender.prototype.getFreezeRow = function (row) {\n    if (this.parent.getFrozenColumns()) {\n      var idx = parseInt(row.getAttribute('aria-rowindex'), 10);\n      var fCont = this.parent.getContent().querySelector('.e-frozencontent').querySelector('tbody');\n      var mCont = this.parent.getContent().querySelector('.e-movablecontent').querySelector('tbody');\n      var fHdr = this.parent.getHeaderContent().querySelector('.e-frozenheader').querySelector('tbody');\n      var mHdr = this.parent.getHeaderContent().querySelector('.e-movableheader').querySelector('tbody');\n\n      if (this.parent.frozenRows && idx >= this.parent.frozenRows) {\n        idx -= this.parent.frozenRows;\n      }\n\n      if (fCont.contains(row)) {\n        return mCont.children[idx];\n      } else if (mCont.contains(row)) {\n        return fCont.children[idx];\n      } else if (fHdr.contains(row)) {\n        return mHdr.children[idx];\n      } else if (mHdr.contains(row)) {\n        return fHdr.children[idx];\n      }\n    }\n\n    return row;\n  };\n\n  InlineEditRender.prototype.update = function (elements, args) {\n    this.isEdit = true;\n    var cloneRow = 'cloneRow';\n\n    if (closest(args.row, '.e-movablecontent')) {\n      args.row = this.getFreezeRow(args.row);\n\n      if (isBlazor() && this.parent.isServerRendered) {\n        args[cloneRow] = args.row.cloneNode(true);\n      }\n    }\n\n    if (isBlazor() && this.parent.isServerRendered) {\n      args.row.parentNode.insertBefore(args[cloneRow], args.row);\n      args.row.classList.add('e-hiddenrow');\n      var tdElement = [].slice.call(args[cloneRow].querySelectorAll('td.e-rowcell'));\n      args[cloneRow].innerHTML = '';\n      tdElement = this.updateFreezeEdit(args[cloneRow], tdElement);\n      args[cloneRow].appendChild(this.getEditElement(elements, true, tdElement, args, true));\n      args[cloneRow].classList.add('e-editedrow');\n      this.refreshFreezeEdit(args[cloneRow], args);\n    } else {\n      var tdElement = [].slice.call(args.row.querySelectorAll('td.e-rowcell'));\n      args.row.innerHTML = '';\n      tdElement = this.updateFreezeEdit(args.row, tdElement);\n      args.row.appendChild(this.getEditElement(elements, true, tdElement, args, true));\n      args.row.classList.add('e-editedrow');\n      this.parent.editModule.checkLastRow(args.row, args);\n      this.refreshFreezeEdit(args.row, args);\n    }\n  };\n\n  InlineEditRender.prototype.refreshFreezeEdit = function (row, args) {\n    var td = row.firstChild;\n    var fCls;\n    var cont;\n    var frozen = 'frozen';\n    var cloneFrozen = 'cloneFrozen';\n    var idx = parseInt(row.getAttribute('aria-rowindex'), 10);\n\n    if (this.parent.getFrozenColumns()) {\n      if (idx < this.parent.frozenRows) {\n        cont = this.parent.getHeaderContent();\n        fCls = '.e-frozenheader';\n      } else {\n        cont = this.parent.getContent();\n        fCls = '.e-frozencontent';\n      }\n\n      var mTd = td.cloneNode(true);\n      var form = args.movableForm = mTd.querySelector('form');\n\n      if (this.parent.editSettings.template) {\n        form.innerHTML = '';\n        this.appendChildren(form, args.rowData, false);\n      }\n\n      var fRows = void 0;\n\n      if (cont.querySelector(fCls).contains(row)) {\n        fRows = this.parent.getMovableRowByIndex(idx);\n\n        if (isBlazor() && this.parent.isServerRendered) {\n          args[frozen] = fRows;\n          args[cloneFrozen] = fRows.cloneNode(true);\n          fRows.classList.add('e-hiddenrow');\n          fRows.parentNode.insertBefore(args[cloneFrozen], fRows);\n          this.updateFrozenCont(args[cloneFrozen], td, mTd);\n        } else {\n          this.updateFrozenCont(fRows, td, mTd);\n        }\n      } else {\n        fRows = this.parent.getRowByIndex(idx);\n\n        if (isBlazor() && this.parent.isServerRendered) {\n          args[frozen] = fRows;\n          args[cloneFrozen] = fRows.cloneNode(true);\n          fRows.parentNode.insertBefore(args[cloneFrozen], fRows);\n          fRows.classList.add('e-hiddenrow');\n          this.updateFrozenCont(args[cloneFrozen], mTd, td);\n        } else {\n          this.updateFrozenCont(fRows, mTd, td);\n        }\n      }\n\n      if (isBlazor() && this.parent.isServerRendered) {\n        args[cloneFrozen].appendChild(mTd);\n        args[cloneFrozen].classList.add('e-editedrow');\n      } else {\n        fRows.appendChild(mTd);\n        fRows.classList.add('e-editedrow');\n      }\n    }\n  };\n\n  InlineEditRender.prototype.updateFrozenCont = function (row, ele, mEle) {\n    row.innerHTML = '';\n\n    if (!this.parent.editSettings.template) {\n      this.renderMovable(ele, mEle);\n      mEle.querySelector('colgroup').innerHTML = this.parent.getHeaderContent().querySelector('.e-movableheader').querySelector('colgroup').innerHTML;\n    }\n\n    ele.setAttribute('colspan', this.parent.getVisibleFrozenColumns() + '');\n    mEle.setAttribute('colspan', this.parent.getVisibleColumns().length - this.parent.getVisibleFrozenColumns() + '');\n  };\n\n  InlineEditRender.prototype.renderMovable = function (ele, mEle) {\n    var frzCols = this.parent.getFrozenColumns();\n\n    for (var i = 0; i < frzCols; i++) {\n      mEle.querySelector('tr').removeChild(mEle.querySelector('tr').children[0]);\n    }\n\n    for (var i = frzCols, len = ele.querySelector('tr').childElementCount; i < len; i++) {\n      ele.querySelector('tr').removeChild(ele.querySelector('tr').children[ele.querySelector('tr').childElementCount - 1]);\n    }\n  };\n\n  InlineEditRender.prototype.getEditElement = function (elements, isEdit, tdElement, args, isFrozen) {\n    var gObj = this.parent;\n    var gLen = 0;\n    var isDetail = !isNullOrUndefined(gObj.detailTemplate) || !isNullOrUndefined(gObj.childGrid) ? 1 : 0;\n    var isDragable = gObj.isRowDragable() ? 1 : 0;\n\n    if (gObj.allowGrouping) {\n      gLen = gObj.groupSettings.columns.length;\n    }\n\n    var td = this.parent.createElement('td', {\n      className: 'e-editcell e-normaledit',\n      attrs: {\n        colspan: (gObj.getVisibleColumns().length - gObj.getVisibleFrozenColumns() + gLen + isDetail + isDragable).toString()\n      }\n    });\n    var form = args.form = this.parent.createElement('form', {\n      id: gObj.element.id + 'EditForm',\n      className: 'e-gridform'\n    });\n\n    if (this.parent.editSettings.template) {\n      this.appendChildren(form, args.rowData, isFrozen);\n      td.appendChild(form);\n      return td;\n    }\n\n    var table = this.parent.createElement('table', {\n      className: 'e-table e-inline-edit',\n      attrs: {\n        cellspacing: '0.25'\n      }\n    });\n    table.appendChild(gObj.getContentTable().querySelector('colgroup').cloneNode(true));\n    var tbody = this.parent.createElement('tbody');\n    var tr = this.parent.createElement('tr');\n    var i = 0;\n\n    if (isDetail) {\n      tr.insertBefore(this.parent.createElement('td', {\n        className: 'e-detailrowcollapse'\n      }), tr.firstChild);\n    }\n\n    if (gObj.isRowDragable()) {\n      tr.appendChild(this.parent.createElement('td', {\n        className: 'e-dragindentcell'\n      }));\n    }\n\n    while (i < gLen) {\n      tr.appendChild(this.parent.createElement('td', {\n        className: 'e-indentcell'\n      }));\n      i++;\n    }\n\n    var m = 0;\n    i = 0;\n\n    while (isEdit && m < tdElement.length && i < gObj.getColumns().length || i < gObj.getColumns().length) {\n      var span = isEdit ? tdElement[m].getAttribute('colspan') : null;\n      var col = gObj.getColumns()[i];\n      var td_1 = this.parent.createElement('td', {\n        className: 'e-rowcell',\n        attrs: {\n          style: 'text-align:' + (col.textAlign ? col.textAlign : ''),\n          'colspan': span ? span : ''\n        }\n      });\n\n      if (col.visible) {\n        td_1.appendChild(elements[col.uid]);\n\n        if (col.editType === 'booleanedit') {\n          td_1.classList.add('e-boolcell');\n        } else if (col.commands || col.commandsTemplate) {\n          addClass([td_1], 'e-unboundcell');\n        }\n      } else {\n        td_1.classList.add('e-hide');\n      }\n\n      tr.appendChild(td_1);\n      i = span ? i + parseInt(span, 10) : i + 1;\n      m++;\n    }\n\n    tbody.appendChild(tr);\n    table.appendChild(tbody);\n    form.appendChild(table);\n    td.appendChild(form);\n    return td;\n  };\n\n  InlineEditRender.prototype.removeEventListener = function () {//To destroy the renderer\n  };\n\n  InlineEditRender.prototype.appendChildren = function (form, data, isFrozen) {\n    var _this = this;\n\n    var dummyData = extend({}, data, {\n      isAdd: !this.isEdit,\n      isFrozen: isFrozen\n    }, true);\n    var editTemplateID = this.parent.element.id + 'editSettingsTemplate';\n    appendChildren(form, this.parent.getEditTemplate()(dummyData, this.parent, 'editSettingsTemplate', editTemplateID));\n\n    var setRules = function () {\n      var cols = _this.parent.getColumns();\n\n      cols.forEach(function (col) {\n        if (col.validationRules) {\n          _this.parent.editModule.formObj.rules[col.field] = col.validationRules;\n        }\n      });\n    };\n\n    updateBlazorTemplate(editTemplateID, 'Template', this.parent.editSettings, true, setRules);\n  };\n\n  return InlineEditRender;\n}();\n\nexport { InlineEditRender };","map":{"version":3,"sources":["C:/CN2/workspace-trunk/kain-front-end/node_modules/@syncfusion/ej2-grids/src/grid/renderer/inline-edit-renderer.js"],"names":["isNullOrUndefined","addClass","extend","closest","updateBlazorTemplate","isBlazor","events","appendChildren","InlineEditRender","parent","prototype","addNew","elements","args","isEdit","mTbody","tbody","frozenRows","editSettings","newRowPosition","getHeaderContent","querySelector","getContentTable","row","createElement","className","remove","insertBefore","firstChild","appendChild","getEditElement","undefined","editModule","checkLastRow","getFrozenColumns","mEle","renderMovableform","getContent","setAttribute","getVisibleFrozenColumns","getVisibleColumns","length","height","notify","frozenHeight","ele","cloneNode","form","movableForm","template","innerHTML","rowData","renderMovable","updateFreezeEdit","td","concat","slice","call","getFreezeRow","querySelectorAll","idx","parseInt","getAttribute","fCont","mCont","fHdr","mHdr","contains","children","update","cloneRow","isServerRendered","parentNode","classList","add","tdElement","refreshFreezeEdit","fCls","cont","frozen","cloneFrozen","mTd","fRows","getMovableRowByIndex","updateFrozenCont","getRowByIndex","frzCols","i","removeChild","len","childElementCount","isFrozen","gObj","gLen","isDetail","detailTemplate","childGrid","isDragable","isRowDragable","allowGrouping","groupSettings","columns","attrs","colspan","toString","id","element","table","cellspacing","tr","m","getColumns","span","col","td_1","style","textAlign","visible","uid","editType","commands","commandsTemplate","removeEventListener","data","_this","dummyData","isAdd","editTemplateID","getEditTemplate","setRules","cols","forEach","validationRules","formObj","rules","field"],"mappings":"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","sourcesContent":["import { isNullOrUndefined, addClass, extend, closest, updateBlazorTemplate, isBlazor } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { appendChildren } from '../base/util';\n/**\n * Edit render module is used to render grid edit row.\n * @hidden\n */\nvar InlineEditRender = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     */\n    function InlineEditRender(parent) {\n        this.parent = parent;\n    }\n    InlineEditRender.prototype.addNew = function (elements, args) {\n        this.isEdit = false;\n        var mTbody;\n        var tbody;\n        if (this.parent.frozenRows && this.parent.editSettings.newRowPosition === 'Top') {\n            tbody = this.parent.getHeaderContent().querySelector('tbody');\n        }\n        else {\n            tbody = this.parent.getContentTable().querySelector('tbody');\n        }\n        args.row = this.parent.createElement('tr', { className: 'e-row e-addedrow' });\n        if (tbody.querySelector('.e-emptyrow')) {\n            tbody.querySelector('.e-emptyrow').remove();\n        }\n        this.parent.editSettings.newRowPosition === 'Top' ? tbody.insertBefore(args.row, tbody.firstChild) : tbody.appendChild(args.row);\n        args.row.appendChild(this.getEditElement(elements, false, undefined, args, true));\n        this.parent.editModule.checkLastRow(args.row, args);\n        if (this.parent.getFrozenColumns()) {\n            var mEle = this.renderMovableform(args.row, args);\n            if (this.parent.frozenRows && this.parent.editSettings.newRowPosition === 'Top') {\n                mTbody = this.parent.getHeaderContent().querySelector('.e-movableheader').querySelector('tbody');\n            }\n            else {\n                mTbody = this.parent.getContent().querySelector('.e-movablecontent').querySelector('tbody');\n            }\n            this.parent.editSettings.newRowPosition === 'Top' ? mTbody.insertBefore(mEle, mTbody.firstChild) : mTbody.appendChild(mEle);\n            args.row.querySelector('.e-normaledit').setAttribute('colspan', this.parent.getVisibleFrozenColumns() + '');\n            mEle.setAttribute('colspan', '' + (this.parent.getVisibleColumns().length - this.parent.getVisibleFrozenColumns()));\n            if (this.parent.height === 'auto') {\n                this.parent.notify(events.frozenHeight, {});\n            }\n        }\n    };\n    InlineEditRender.prototype.renderMovableform = function (ele, args) {\n        var mEle = ele.cloneNode(true);\n        var form = args.movableForm = mEle.querySelector('form');\n        if (this.parent.editSettings.template) {\n            form.innerHTML = '';\n            this.appendChildren(form, args.rowData, false);\n            return mEle;\n        }\n        this.renderMovable(ele, mEle);\n        mEle.querySelector('colgroup').innerHTML = this.parent.getHeaderContent()\n            .querySelector('.e-movableheader').querySelector('colgroup').innerHTML;\n        return mEle;\n    };\n    InlineEditRender.prototype.updateFreezeEdit = function (row, td) {\n        td = td.concat([].slice.call(this.getFreezeRow(row).querySelectorAll('td.e-rowcell')));\n        return td;\n    };\n    InlineEditRender.prototype.getFreezeRow = function (row) {\n        if (this.parent.getFrozenColumns()) {\n            var idx = parseInt(row.getAttribute('aria-rowindex'), 10);\n            var fCont = this.parent.getContent().querySelector('.e-frozencontent').querySelector('tbody');\n            var mCont = this.parent.getContent().querySelector('.e-movablecontent').querySelector('tbody');\n            var fHdr = this.parent.getHeaderContent().querySelector('.e-frozenheader').querySelector('tbody');\n            var mHdr = this.parent.getHeaderContent().querySelector('.e-movableheader').querySelector('tbody');\n            if (this.parent.frozenRows && idx >= this.parent.frozenRows) {\n                idx -= this.parent.frozenRows;\n            }\n            if (fCont.contains(row)) {\n                return mCont.children[idx];\n            }\n            else if (mCont.contains(row)) {\n                return fCont.children[idx];\n            }\n            else if (fHdr.contains(row)) {\n                return mHdr.children[idx];\n            }\n            else if (mHdr.contains(row)) {\n                return fHdr.children[idx];\n            }\n        }\n        return row;\n    };\n    InlineEditRender.prototype.update = function (elements, args) {\n        this.isEdit = true;\n        var cloneRow = 'cloneRow';\n        if (closest(args.row, '.e-movablecontent')) {\n            args.row = this.getFreezeRow(args.row);\n            if (isBlazor() && this.parent.isServerRendered) {\n                args[cloneRow] = args.row.cloneNode(true);\n            }\n        }\n        if (isBlazor() && this.parent.isServerRendered) {\n            args.row.parentNode.insertBefore(args[cloneRow], args.row);\n            args.row.classList.add('e-hiddenrow');\n            var tdElement = [].slice.call(args[cloneRow].querySelectorAll('td.e-rowcell'));\n            args[cloneRow].innerHTML = '';\n            tdElement = this.updateFreezeEdit(args[cloneRow], tdElement);\n            args[cloneRow].appendChild(this.getEditElement(elements, true, tdElement, args, true));\n            args[cloneRow].classList.add('e-editedrow');\n            this.refreshFreezeEdit(args[cloneRow], args);\n        }\n        else {\n            var tdElement = [].slice.call(args.row.querySelectorAll('td.e-rowcell'));\n            args.row.innerHTML = '';\n            tdElement = this.updateFreezeEdit(args.row, tdElement);\n            args.row.appendChild(this.getEditElement(elements, true, tdElement, args, true));\n            args.row.classList.add('e-editedrow');\n            this.parent.editModule.checkLastRow(args.row, args);\n            this.refreshFreezeEdit(args.row, args);\n        }\n    };\n    InlineEditRender.prototype.refreshFreezeEdit = function (row, args) {\n        var td = row.firstChild;\n        var fCls;\n        var cont;\n        var frozen = 'frozen';\n        var cloneFrozen = 'cloneFrozen';\n        var idx = parseInt(row.getAttribute('aria-rowindex'), 10);\n        if (this.parent.getFrozenColumns()) {\n            if (idx < this.parent.frozenRows) {\n                cont = this.parent.getHeaderContent();\n                fCls = '.e-frozenheader';\n            }\n            else {\n                cont = this.parent.getContent();\n                fCls = '.e-frozencontent';\n            }\n            var mTd = td.cloneNode(true);\n            var form = args.movableForm = mTd.querySelector('form');\n            if (this.parent.editSettings.template) {\n                form.innerHTML = '';\n                this.appendChildren(form, args.rowData, false);\n            }\n            var fRows = void 0;\n            if (cont.querySelector(fCls).contains(row)) {\n                fRows = this.parent.getMovableRowByIndex(idx);\n                if (isBlazor() && this.parent.isServerRendered) {\n                    args[frozen] = fRows;\n                    args[cloneFrozen] = fRows.cloneNode(true);\n                    fRows.classList.add('e-hiddenrow');\n                    fRows.parentNode.insertBefore(args[cloneFrozen], fRows);\n                    this.updateFrozenCont(args[cloneFrozen], td, mTd);\n                }\n                else {\n                    this.updateFrozenCont(fRows, td, mTd);\n                }\n            }\n            else {\n                fRows = this.parent.getRowByIndex(idx);\n                if (isBlazor() && this.parent.isServerRendered) {\n                    args[frozen] = fRows;\n                    args[cloneFrozen] = fRows.cloneNode(true);\n                    fRows.parentNode.insertBefore(args[cloneFrozen], fRows);\n                    fRows.classList.add('e-hiddenrow');\n                    this.updateFrozenCont(args[cloneFrozen], mTd, td);\n                }\n                else {\n                    this.updateFrozenCont(fRows, mTd, td);\n                }\n            }\n            if (isBlazor() && this.parent.isServerRendered) {\n                args[cloneFrozen].appendChild(mTd);\n                args[cloneFrozen].classList.add('e-editedrow');\n            }\n            else {\n                fRows.appendChild(mTd);\n                fRows.classList.add('e-editedrow');\n            }\n        }\n    };\n    InlineEditRender.prototype.updateFrozenCont = function (row, ele, mEle) {\n        row.innerHTML = '';\n        if (!this.parent.editSettings.template) {\n            this.renderMovable(ele, mEle);\n            mEle.querySelector('colgroup').innerHTML = this.parent.getHeaderContent()\n                .querySelector('.e-movableheader').querySelector('colgroup').innerHTML;\n        }\n        ele.setAttribute('colspan', this.parent.getVisibleFrozenColumns() + '');\n        mEle.setAttribute('colspan', this.parent.getVisibleColumns().length - this.parent.getVisibleFrozenColumns() + '');\n    };\n    InlineEditRender.prototype.renderMovable = function (ele, mEle) {\n        var frzCols = this.parent.getFrozenColumns();\n        for (var i = 0; i < frzCols; i++) {\n            mEle.querySelector('tr').removeChild(mEle.querySelector('tr').children[0]);\n        }\n        for (var i = frzCols, len = ele.querySelector('tr').childElementCount; i < len; i++) {\n            ele.querySelector('tr').removeChild(ele.querySelector('tr').children[ele.querySelector('tr').childElementCount - 1]);\n        }\n    };\n    InlineEditRender.prototype.getEditElement = function (elements, isEdit, tdElement, args, isFrozen) {\n        var gObj = this.parent;\n        var gLen = 0;\n        var isDetail = !isNullOrUndefined(gObj.detailTemplate) || !isNullOrUndefined(gObj.childGrid) ? 1 : 0;\n        var isDragable = gObj.isRowDragable() ? 1 : 0;\n        if (gObj.allowGrouping) {\n            gLen = gObj.groupSettings.columns.length;\n        }\n        var td = this.parent.createElement('td', {\n            className: 'e-editcell e-normaledit',\n            attrs: { colspan: (gObj.getVisibleColumns().length - gObj.getVisibleFrozenColumns() + gLen + isDetail + isDragable).toString() }\n        });\n        var form = args.form =\n            this.parent.createElement('form', { id: gObj.element.id + 'EditForm', className: 'e-gridform' });\n        if (this.parent.editSettings.template) {\n            this.appendChildren(form, args.rowData, isFrozen);\n            td.appendChild(form);\n            return td;\n        }\n        var table = this.parent.createElement('table', { className: 'e-table e-inline-edit', attrs: { cellspacing: '0.25' } });\n        table.appendChild(gObj.getContentTable().querySelector('colgroup').cloneNode(true));\n        var tbody = this.parent.createElement('tbody');\n        var tr = this.parent.createElement('tr');\n        var i = 0;\n        if (isDetail) {\n            tr.insertBefore(this.parent.createElement('td', { className: 'e-detailrowcollapse' }), tr.firstChild);\n        }\n        if (gObj.isRowDragable()) {\n            tr.appendChild(this.parent.createElement('td', { className: 'e-dragindentcell' }));\n        }\n        while (i < gLen) {\n            tr.appendChild(this.parent.createElement('td', { className: 'e-indentcell' }));\n            i++;\n        }\n        var m = 0;\n        i = 0;\n        while ((isEdit && m < tdElement.length && i < gObj.getColumns().length) || i < gObj.getColumns().length) {\n            var span = isEdit ? tdElement[m].getAttribute('colspan') : null;\n            var col = gObj.getColumns()[i];\n            var td_1 = this.parent.createElement('td', {\n                className: 'e-rowcell', attrs: { style: 'text-align:' + (col.textAlign ? col.textAlign : ''), 'colspan': span ? span : '' }\n            });\n            if (col.visible) {\n                td_1.appendChild(elements[col.uid]);\n                if (col.editType === 'booleanedit') {\n                    td_1.classList.add('e-boolcell');\n                }\n                else if (col.commands || col.commandsTemplate) {\n                    addClass([td_1], 'e-unboundcell');\n                }\n            }\n            else {\n                td_1.classList.add('e-hide');\n            }\n            tr.appendChild(td_1);\n            i = span ? i + parseInt(span, 10) : i + 1;\n            m++;\n        }\n        tbody.appendChild(tr);\n        table.appendChild(tbody);\n        form.appendChild(table);\n        td.appendChild(form);\n        return td;\n    };\n    InlineEditRender.prototype.removeEventListener = function () {\n        //To destroy the renderer\n    };\n    InlineEditRender.prototype.appendChildren = function (form, data, isFrozen) {\n        var _this = this;\n        var dummyData = extend({}, data, { isAdd: !this.isEdit, isFrozen: isFrozen }, true);\n        var editTemplateID = this.parent.element.id + 'editSettingsTemplate';\n        appendChildren(form, this.parent.getEditTemplate()(dummyData, this.parent, 'editSettingsTemplate', editTemplateID));\n        var setRules = function () {\n            var cols = _this.parent.getColumns();\n            cols.forEach(function (col) {\n                if (col.validationRules) {\n                    _this.parent.editModule.formObj.rules[col.field] = col.validationRules;\n                }\n            });\n        };\n        updateBlazorTemplate(editTemplateID, 'Template', this.parent.editSettings, true, setRules);\n    };\n    return InlineEditRender;\n}());\nexport { InlineEditRender };\n"]},"metadata":{},"sourceType":"module"}